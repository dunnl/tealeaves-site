<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Classes.Decorated.Functor</h1>

<div class="code">
</div>

<div class="doc">
This file implements "functors decorated by type <code>E</code>" and
    proves their basic properties.  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Comonad.html#"><span class="id" title="library">Classes.Comonad</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Environment.html#"><span class="id" title="library">Functors.Environment</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Writer.html#"><span class="id" title="library">Functors.Writer</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Data.Product.html#Notations"><span class="id" title="module">Product.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Functor.html#Notations"><span class="id" title="module">Functor.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab241"></a><h1 class="section">Decorated functors</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_operations" class="idref" href="#DecoratedFunctor_operations"><span class="id" title="section">DecoratedFunctor_operations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E:1" class="idref" href="#E:1"><span class="id" title="binder">E</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:2" class="idref" href="#F:2"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="Decorate" class="idref" href="#Decorate"><span class="id" title="record">Decorate</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="dec" class="idref" href="#dec"><span class="id" title="projection">dec</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_operations.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#278ce2a34b83a8295656f6eff2db54a7"><span class="id" title="notation">⇒</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_operations.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_operations.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_operations"><span class="id" title="section">DecoratedFunctor_operations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor" class="idref" href="#DecoratedFunctor"><span class="id" title="section">DecoratedFunctor</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E:5" class="idref" href="#E:5"><span class="id" title="binder">E</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:6" class="idref" href="#F:6"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">Fmap</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:8" class="idref" href="#H0:8"><span class="id" title="binder">Decorate</span></a> <a id="H0:8" class="idref" href="#H0:8"><span class="id" title="binder">E</span></a> <a id="H0:8" class="idref" href="#H0:8"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="DecoratedFunctor" class="idref" href="#DecoratedFunctor"><span class="id" title="record">DecoratedFunctor</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a id="dfun_functor" class="idref" href="#dfun_functor"><span class="id" title="projection">dfun_functor</span></a> :&gt; <a class="idref" href="Tealeaves.Classes.Functor.html#Functor"><span class="id" title="class">Functor</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="dfun_dec_natural" class="idref" href="#dfun_dec_natural"><span class="id" title="projection">dfun_dec_natural</span></a> :&gt; <a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="dfun_dec_dec" class="idref" href="#dfun_dec_dec"><span class="id" title="projection">dfun_dec_dec</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:12" class="idref" href="#A:12"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:12"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:12"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:12"><span class="id" title="variable">A</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="dfun_dec_extract" class="idref" href="#dfun_dec_extract"><span class="id" title="projection">dfun_dec_extract</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:14" class="idref" href="#A:14"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:14"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:14"><span class="id" title="variable">A</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor"><span class="id" title="section">DecoratedFunctor</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Mark&nbsp;&lt;&lt;E&gt;&gt;&nbsp;and&nbsp;the&nbsp;type&nbsp;argument&nbsp;implicit&nbsp;*)</span><br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> {<span class="id" title="var">E</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>%<span class="id" title="var">function_scope</span> {<span class="id" title="var">Decorate</span>} {<span class="id" title="var">A</span>}%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab242"></a><h2 class="section">Decoration-preserving natural transformations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="DecoratePreservingTransformation" class="idref" href="#DecoratePreservingTransformation"><span class="id" title="record">DecoratePreservingTransformation</span></a><br/>
&nbsp;&nbsp;{<a id="F:16" class="idref" href="#F:16"><span class="id" title="binder">F</span></a> <a id="G:17" class="idref" href="#G:17"><span class="id" title="binder">G</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="Fmap0:18" class="idref" href="#Fmap0:18"><span class="id" title="binder">!</span></a> <a id="Fmap0:18" class="idref" href="#Fmap0:18"><span class="id" title="binder">Fmap</span></a> <a id="Fmap0:18" class="idref" href="#Fmap0:18"><span class="id" title="binder">F</span></a>} `{<a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">Decorate</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">E</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;`{<a id="Fmap1:21" class="idref" href="#Fmap1:21"><span class="id" title="binder">!</span></a> <a id="Fmap1:21" class="idref" href="#Fmap1:21"><span class="id" title="binder">Fmap</span></a> <a id="Fmap1:21" class="idref" href="#Fmap1:21"><span class="id" title="binder">G</span></a>} `{<a id="H0:22" class="idref" href="#H0:22"><span class="id" title="binder">Decorate</span></a> <a id="H0:22" class="idref" href="#H0:22"><span class="id" title="binder">E</span></a> <a id="H0:22" class="idref" href="#H0:22"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;(<a id="d6512886ebafe0aefa5d44eb1f64d285" class="idref" href="#d6512886ebafe0aefa5d44eb1f64d285"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#F:16"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#278ce2a34b83a8295656f6eff2db54a7"><span class="id" title="notation">⇒</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#G:17"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;{ <a id="dectrans_commute" class="idref" href="#dectrans_commute"><span class="id" title="projection">dectrans_commute</span></a> : `(<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#d6512886ebafe0aefa5d44eb1f64d285"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#E:19"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#F:16"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#G:17"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#d6512886ebafe0aefa5d44eb1f64d285"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="dectrans_natural" class="idref" href="#dectrans_natural"><span class="id" title="projection">dectrans_natural</span></a> : <a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#d6512886ebafe0aefa5d44eb1f64d285"><span class="id" title="variable">ϕ</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Data.Product.html#Notations"><span class="id" title="module">Product.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">T</span> <span class="id" title="var">F</span> <span class="id" title="var">W</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves.Classes</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.RightComodule.html#"><span class="id" title="library">RightComodule</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab243"></a><h1 class="section">A decorated functor is precisely a right comodule of <code>prod E</code></h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="RightComodule_DecoratedFunctor" class="idref" href="#RightComodule_DecoratedFunctor"><span class="id" title="section">RightComodule_DecoratedFunctor</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:32" class="idref" href="#H1:32"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H1:32" class="idref" href="#H1:32"><span class="id" title="binder">E</span></a> <a id="H1:32" class="idref" href="#H1:32"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="RightComodule_DecoratedFunctor" class="idref" href="#RightComodule_DecoratedFunctor"><span class="id" title="definition">RightComodule_DecoratedFunctor</span></a> : <a class="idref" href="Tealeaves.Classes.RightComodule.html#RightComodule"><span class="id" title="class">RightComodule</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#RightComodule_DecoratedFunctor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#RightComodule_DecoratedFunctor.E"><span class="id" title="variable">E</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.RightComodule.html#rcom_coaction_coaction"><span class="id" title="method">rcom_coaction_coaction</span></a> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#RightComodule_DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#RightComodule_DecoratedFunctor.F"><span class="id" title="variable">F</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.RightComodule.html#rcom_fmap_extr_coaction"><span class="id" title="method">rcom_fmap_extr_coaction</span></a> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#RightComodule_DecoratedFunctor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#RightComodule_DecoratedFunctor.F"><span class="id" title="variable">F</span></a>;<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#RightComodule_DecoratedFunctor"><span class="id" title="section">RightComodule_DecoratedFunctor</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_RightComodule" class="idref" href="#DecoratedFunctor_RightComodule"><span class="id" title="section">DecoratedFunctor_RightComodule</span></a>.<br/>

<br/>
</div>

<div class="doc">
This context is declared so that <code>RightComodule</code> uses the
  reader/writer comonad rather than an opaque one. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:34" class="idref" href="#H:34"><span class="id" title="binder">Fmap</span></a> <a id="H:34" class="idref" href="#H:34"><span class="id" title="binder">F</span></a>} `{<a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">RightCoaction</span></a> <a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">F</span></a> <a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">(</span></a><a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">prod</span></a> <a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">E</span></a><a id="H0:36" class="idref" href="#H0:36"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="RightComodule0:37" class="idref" href="#RightComodule0:37"><span class="id" title="binder">!</span></a> <a id="RightComodule0:37" class="idref" href="#RightComodule0:37"><span class="id" title="binder">RightComodule</span></a> <a id="RightComodule0:37" class="idref" href="#RightComodule0:37"><span class="id" title="binder">F</span></a> <a id="RightComodule0:37" class="idref" href="#RightComodule0:37"><span class="id" title="binder">(</span></a><a id="RightComodule0:37" class="idref" href="#RightComodule0:37"><span class="id" title="binder">prod</span></a> <a id="RightComodule0:37" class="idref" href="#RightComodule0:37"><span class="id" title="binder">E</span></a><a id="RightComodule0:37" class="idref" href="#RightComodule0:37"><span class="id" title="binder">)</span></a>} `{<a id="H1:40" class="idref" href="#H1:40"><span class="id" title="binder">Monoid</span></a> <a id="H1:40" class="idref" href="#H1:40"><span class="id" title="binder">E</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="DecoratedFunctor_RightComodule" class="idref" href="#DecoratedFunctor_RightComodule"><span class="id" title="definition">DecoratedFunctor_RightComodule</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_RightComodule.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_RightComodule.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := <a class="idref" href="Tealeaves.Classes.RightComodule.html#rcom_coaction_coaction"><span class="id" title="method">rcom_coaction_coaction</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_RightComodule.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_RightComodule.E"><span class="id" title="variable">E</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := <a class="idref" href="Tealeaves.Classes.RightComodule.html#rcom_fmap_extr_coaction"><span class="id" title="method">rcom_fmap_extr_coaction</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_RightComodule.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_RightComodule.E"><span class="id" title="variable">E</span></a>);<br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_RightComodule"><span class="id" title="section">DecoratedFunctor_RightComodule</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab244"></a><h1 class="section">The <span class="inlinecode"><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a></span> operation</h1>
 The theory of decorated functors makes frequent use of an
    operation <code>shift</code> that uniformly increments each of the
    annotations of a <code>W</code>-annotated term (i.e., something of type
    <code>F (W * A)</code>) by some increment <code>w : W</code>. This operation is used to
    define concrete instances of <span class="inlinecode"><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="projection">dec</span></a></span>, specially to handle binders in
    sub-cases of the recursion.  A subcase of the form <code>dec (λ b . t)</code>
    is defined <code>λ b . (shift ([b], dec t)</code>. That is, <code>shift</code> is applied to
    a recursive subcall to <code>dec</code> on the <i>body</i> of an abstraction to
    <code>cons</code> the current binder on the front of each binder context. 
<div class="paragraph"> </div>

<a id="lab245"></a><h1 class="section">The <code>shift</code> operation</h1>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="shift" class="idref" href="#shift"><span class="id" title="definition">shift</span></a> <a id="F:41" class="idref" href="#F:41"><span class="id" title="binder">F</span></a> `{<a id="H:42" class="idref" href="#H:42"><span class="id" title="binder">Fmap</span></a> <a id="H:42" class="idref" href="#H:42"><span class="id" title="binder">F</span></a>} `{<a id="H0:44" class="idref" href="#H0:44"><span class="id" title="binder">Monoid_op</span></a> <a id="H0:44" class="idref" href="#H0:44"><span class="id" title="binder">W</span></a>} {<a id="A:45" class="idref" href="#A:45"><span class="id" title="binder">A</span></a>} : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:43"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#F:41"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:43"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:45"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#F:41"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:43"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:45"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#F:41"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:43"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#F:41"><span class="id" title="variable">F</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab246"></a><h2 class="section">Basic properties of <code>shift</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="shift_functor_lemmas" class="idref" href="#shift_functor_lemmas"><span class="id" title="section">shift_functor_lemmas</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:46" class="idref" href="#F:46"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:50" class="idref" href="#H:50"><span class="id" title="binder">Monoid</span></a> <a id="H:50" class="idref" href="#H:50"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:52" class="idref" href="#H1:52"><span class="id" title="binder">Functor</span></a> <a id="H1:52" class="idref" href="#H1:52"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
</div>

<div class="doc">
The definition of <span class="inlinecode"><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a></span> is convenient for theorizing, but <span class="inlinecode"><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a></span>
      offers an intuitive characterization that is more convenient for
      practical reasoning. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="shift_spec" class="idref" href="#shift_spec"><span class="id" title="lemma">shift_spec</span></a> {<a id="A:53" class="idref" href="#A:53"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="w:54" class="idref" href="#w:54"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) (<a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:53"><span class="id" title="variable">A</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:54"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#x:55"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="keyword">fun</span> <a id="m:56" class="idref" href="#m:56"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:54"><span class="id" title="variable">w</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#m:56"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#x:55"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Writer.html#Join_writer"><span class="id" title="instance">Join_writer</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a>). <span class="id" title="tactic">f_equal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If we think of <code>shift</code> as a function of two arguments,
      then it is natural in its second argument. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_fmap1" class="idref" href="#shift_fmap1"><span class="id" title="lemma">shift_fmap1</span></a> {<a id="A:57" class="idref" href="#A:57"><span class="id" title="binder">A</span></a> <a id="B:58" class="idref" href="#B:58"><span class="id" title="binder">B</span></a>} (<a id="t:59" class="idref" href="#t:59"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:57"><span class="id" title="variable">A</span></a>)) (<a id="w:60" class="idref" href="#w:60"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) (<a id="f:61" class="idref" href="#f:61"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:57"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#B:58"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:60"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:61"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:59"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:61"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:60"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:59"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We can also say <code>shift</code> is a natural transformation
   of type <code>(W ×) ∘ F ∘ (W ×) \to F ∘ (W ×)</code>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_fmap2" class="idref" href="#shift_fmap2"><span class="id" title="lemma">shift_fmap2</span></a> {<a id="A:62" class="idref" href="#A:62"><span class="id" title="binder">A</span></a> <a id="B:63" class="idref" href="#B:63"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">forall</span> (<a id="f:64" class="idref" href="#f:64"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:62"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#B:63"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:64"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">t</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_fmap1"><span class="id" title="lemma">shift_fmap1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="shift_natural" class="idref" href="#shift_natural"><span class="id" title="lemma">shift_natural</span></a> : <a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_fmap2"><span class="id" title="lemma">shift_fmap2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We can increment the first argument before applying <code>shift</code>,
      or we can <code>shift</code> and then increment. This lemma is used
      e.g. in the binding case of the decorate-join law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_increment" class="idref" href="#shift_increment"><span class="id" title="lemma">shift_increment</span></a> {<a id="A:65" class="idref" href="#A:65"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="w:66" class="idref" href="#w:66"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:65"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="keyword">fun</span> <a id="m:67" class="idref" href="#m:67"><span class="id" title="binder">m</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:66"><span class="id" title="variable">w</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#m:67"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="keyword">fun</span> <a id="m:68" class="idref" href="#m:68"><span class="id" title="binder">m</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:66"><span class="id" title="variable">w</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#m:68"><span class="id" title="variable">m</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">a</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w''</span> <span class="id" title="var">a'</span>]; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_assoc"><span class="id" title="method">monoid_assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Applying <code>shift</code>, followed by discarding annotations at the
      leaves, is equivalent to simply discarding the original
      annotations and the argument to <code>shift</code>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_extract" class="idref" href="#shift_extract"><span class="id" title="lemma">shift_extract</span></a> {<a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:69"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a>. <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">t</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="shift_zero" class="idref" href="#shift_zero"><span class="id" title="lemma">shift_zero</span></a> {<a id="A:70" class="idref" href="#A:70"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="t:71" class="idref" href="#t:71"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:70"><span class="id" title="variable">A</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:71"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:71"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="Tealeaves.Data.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> (<span class="id" title="var">Y</span> := <span class="id" title="var">A</span>) (<span class="id" title="keyword">fun</span> <a id="w:73" class="idref" href="#w:73"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:72"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">rw</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rw</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_functor_lemmas"><span class="id" title="section">shift_functor_lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab247"></a><h1 class="section">Helper lemmas for proving typeclass instances</h1>
 Each of the following lemmas is useful for proving one of the laws
    of decorated functors in the binder case(s) of proofs that proceed
    by induction on terms. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="helper_lemmas" class="idref" href="#helper_lemmas"><span class="id" title="section">helper_lemmas</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">Functor</span></a> <a id="H0:76" class="idref" href="#H0:76"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:78" class="idref" href="#H1:78"><span class="id" title="binder">Decorate</span></a> <a id="H1:78" class="idref" href="#H1:78"><span class="id" title="binder">W</span></a> <a id="H1:78" class="idref" href="#H1:78"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:81" class="idref" href="#H2:81"><span class="id" title="binder">Monoid</span></a> <a id="H2:81" class="idref" href="#H2:81"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
</div>

<div class="doc">
This lemmasis useful for proving naturality of <code>dec</code>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_helper_1" class="idref" href="#dec_helper_1"><span class="id" title="lemma">dec_helper_1</span></a> {<a id="A:82" class="idref" href="#A:82"><span class="id" title="binder">A</span></a> <a id="B:83" class="idref" href="#B:83"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">forall</span> (<a id="f:84" class="idref" href="#f:84"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:82"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#B:83"><span class="id" title="variable">B</span></a>) (<a id="t:85" class="idref" href="#t:85"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:82"><span class="id" title="variable">A</span></a>) (<a id="w:86" class="idref" href="#w:86"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:84"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:85"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:84"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:85"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:84"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:86"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:85"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:86"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:84"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:85"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IH</span>. <span class="comment">(*&nbsp;there&nbsp;is&nbsp;a&nbsp;hidden&nbsp;compose&nbsp;to&nbsp;unfold&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Now we can assume that <code>dec</code> is a natural transformation,
      which is needed for the following. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">!</span></a> <a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">Natural</span></a> <a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">(@</span></a><a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">dec</span></a> <a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">W</span></a> <a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">F</span></a> <a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">_</span></a><a id="Natural0:87" class="idref" href="#Natural0:87"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
</div>

<div class="doc">
This lemmas is useful for proving the dec-extract law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_helper_2" class="idref" href="#dec_helper_2"><span class="id" title="lemma">dec_helper_2</span></a> {<a id="A:88" class="idref" href="#A:88"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="t:89" class="idref" href="#t:89"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:88"><span class="id" title="variable">A</span></a>) (<a id="w:90" class="idref" href="#w:90"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:89"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:89"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:90"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:89"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:89"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_extract"><span class="id" title="lemma">shift_extract</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This lemmas is useful for proving the double decoration law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_helper_3" class="idref" href="#dec_helper_3"><span class="id" title="lemma">dec_helper_3</span></a> {<a id="A:91" class="idref" href="#A:91"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">forall</span> (<a id="t:92" class="idref" href="#t:92"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:91"><span class="id" title="variable">A</span></a>) (<a id="w:93" class="idref" href="#w:93"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:92"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:92"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:93"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:93"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:92"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#w:93"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#t:92"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">w'</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#helper_lemmas"><span class="id" title="section">helper_lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab248"></a><h1 class="section">Miscellaneous properties of decorated functors</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_misc" class="idref" href="#DecoratedFunctor_misc"><span class="id" title="section">DecoratedFunctor_misc</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:94" class="idref" href="#T:94"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:98" class="idref" href="#H1:98"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H1:98" class="idref" href="#H1:98"><span class="id" title="binder">E</span></a> <a id="H1:98" class="idref" href="#H1:98"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="cobind_dec" class="idref" href="#cobind_dec"><span class="id" title="lemma">cobind_dec</span></a> {<a id="A:99" class="idref" href="#A:99"><span class="id" title="binder">A</span></a> <a id="B:100" class="idref" href="#B:100"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">forall</span> (<a id="f:101" class="idref" href="#f:101"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:99"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#B:100"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:101"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:101"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Comonad.html#Cobind_Cojoin"><span class="id" title="instance">Cobind_Cojoin</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt;. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> <span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_misc"><span class="id" title="section">DecoratedFunctor_misc</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab249"></a><h1 class="section">Decorated functor instance for <span class="inlinecode"><span class="id" title="library">Environment</span></span></h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_Environment" class="idref" href="#DecoratedFunctor_Environment"><span class="id" title="section">DecoratedFunctor_Environment</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="E:102" class="idref" href="#E:102"><span class="id" title="binder">E</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_prod" class="idref" href="#Decorate_prod"><span class="id" title="instance">Decorate_prod</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Environment.E"><span class="id" title="variable">E</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Environment.E"><span class="id" title="variable">E</span></a>) := @<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Environment.E"><span class="id" title="variable">E</span></a>) <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>, <span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_prod" class="idref" href="#DecoratedFunctor_prod"><span class="id" title="instance">DecoratedFunctor_prod</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Environment.E"><span class="id" title="variable">E</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Environment.E"><span class="id" title="variable">E</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?]).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Environment"><span class="id" title="section">DecoratedFunctor_Environment</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Writer.html#"><span class="id" title="library">Functors.Writer</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monad.html#Notations"><span class="id" title="module">Monad.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Data.Strength.html#Notations"><span class="id" title="module">Strength.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Data.Product.html#Notations"><span class="id" title="module">Product.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">G</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab250"></a><h1 class="section">Algebraic decorated functor to Kleisli decorated functor</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#"><span class="id" title="library">Classes.Kleisli.Decorated.Functor</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab251"></a><h2 class="section">Kleisli laws for <code>fmapd</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="ToKleisli" class="idref" href="#ToKleisli"><span class="id" title="module">ToKleisli</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#"><span class="id" title="module">Classes.Kleisli.Decorated.Functor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Comonad.html#Notations"><span class="id" title="module">Comonad.Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="ToKleisli.operation" class="idref" href="#ToKleisli.operation"><span class="id" title="section">operation</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E:103" class="idref" href="#E:103"><span class="id" title="binder">E</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:104" class="idref" href="#F:104"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:105" class="idref" href="#H:105"><span class="id" title="binder">Fmap</span></a> <a id="H:105" class="idref" href="#H:105"><span class="id" title="binder">F</span></a>} `{<a id="H0:106" class="idref" href="#H0:106"><span class="id" title="binder">Decorate</span></a> <a id="H0:106" class="idref" href="#H0:106"><span class="id" title="binder">E</span></a> <a id="H0:106" class="idref" href="#H0:106"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ToKleisli.Fmapd_dec" class="idref" href="#ToKleisli.Fmapd_dec"><span class="id" title="instance">Fmapd_dec</span></a> : <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#Fmapd"><span class="id" title="class">Fmapd</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.operation.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.operation.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a> <a id="B:108" class="idref" href="#B:108"><span class="id" title="binder">B</span></a> (<a id="f:109" class="idref" href="#f:109"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.operation.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#B:108"><span class="id" title="variable">B</span></a>) =&gt; <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.operation.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:109"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.operation.F"><span class="id" title="variable">F</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.operation"><span class="id" title="section">operation</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="ToKleisli.with_functor" class="idref" href="#ToKleisli.with_functor"><span class="id" title="section">with_functor</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:110" class="idref" href="#F:110"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:114" class="idref" href="#H1:114"><span class="id" title="binder">Classes.Decorated.Functor.DecoratedFunctor</span></a> <a id="H1:114" class="idref" href="#H1:114"><span class="id" title="binder">E</span></a> <a id="H1:114" class="idref" href="#H1:114"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="ToKleisli.fmapd_id" class="idref" href="#ToKleisli.fmapd_id"><span class="id" title="lemma">fmapd_id</span></a> {<a id="A:115" class="idref" href="#A:115"><span class="id" title="binder">A</span></a>} : <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> <span class="id" title="var">_</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:115"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.Fmapd_dec"><span class="id" title="instance">Fmapd_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="ToKleisli.fmapd_fmapd" class="idref" href="#ToKleisli.fmapd_fmapd"><span class="id" title="lemma">fmapd_fmapd</span></a> (<a id="A:116" class="idref" href="#A:116"><span class="id" title="binder">A</span></a> <a id="B:117" class="idref" href="#B:117"><span class="id" title="binder">B</span></a> <a id="C:118" class="idref" href="#C:118"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:119" class="idref" href="#g:119"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#B:117"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#C:118"><span class="id" title="variable">C</span></a>) (<a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:116"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#B:117"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#g:119"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#g:119"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">co</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">⋆</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#f:120"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">transparent</span> <span class="id" title="var">tcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.E"><span class="id" title="variable">E</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transparent</span> <span class="id" title="var">tcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ToKleisli.DecoratedFunctor" class="idref" href="#ToKleisli.DecoratedFunctor"><span class="id" title="instance">DecoratedFunctor</span></a>: <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#DecoratedFunctor"><span class="id" title="class">Kleisli.Decorated.Functor.DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.E"><span class="id" title="variable">E</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#dfun_fmapd1"><span class="id" title="method">dfun_fmapd1</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.fmapd_id"><span class="id" title="lemma">fmapd_id</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#dfun_fmapd2"><span class="id" title="method">dfun_fmapd2</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.fmapd_fmapd"><span class="id" title="lemma">fmapd_fmapd</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli.with_functor"><span class="id" title="section">with_functor</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#ToKleisli"><span class="id" title="module">ToKleisli</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab252"></a><h1 class="section">Decorated functors form a monoidal category</h1>

<div class="paragraph"> </div>

<a id="lab253"></a><h2 class="section">Zero-decorated functors</h2>
 Every functor is trivially decorated using the operation that
    pairs each leaf with the unit of the monoid. We call such functors
    zero-decorated. This allows us to see <i>all</i> functors as (maybe
    trivially) decorated. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_Zero" class="idref" href="#DecoratedFunctor_Zero"><span class="id" title="section">DecoratedFunctor_Zero</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:124" class="idref" href="#H:124"><span class="id" title="binder">Monoid</span></a> <a id="H:124" class="idref" href="#H:124"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:127" class="idref" href="#H1:127"><span class="id" title="binder">Functor</span></a> <a id="H1:127" class="idref" href="#H1:127"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Decorate_zero" class="idref" href="#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:128" class="idref" href="#A:128"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Natural_dec_zero" class="idref" href="#Natural_dec_zero"><span class="id" title="instance">Natural_dec_zero</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_zero" class="idref" href="#dec_dec_zero"><span class="id" title="lemma">dec_dec_zero</span></a> {<a id="A:129" class="idref" href="#A:129"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:129"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_extract_zero" class="idref" href="#dec_extract_zero"><span class="id" title="lemma">dec_extract_zero</span></a> {<a id="A:130" class="idref" href="#A:130"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:130"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_zero" class="idref" href="#DecoratedFunctor_zero"><span class="id" title="instance">DecoratedFunctor_zero</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero.F"><span class="id" title="variable">F</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Natural_dec_zero"><span class="id" title="instance">Natural_dec_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_dec_zero"><span class="id" title="lemma">dec_dec_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_extract_zero"><span class="id" title="lemma">dec_extract_zero</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_Zero"><span class="id" title="section">DecoratedFunctor_Zero</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab254"></a><h2 class="section">The identity (zero-)decorated functor</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_I" class="idref" href="#DecoratedFunctor_I"><span class="id" title="section">DecoratedFunctor_I</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:134" class="idref" href="#H:134"><span class="id" title="binder">Monoid</span></a> <a id="H:134" class="idref" href="#H:134"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dec_I" class="idref" href="#dec_I"><span class="id" title="definition">dec_I</span></a> : <span class="id" title="keyword">forall</span> <a id="A:135" class="idref" href="#A:135"><span class="id" title="binder">A</span></a>, <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:135"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:135"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:136" class="idref" href="#A:136"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_I" class="idref" href="#Decorate_I"><span class="id" title="instance">Decorate_I</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> (<span class="id" title="keyword">fun</span> <a id="A:137" class="idref" href="#A:137"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:137"><span class="id" title="variable">A</span></a>) := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_I"><span class="id" title="definition">dec_I</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Natural_dec_I" class="idref" href="#Natural_dec_I"><span class="id" title="instance">Natural_dec_I</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (<span class="id" title="var">G</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:138"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_I" class="idref" href="#dec_dec_I"><span class="id" title="lemma">dec_dec_I</span></a> {<a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:140" class="idref" href="#A:140"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:140"><span class="id" title="variable">A</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:139"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> <a id="A:141" class="idref" href="#A:141"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:141"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="keyword">fun</span> <a id="A:145" class="idref" href="#A:145"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:145"><span class="id" title="variable">A</span></a>) (<span class="id" title="keyword">fun</span> '<a id="pat:144" class="idref" href="#pat:144"><span class="id" title="binder">(</span></a><a id="pat:144" class="idref" href="#pat:144"><span class="id" title="binder">n</span></a><a id="pat:144" class="idref" href="#pat:144"><span class="id" title="binder">,</span></a> <a id="pat:144" class="idref" href="#pat:144"><span class="id" title="binder">a</span></a><a id="pat:144" class="idref" href="#pat:144"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#n:143"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#n:143"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#a:142"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:146" class="idref" href="#A:146"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:146"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">cbv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_extract_I" class="idref" href="#dec_extract_I"><span class="id" title="lemma">dec_extract_I</span></a> {<a id="A:147" class="idref" href="#A:147"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="keyword">fun</span> <a id="A:148" class="idref" href="#A:148"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:148"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="keyword">fun</span> <a id="A:149" class="idref" href="#A:149"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:149"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:147"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_I" class="idref" href="#DecoratedFunctor_I"><span class="id" title="instance">DecoratedFunctor_I</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_I.W"><span class="id" title="variable">W</span></a> (<span class="id" title="keyword">fun</span> <a id="A:150" class="idref" href="#A:150"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:150"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Natural_dec_I"><span class="id" title="instance">Natural_dec_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_dec_I"><span class="id" title="lemma">dec_dec_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_extract_I"><span class="id" title="lemma">dec_extract_I</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_I"><span class="id" title="section">DecoratedFunctor_I</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab255"></a><h2 class="section">Decorated functors are closed under composition</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="Decoratedfunctor_composition" class="idref" href="#Decoratedfunctor_composition"><span class="id" title="section">Decoratedfunctor_composition</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:154" class="idref" href="#H:154"><span class="id" title="binder">Monoid</span></a> <a id="H:154" class="idref" href="#H:154"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:156" class="idref" href="#H0:156"><span class="id" title="binder">Fmap</span></a> <a id="H0:156" class="idref" href="#H0:156"><span class="id" title="binder">F</span></a>} `{<a id="H1:158" class="idref" href="#H1:158"><span class="id" title="binder">Fmap</span></a> <a id="H1:158" class="idref" href="#H1:158"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:159" class="idref" href="#H2:159"><span class="id" title="binder">Decorate</span></a> <a id="H2:159" class="idref" href="#H2:159"><span class="id" title="binder">W</span></a> <a id="H2:159" class="idref" href="#H2:159"><span class="id" title="binder">F</span></a>} `{<a id="H3:160" class="idref" href="#H3:160"><span class="id" title="binder">Decorate</span></a> <a id="H3:160" class="idref" href="#H3:160"><span class="id" title="binder">W</span></a> <a id="H3:160" class="idref" href="#H3:160"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor0:161" class="idref" href="#DecoratedFunctor0:161"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor0:161" class="idref" href="#DecoratedFunctor0:161"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor0:161" class="idref" href="#DecoratedFunctor0:161"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor0:161" class="idref" href="#DecoratedFunctor0:161"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor1:162" class="idref" href="#DecoratedFunctor1:162"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor1:162" class="idref" href="#DecoratedFunctor1:162"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor1:162" class="idref" href="#DecoratedFunctor1:162"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor1:162" class="idref" href="#DecoratedFunctor1:162"><span class="id" title="binder">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Decorate_compose" class="idref" href="#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:163" class="idref" href="#A:163"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Natural_dec_compose" class="idref" href="#Natural_dec_compose"><span class="id" title="instance">Natural_dec_compose</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (<span class="id" title="keyword">fun</span> <a id="A:164" class="idref" href="#A:164"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:164"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">E</span>:=<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;&nbsp;F&nbsp;(shift&nbsp;G)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;(G&nbsp;∘&nbsp;F)&nbsp;f&gt;&gt;.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_compose_in_compose</span>; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> <span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_fmap2"><span class="id" title="lemma">shift_fmap2</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;mov&nbsp;&lt;&lt;dec&nbsp;F&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;∘&nbsp;W&nbsp;∘&nbsp;G&nbsp;∘&nbsp;W&nbsp;f&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> -&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;move&nbsp;&lt;&lt;F&nbsp;(dec&nbsp;G)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((G&nbsp;∘&nbsp;W)&nbsp;f)&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The next few lemmas are used to build up a proof of the
   "double decoration law", <span class="inlinecode"><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="projection">dfun_dec_dec</span></a></span> <span class="inlinecode">(<span class="id" title="var">F</span></span> <span class="inlinecode">∘</span> <span class="inlinecode"><span class="id" title="var">G</span>)</span> 
<div class="paragraph"> </div>

 Split the decoration wire on <code>G</code> into two wires with
      <code>dfun_dec_dec G</code> law. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_1" class="idref" href="#dec_dec_compose_1"><span class="id" title="lemma">dec_dec_compose_1</span></a> {<a id="A:165" class="idref" href="#A:165"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:165"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;F&nbsp;(strength)&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((W&nbsp;○&nbsp;G)&nbsp;(cojoin&nbsp;(prod&nbsp;W)))&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">G</span> := (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Move&nbsp;&lt;&lt;dec&nbsp;F&gt;&gt;&nbsp;past&nbsp;&lt;&lt;F&nbsp;((W&nbsp;○&nbsp;G)&nbsp;(cojoin&nbsp;(prod&nbsp;W)))&gt;&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">G</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="strength_cojoin_r" class="idref" href="#strength_cojoin_r"><span class="id" title="lemma">strength_cojoin_r</span></a> {<a id="A:166" class="idref" href="#A:166"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:166"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a>, <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Split the decoration wire on <code>F</code> into two wires with
     <code>dfun_dec_dec F</code>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_2" class="idref" href="#dec_dec_compose_2"><span class="id" title="lemma">dec_dec_compose_2</span></a> {<a id="A:167" class="idref" href="#A:167"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:167"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#strength_cojoin_r"><span class="id" title="lemma">strength_cojoin_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">B</span> := <span class="id" title="var">A</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Slide the upper decoration wire on <code>G</code> past the lower
  decoration wire on <code>F</code>, which requires crossing them. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_3" class="idref" href="#dec_dec_compose_3"><span class="id" title="lemma">dec_dec_compose_3</span></a> {<a id="A:168" class="idref" href="#A:168"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:168"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Writer.html#BeckDistribution_strength"><span class="id" title="instance">BeckDistribution_strength</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">x</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a>, <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Re-arrange using naturality 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dec_dec_compose_5" class="idref" href="#dec_dec_compose_5"><span class="id" title="lemma">dec_dec_compose_5</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:169" class="idref" href="#A:169"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:169"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.H2"><span class="id" title="variable">H2</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">A</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_dec_compose" class="idref" href="#dec_dec_compose"><span class="id" title="lemma">dec_dec_compose</span></a> {<a id="A:170" class="idref" href="#A:170"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:170"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;RHS&nbsp;with&nbsp;the&nbsp;butterfly&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <span class="id" title="tactic">at</span> 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Writer.html#bimonad_butterfly"><span class="id" title="lemma">Writer.bimonad_butterfly</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;outer&nbsp;(prod&nbsp;W)&nbsp;wire&nbsp;with&nbsp;the&nbsp;&lt;&lt;dfun_dec_dec&gt;&gt;&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>). <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Comonad.html#cojoin"><span class="id" title="definition">cojoin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_dec_compose_1"><span class="id" title="lemma">dec_dec_compose_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rewrite&nbsp;the&nbsp;outer&nbsp;(prod&nbsp;W)&nbsp;wire&nbsp;with&nbsp;the&nbsp;&lt;&lt;dfun_dec_dec&gt;&gt;&nbsp;law&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>). <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_dec_compose_2"><span class="id" title="lemma">dec_dec_compose_2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">F</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> ?<span class="id" title="var">G</span> ?<span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Slide&nbsp;a&nbsp;decoration&nbsp;on&nbsp;&lt;&lt;F&gt;&gt;&nbsp;and&nbsp;one&nbsp;on&nbsp;&lt;&lt;G&gt;&gt;&nbsp;past&nbsp;each&nbsp;other&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="tactic">do</span> 4 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">g</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_dec_compose_3"><span class="id" title="lemma">dec_dec_compose_3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Flatten&nbsp;out&nbsp;a&nbsp;distribution&nbsp;bubble.&nbsp;Move&nbsp;the&nbsp;second&nbsp;decoration&nbsp;on&nbsp;&lt;&lt;F&gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;of&nbsp;the&nbsp;way&nbsp;to&nbsp;juxtapose&nbsp;the&nbsp;two&nbsp;distributions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>(@<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">))</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (@<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Data.Strength.html#strength"><span class="id" title="definition">strength</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Prelude.html#fa652b8c8091f60ed5a3b127754ad981"><span class="id" title="notation">○</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<span class="id" title="var">A</span> := (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">))</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.BeckDistributiveLaw.html#bdist"><span class="id" title="definition">bdist</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Writer.html#writer_dist_involution"><span class="id" title="lemma">writer_dist_involution</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (?<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;final&nbsp;cleanup&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Monad.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_dec_compose_5"><span class="id" title="lemma">dec_dec_compose_5</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="dec_extract_compose" class="idref" href="#dec_extract_compose"><span class="id" title="lemma">dec_extract_compose</span></a> {<a id="A:171" class="idref" href="#A:171"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>)) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:171"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">reassociate</span> &lt;-. <span class="id" title="var">unfold_compose_in_compose</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_extract"><span class="id" title="lemma">shift_extract</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>)) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> ?<span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="DecoratedFunctor_compose" class="idref" href="#DecoratedFunctor_compose"><span class="id" title="instance">DecoratedFunctor_compose</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor"><span class="id" title="class">DecoratedFunctor</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition.G"><span class="id" title="variable">G</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_natural"><span class="id" title="method">dfun_dec_natural</span></a> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Natural_dec_compose"><span class="id" title="instance">Natural_dec_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_dec"><span class="id" title="method">dfun_dec_dec</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_dec_compose"><span class="id" title="lemma">dec_dec_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dfun_dec_extract"><span class="id" title="method">dfun_dec_extract</span></a> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec_extract_compose"><span class="id" title="lemma">dec_extract_compose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decoratedfunctor_composition"><span class="id" title="section">Decoratedfunctor_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab256"></a><h2 class="section">Category laws for composition of decorated functors</h2>
 Next we prove that composition of decorated functors satisfies the
    laws of a category, i.e. that composition with the identity
    decorated functor on the left or is the identity, and that
    composition is associative. This is not immediately obvious
    because in each case we must verify that the <code>dec</code> operation is
    the same for both sides. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws" class="idref" href="#DecoratedFunctor_composition_laws"><span class="id" title="section">DecoratedFunctor_composition_laws</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws.identity_laws" class="idref" href="#DecoratedFunctor_composition_laws.identity_laws"><span class="id" title="section">identity_laws</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <code>T</code> be a decorated functor. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H0:174" class="idref" href="#H0:174"><span class="id" title="binder">Functor</span></a> <a id="H0:174" class="idref" href="#H0:174"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T:176" class="idref" href="#dec_T:176"><span class="id" title="binder">dec_T</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a id="W:175" class="idref" href="#W:175"><span class="id" title="binder">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#T:172"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="op:177" class="idref" href="#op:177"><span class="id" title="binder">op</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_op"><span class="id" title="class">Monoid_op</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:175"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="unit:178" class="idref" href="#unit:178"><span class="id" title="binder">unit</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_unit"><span class="id" title="class">Monoid_unit</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:175"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor0:179" class="idref" href="#DecoratedFunctor0:179"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor0:179" class="idref" href="#DecoratedFunctor0:179"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor0:179" class="idref" href="#DecoratedFunctor0:179"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor0:179" class="idref" href="#DecoratedFunctor0:179"><span class="id" title="binder">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Monoid0:180" class="idref" href="#Monoid0:180"><span class="id" title="binder">!</span></a> <a id="Monoid0:180" class="idref" href="#Monoid0:180"><span class="id" title="binder">Monoid</span></a> <a id="Monoid0:180" class="idref" href="#Monoid0:180"><span class="id" title="binder">W</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab257"></a><h3 class="section">Composition with a zero-decorated functor</h3>
 When <code>F</code> has a trivial decoration,
        <code>dec (F ∘T)</code> and <code>dec (T ∘ F)</code> have a special form. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition" class="idref" href="#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition"><span class="id" title="section">zero_decorated_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <code>F</code> be a functor, which we will treat as zero-decorated. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:181" class="idref" href="#F:181"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">Functor</span></a> <a id="H2:183" class="idref" href="#H2:183"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Composition with a zero-decorated functor on the left returns <code>T</code>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_zero_compose_l" class="idref" href="#decorate_zero_compose_l"><span class="id" title="lemma">decorate_zero_compose_l</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:184" class="idref" href="#A:184"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>) (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:184"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>). <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Data.Strength.html#strength_2"><span class="id" title="lemma">strength_2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Monad.html#mon_join_ret"><span class="id" title="method">mon_join_ret</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Composition with the identity functor on the left returns <code>T</code>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_zero_compose_r" class="idref" href="#decorate_zero_compose_r"><span class="id" title="lemma">decorate_zero_compose_r</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:185" class="idref" href="#A:185"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>) (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:185"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">F</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-. <span class="id" title="var">fequal</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Functors.Compose.html#Fmap_compose"><span class="id" title="instance">Fmap_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">t</span>]; <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_spec"><span class="id" title="lemma">shift_spec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">fequal</span>. <span class="id" title="var">ext</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.zero_decorated_composition"><span class="id" title="section">zero_decorated_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab258"></a><h3 class="section">Composition with the identity decorated functor</h3>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_identity_compose_l" class="idref" href="#decorate_identity_compose_l"><span class="id" title="lemma">decorate_identity_compose_l</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:186" class="idref" href="#A:186"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="A:187" class="idref" href="#A:187"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:187"><span class="id" title="variable">A</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>) (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> (<span class="id" title="keyword">fun</span> <a id="A:188" class="idref" href="#A:188"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:188"><span class="id" title="variable">A</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:186"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#decorate_zero_compose_l"><span class="id" title="lemma">decorate_zero_compose_l</span></a> (<span class="id" title="keyword">fun</span> <a id="A:191" class="idref" href="#A:191"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:189"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_identity_compose_r" class="idref" href="#decorate_identity_compose_r"><span class="id" title="lemma">decorate_identity_compose_r</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:192" class="idref" href="#A:192"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="A:193" class="idref" href="#A:193"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:193"><span class="id" title="variable">A</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) (@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="A:194" class="idref" href="#A:194"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:194"><span class="id" title="variable">A</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.dec_T"><span class="id" title="variable">dec_T</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:192"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#decorate_zero_compose_r"><span class="id" title="lemma">decorate_zero_compose_r</span></a> (<span class="id" title="keyword">fun</span> <a id="A:197" class="idref" href="#A:197"><span class="id" title="binder">A</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:195"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Data.Strength.html#strength_I"><span class="id" title="lemma">strength_I</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.identity_laws"><span class="id" title="section">identity_laws</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_composition_laws.associativity_law" class="idref" href="#DecoratedFunctor_composition_laws.associativity_law"><span class="id" title="section">associativity_law</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="op:199" class="idref" href="#op:199"><span class="id" title="binder">op</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_op"><span class="id" title="class">Monoid_op</span></a> <a id="W:198" class="idref" href="#W:198"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="unit:200" class="idref" href="#unit:200"><span class="id" title="binder">unit</span></a> : <a class="idref" href="Tealeaves.Classes.Monoid.html#Monoid_unit"><span class="id" title="class">Monoid_unit</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:198"><span class="id" title="variable">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="Monoid0:201" class="idref" href="#Monoid0:201"><span class="id" title="binder">!</span></a> <a id="Monoid0:201" class="idref" href="#Monoid0:201"><span class="id" title="binder">Monoid</span></a> <a id="Monoid0:201" class="idref" href="#Monoid0:201"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:203" class="idref" href="#H:203"><span class="id" title="binder">Fmap</span></a> <a id="H:203" class="idref" href="#H:203"><span class="id" title="binder">T1</span></a>} `{<a id="H0:205" class="idref" href="#H0:205"><span class="id" title="binder">Fmap</span></a> <a id="H0:205" class="idref" href="#H0:205"><span class="id" title="binder">T2</span></a>} `{<a id="H1:207" class="idref" href="#H1:207"><span class="id" title="binder">Fmap</span></a> <a id="H1:207" class="idref" href="#H1:207"><span class="id" title="binder">T3</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T1:208" class="idref" href="#dec_T1:208"><span class="id" title="binder">dec_T1</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:198"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#T1:202"><span class="id" title="variable">T1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T2:209" class="idref" href="#dec_T2:209"><span class="id" title="binder">dec_T2</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:198"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#T2:204"><span class="id" title="variable">T2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="dec_T3:210" class="idref" href="#dec_T3:210"><span class="id" title="binder">dec_T3</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#W:198"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#T3:206"><span class="id" title="variable">T3</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor0:211" class="idref" href="#DecoratedFunctor0:211"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor0:211" class="idref" href="#DecoratedFunctor0:211"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor0:211" class="idref" href="#DecoratedFunctor0:211"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor0:211" class="idref" href="#DecoratedFunctor0:211"><span class="id" title="binder">T1</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor1:212" class="idref" href="#DecoratedFunctor1:212"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor1:212" class="idref" href="#DecoratedFunctor1:212"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor1:212" class="idref" href="#DecoratedFunctor1:212"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor1:212" class="idref" href="#DecoratedFunctor1:212"><span class="id" title="binder">T2</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="DecoratedFunctor2:213" class="idref" href="#DecoratedFunctor2:213"><span class="id" title="binder">!</span></a> <a id="DecoratedFunctor2:213" class="idref" href="#DecoratedFunctor2:213"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="DecoratedFunctor2:213" class="idref" href="#DecoratedFunctor2:213"><span class="id" title="binder">W</span></a> <a id="DecoratedFunctor2:213" class="idref" href="#DecoratedFunctor2:213"><span class="id" title="binder">T3</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decorate_compose_assoc1" class="idref" href="#decorate_compose_assoc1"><span class="id" title="lemma">decorate_compose_assoc1</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:214" class="idref" href="#A:214"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">:=</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T1</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">×)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T1</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T2</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Data.Product.html#21562a6533fad1c21b28f27873d97b33"><span class="id" title="notation">×)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">×)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w1</span> <span class="id" title="var">t</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> [<span class="id" title="var">w2</span> <span class="id" title="var">t2</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t2</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">rewrite</span> 1(<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w3</span> <span class="id" title="var">a</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_assoc"><span class="id" title="method">monoid_assoc</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_compose_assoc" class="idref" href="#decorate_compose_assoc"><span class="id" title="lemma">decorate_compose_assoc</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:215" class="idref" href="#A:215"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.op"><span class="id" title="variable">op</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.dec_T1"><span class="id" title="variable">dec_T1</span></a>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:215"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.op"><span class="id" title="variable">op</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>) <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.dec_T3"><span class="id" title="variable">dec_T3</span></a> <span class="id" title="var">_</span>) <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#A:215"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <span class="id" title="tactic">at</span> 1 6.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>) (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#decorate_compose_assoc1"><span class="id" title="lemma">decorate_compose_assoc1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <span class="id" title="tactic">at</span> 1 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">:=?</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T1</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">:=</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">A</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T1</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>)<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">μ</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">prod</span></a> <a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">W</span></a><a class="idref" href="Tealeaves.Classes.Monad.html#db31158fa186691c4697d7f5420ed411"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">σ</span></a> <a class="idref" href="Tealeaves.Data.Strength.html#8319486a697349ec48617741566c6caf"><span class="id" title="notation">T1</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Functor.html#natural"><span class="id" title="method">natural</span></a> (<span class="id" title="var">ϕ</span> := @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="var">fequal</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T3"><span class="id" title="variable">T3</span></a>). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Data.Strength.html#strength_compose"><span class="id" title="lemma">strength_compose</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;- <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law.T2"><span class="id" title="variable">T2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws.associativity_law"><span class="id" title="section">associativity_law</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_composition_laws"><span class="id" title="section">DecoratedFunctor_composition_laws</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab259"></a><h2 class="section">Composition with zero-decorated functors</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DecoratedFunctor_zero_composition" class="idref" href="#DecoratedFunctor_zero_composition"><span class="id" title="section">DecoratedFunctor_zero_composition</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:216" class="idref" href="#F:216"><span class="id" title="binder">F</span></a> <a id="G:217" class="idref" href="#G:217"><span class="id" title="binder">G</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:221" class="idref" href="#H:221"><span class="id" title="binder">Monoid</span></a> <a id="H:221" class="idref" href="#H:221"><span class="id" title="binder">W</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:223" class="idref" href="#H1:223"><span class="id" title="binder">Functor</span></a> <a id="H1:223" class="idref" href="#H1:223"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H4:226" class="idref" href="#H4:226"><span class="id" title="binder">DecoratedFunctor</span></a> <a id="H4:226" class="idref" href="#H4:226"><span class="id" title="binder">W</span></a> <a id="H4:226" class="idref" href="#H4:226"><span class="id" title="binder">G</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span>: <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate"><span class="id" title="class">Decorate</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> := <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="decorate_zero_compose" class="idref" href="#decorate_zero_compose"><span class="id" title="lemma">decorate_zero_compose</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>) (<span class="id" title="var">A</span> := <span class="id" title="var">A</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_compose"><span class="id" title="instance">Decorate_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ops</span> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_instance_0"><span class="id" title="instance">Decorate_instance_0</span></a> @<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#Decorate_zero"><span class="id" title="instance">Decorate_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> -&gt; <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#dec"><span class="id" title="definition">dec</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reassociate</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="a:229" class="idref" href="#a:229"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#a:228"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#shift_zero"><span class="id" title="lemma">shift_zero</span></a> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Classes.Decorated.Functor.html#DecoratedFunctor_zero_composition"><span class="id" title="section">DecoratedFunctor_zero_composition</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
