<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Backends.LN.LN</h1>

<div class="code">
</div>

<div class="doc">
This files contains metatheorems for the locally nameless variables
 that closely parallel those of LNgen. 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Data.Natural.html#"><span class="id" title="library">Data.Natural</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#"><span class="id" title="library">Classes.Kleisli.DT.Monad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves.Backends.LN</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Atom.html#"><span class="id" title="library">Atom</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#"><span class="id" title="library">AtomSet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived"><span class="id" title="module">DT.Monad.Derived</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#"><span class="id" title="library">Classes.Kleisli.Monad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Traversable.Functor.html#"><span class="id" title="library">Classes.Kleisli.Traversable.Functor</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Traversable.Monad.html#"><span class="id" title="library">Classes.Kleisli.Traversable.Monad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#"><span class="id" title="library">Classes.Kleisli.Decorated.Functor</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#"><span class="id" title="library">Classes.Kleisli.Decorated.Monad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#"><span class="id" title="library">Classes.Kleisli.DT.Functor</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#"><span class="id" title="library">Classes.Kleisli.DT.Monad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Traversable.Monad.html#"><span class="id" title="library">Classes.Traversable.Monad</span></a>. <span class="comment">(*&nbsp;bind&nbsp;for&nbsp;lists&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#"><span class="id" title="library">Kleisli.Monad</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Comonad.html#Notations"><span class="id" title="module">Comonad.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#Notations"><span class="id" title="module">LN.AtomSet.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#Notations"><span class="id" title="module">Setlike.Functor.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#Notations"><span class="id" title="module">DT.Functor.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Notations"><span class="id" title="module">DT.Monad.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variable</span> <span class="id" title="var">T</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab539"></a><h1 class="section">Locally nameless variables</h1>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="LN" class="idref" href="#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
| <a id="Fr" class="idref" href="#Fr"><span class="id" title="constructor">Fr</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN:1"><span class="id" title="inductive">LN</span></a><br/>
| <a id="Bd" class="idref" href="#Bd"><span class="id" title="constructor">Bd</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN:1"><span class="id" title="inductive">LN</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="eq_dec_LN" class="idref" href="#eq_dec_LN"><span class="id" title="lemma">eq_dec_LN</span></a> : <span class="id" title="keyword">forall</span> <a id="l1:3" class="idref" href="#l1:3"><span class="id" title="binder">l1</span></a> <a id="l2:4" class="idref" href="#l2:4"><span class="id" title="binder">l2</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:3"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l2:4"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:3"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l2:4"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">a</span> <span class="id" title="var">and</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="EqDec_LN" class="idref" href="#EqDec_LN"><span class="id" title="instance">EqDec_LN</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Classes.EquivDec.html#EqDec"><span class="id" title="class">EquivDec.EqDec</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> := <a class="idref" href="Tealeaves.Backends.LN.LN.html#eq_dec_LN"><span class="id" title="lemma">eq_dec_LN</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#compare_to_atom"><span class="id" title="lemma">compare_to_atom</span></a></span> is an induction principle for leaves that splits
      the <code>Fr x</code> case into subcases <code>x = y</code> and <code>x &lt;&gt; y</code> for
      some user-specified atom <code>y</code>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="compare_to_atom" class="idref" href="#compare_to_atom"><span class="id" title="lemma">compare_to_atom</span></a> : <span class="id" title="keyword">forall</span> <a id="x:5" class="idref" href="#x:5"><span class="id" title="binder">x</span></a> <a id="l:6" class="idref" href="#l:6"><span class="id" title="binder">l</span></a> (<a id="P:7" class="idref" href="#P:7"><span class="id" title="binder">P</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#P:7"><span class="id" title="variable">P</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:5"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a:8" class="idref" href="#a:8"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#a:8"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:5"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#P:7"><span class="id" title="variable">P</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#a:8"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#P:7"><span class="id" title="variable">P</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:9"><span class="id" title="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#P:7"><span class="id" title="variable">P</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:6"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">case1</span> <span class="id" title="var">case2</span> <span class="id" title="var">case3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_eq_args</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "compare" <span class="id" title="keyword">constr</span>(<span class="id" title="var">l</span>) "to" "atom" <span class="id" title="keyword">constr</span>(<span class="id" title="var">x</span>) :=<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">using</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#compare_to_atom"><span class="id" title="lemma">compare_to_atom</span></a> <span class="id" title="var">x</span>)).<br/>

<br/>
</div>

<div class="doc">
<a id="lab540"></a><h1 class="section">Locally nameless operations</h1>

<div class="paragraph"> </div>

<a id="lab541"></a><h2 class="section">Localized operations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="locally_nameless_local_operations" class="idref" href="#locally_nameless_local_operations"><span class="id" title="section">locally_nameless_local_operations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:11" class="idref" href="#H:11"><span class="id" title="binder">Return</span></a> <a id="H:11" class="idref" href="#H:11"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="free_loc" class="idref" href="#free_loc"><span class="id" title="definition">free_loc</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="l:12" class="idref" href="#l:12"><span class="id" title="binder">l</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:12"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#nil"><span class="id" title="abbreviation">List.nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="subst_loc" class="idref" href="#subst_loc"><span class="id" title="definition">subst_loc</span></a> (<a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<a id="u:15" class="idref" href="#u:15"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="l:16" class="idref" href="#l:16"><span class="id" title="binder">l</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:16"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.EqDec_eq.html#a6e843c62e1ac2a74737b7a9f636e026"><span class="id" title="notation">==</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:15"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="open_loc" class="idref" href="#open_loc"><span class="id" title="definition">open_loc</span></a> (<a id="u:18" class="idref" href="#u:18"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="p:19" class="idref" href="#p:19"><span class="id" title="binder">p</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:19"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#compare"><span class="id" title="definition">Nat.compare</span></a> <span class="id" title="var">n</span> <span class="id" title="var">w</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:18"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_opened" class="idref" href="#is_opened"><span class="id" title="definition">is_opened</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="p:22" class="idref" href="#p:22"><span class="id" title="binder">p</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:22"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctx</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ctx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="close_loc" class="idref" href="#close_loc"><span class="id" title="definition">close_loc</span></a> (<a id="x:25" class="idref" href="#x:25"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> ) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="p:26" class="idref" href="#p:26"><span class="id" title="binder">p</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:26"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:25"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.EqDec_eq.html#a6e843c62e1ac2a74737b7a9f636e026"><span class="id" title="notation">==</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">w</span> <span class="id" title="keyword">else</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#compare"><span class="id" title="definition">Nat.compare</span></a> <span class="id" title="var">n</span> <span class="id" title="var">w</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The argument <code>n</code> is appended the context---to define local
      closure we will take <code>n = 0</code>, but we can also consider more
      notions like ``local closure within a gap of 1 binder,'' which
      is useful for backend reasoning. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="is_bound_or_free" class="idref" href="#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> (<a id="gap:29" class="idref" href="#gap:29"><span class="id" title="binder">gap</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="p:30" class="idref" href="#p:30"><span class="id" title="binder">p</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:30"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">w</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#gap:29"><span class="id" title="variable">gap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_local_operations"><span class="id" title="section">locally_nameless_local_operations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab542"></a><h2 class="section">Extended operations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="locally_nameless_operations" class="idref" href="#locally_nameless_operations"><span class="id" title="section">locally_nameless_operations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:33" class="idref" href="#T:33"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:38" class="idref" href="#H1:38"><span class="id" title="binder">Classes.Kleisli.DT.Monad.Monad</span></a> <a id="H1:38" class="idref" href="#H1:38"><span class="id" title="binder">nat</span></a> <a id="H1:38" class="idref" href="#H1:38"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="open" class="idref" href="#open"><span class="id" title="definition">open</span></a> (<a id="u:39" class="idref" href="#u:39"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#bindd"><span class="id" title="definition">bindd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:39"><span class="id" title="variable">u</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="close" class="idref" href="#close"><span class="id" title="definition">close</span></a> <a id="x:40" class="idref" href="#x:40"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:40"><span class="id" title="variable">x</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="subst" class="idref" href="#subst"><span class="id" title="definition">subst</span></a> <a id="x:41" class="idref" href="#x:41"><span class="id" title="binder">x</span></a> (<a id="u:42" class="idref" href="#u:42"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#bind"><span class="id" title="definition">bind</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:42"><span class="id" title="variable">u</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="free" class="idref" href="#free"><span class="id" title="definition">free</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="t:43" class="idref" href="#t:43"><span class="id" title="binder">t</span></a> =&gt; <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#bind"><span class="id" title="definition">bind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_loc"><span class="id" title="definition">free_loc</span></a> (<a class="idref" href="Tealeaves.Classes.Listable.Functor.html#tolist"><span class="id" title="definition">tolist</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:43"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="freeset" class="idref" href="#freeset"><span class="id" title="definition">freeset</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.t"><span class="id" title="definition">AtomSet.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="t:44" class="idref" href="#t:44"><span class="id" title="binder">t</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#atoms"><span class="id" title="definition">LN.AtomSet.atoms</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:44"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="locally_closed_gap" class="idref" href="#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> (<a id="gap:45" class="idref" href="#gap:45"><span class="id" title="binder">gap</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="t:46" class="idref" href="#t:46"><span class="id" title="binder">t</span></a> =&gt; <span class="id" title="keyword">forall</span> <a id="w:47" class="idref" href="#w:47"><span class="id" title="binder">w</span></a> <a id="l:48" class="idref" href="#l:48"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:47"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:48"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:46"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#gap:45"><span class="id" title="variable">gap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:47"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:48"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="locally_closed" class="idref" href="#locally_closed"><span class="id" title="definition">locally_closed</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="scoped" class="idref" href="#scoped"><span class="id" title="definition">scoped</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.t"><span class="id" title="definition">AtomSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> <a id="c32eb4c8d847f99c4ea1bcb6915d9f69" class="idref" href="#c32eb4c8d847f99c4ea1bcb6915d9f69"><span class="id" title="binder">γ</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c32eb4c8d847f99c4ea1bcb6915d9f69"><span class="id" title="variable">γ</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_operations"><span class="id" title="section">locally_nameless_operations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab543"></a><h2 class="section">Notations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="Notations" class="idref" href="#Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="c1fac18a7e63fc2c05d720161ac03c0e" class="idref" href="#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">&quot;</span></a>t '{ x ~&gt; u }" := (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 35).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="3b2ece2ab72209c6f190ac77e0d90986" class="idref" href="#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">&quot;</span></a>t '( u )" := (<a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 35).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="3e35d30b94bf44e84b02657f2f4f32dc" class="idref" href="#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">&quot;</span></a>'[ x ] t" := (<a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 35).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="test_notations" class="idref" href="#test_notations"><span class="id" title="section">test_notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:56" class="idref" href="#H1:56"><span class="id" title="binder">DT.Monad.Monad</span></a> <a id="H1:56" class="idref" href="#H1:56"><span class="id" title="binder">nat</span></a> <a id="H1:56" class="idref" href="#H1:56"><span class="id" title="binder">T</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:57" class="idref" href="#t:57"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="u:58" class="idref" href="#u:58"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="n:60" class="idref" href="#n:60"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.u"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.x"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.t"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.u"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.t"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.x"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations.u"><span class="id" title="variable">u</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#test_notations"><span class="id" title="section">test_notations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab544"></a><h1 class="section">Lemmas for local reasoning</h1>

</div>
<div class="code">
<span class="id" title="keyword">Create HintDb</span> <span class="id" title="var">tea_local</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "unfold_monoid" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_op"><span class="id" title="definition">monoid_op</span></a>, <a class="idref" href="Tealeaves.Data.Natural.html#Monoid_op_plus"><span class="id" title="instance">Monoid_op_plus</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_unit"><span class="id" title="definition">monoid_unit</span></a>, <a class="idref" href="Tealeaves.Data.Natural.html#Monoid_unit_zero"><span class="id" title="instance">Monoid_unit_zero</span></a> <span class="id" title="tactic">in</span> *.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "unfold_lia" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">unfold_monoid</span>; <span class="id" title="var">lia</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab545"></a><h1 class="section">Basic principles and lemmas</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="locally_nameless_basic_principles" class="idref" href="#locally_nameless_basic_principles"><span class="id" title="section">locally_nameless_basic_principles</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">DT.Monad.Monad</span></a> <a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">nat</span></a> <a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">(</span></a><a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">unit</span></a> <a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">:=</span></a> <a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">Monoid_unit_zero</span></a><a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">(</span></a><a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">op</span></a> <a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">:=</span></a> <a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">Monoid_op_plus</span></a><a id="H1:64" class="idref" href="#H1:64"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">l</span> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab546"></a><h2 class="section">Reasoning principles for proving equalities</h2>

<div class="paragraph"> </div>

<a id="lab547"></a><h3 class="section"><code>open</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_eq" class="idref" href="#open_eq"><span class="id" title="lemma">open_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="t:65" class="idref" href="#t:65"><span class="id" title="binder">t</span></a> <a id="u1:66" class="idref" href="#u1:66"><span class="id" title="binder">u1</span></a> <a id="u2:67" class="idref" href="#u2:67"><span class="id" title="binder">u2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="w:68" class="idref" href="#w:68"><span class="id" title="binder">w</span></a> <a id="l:69" class="idref" href="#l:69"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:68"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:69"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:65"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:66"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:68"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:69"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:67"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:68"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:69"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:65"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:66"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:65"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:67"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bindd_respectful"><span class="id" title="lemma">bindd_respectful</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_id" class="idref" href="#open_id"><span class="id" title="lemma">open_id</span></a> : <span class="id" title="keyword">forall</span> <a id="t:70" class="idref" href="#t:70"><span class="id" title="binder">t</span></a> <a id="u:71" class="idref" href="#u:71"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="w:72" class="idref" href="#w:72"><span class="id" title="binder">w</span></a> <a id="l:73" class="idref" href="#l:73"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:72"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:73"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:70"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:71"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:72"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:73"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:73"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:70"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:71"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:70"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bindd_respectful_id"><span class="id" title="lemma">bindd_respectful_id</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab548"></a><h3 class="section"><code>close</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="close_eq" class="idref" href="#close_eq"><span class="id" title="lemma">close_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="t:74" class="idref" href="#t:74"><span class="id" title="binder">t</span></a> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a> <a id="y:76" class="idref" href="#y:76"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="w:77" class="idref" href="#w:77"><span class="id" title="binder">w</span></a> <a id="l:78" class="idref" href="#l:78"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:77"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:78"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:74"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:77"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:78"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:76"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:77"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:78"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:75"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:74"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#y:76"><span class="id" title="variable">y</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:74"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#fmapd_respectful"><span class="id" title="lemma">fmapd_respectful</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="close_id" class="idref" href="#close_id"><span class="id" title="lemma">close_id</span></a> : <span class="id" title="keyword">forall</span> <a id="t:79" class="idref" href="#t:79"><span class="id" title="binder">t</span></a> <a id="x:80" class="idref" href="#x:80"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="w:81" class="idref" href="#w:81"><span class="id" title="binder">w</span></a> <a id="l:82" class="idref" href="#l:82"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:81"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:82"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:79"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:80"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:81"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:82"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:82"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:80"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:79"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:79"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#fmapd_respectful_id"><span class="id" title="lemma">fmapd_respectful_id</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab549"></a><h3 class="section"><code>subst</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_eq" class="idref" href="#subst_eq"><span class="id" title="lemma">subst_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="t:83" class="idref" href="#t:83"><span class="id" title="binder">t</span></a> <a id="x:84" class="idref" href="#x:84"><span class="id" title="binder">x</span></a> <a id="y:85" class="idref" href="#y:85"><span class="id" title="binder">y</span></a> <a id="u1:86" class="idref" href="#u1:86"><span class="id" title="binder">u1</span></a> <a id="u2:87" class="idref" href="#u2:87"><span class="id" title="binder">u2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="l:88" class="idref" href="#l:88"><span class="id" title="binder">l</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:88"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:86"><span class="id" title="variable">u1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:88"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:87"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:88"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:86"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:87"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bind_respectful"><span class="id" title="lemma">bind_respectful</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_id" class="idref" href="#subst_id"><span class="id" title="lemma">subst_id</span></a> : <span class="id" title="keyword">forall</span> <a id="t:89" class="idref" href="#t:89"><span class="id" title="binder">t</span></a> <a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a> <a id="u:91" class="idref" href="#u:91"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="l:92" class="idref" href="#l:92"><span class="id" title="binder">l</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:92"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:89"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:91"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:92"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:92"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:89"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:91"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:89"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bind_respectful_id"><span class="id" title="lemma">bind_respectful_id</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab550"></a><h2 class="section">Occurrence analysis lemmas</h2>

<div class="paragraph"> </div>

<a id="lab551"></a><h3 class="section"><code>open</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ind_open_iff" class="idref" href="#ind_open_iff"><span class="id" title="lemma">ind_open_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:93" class="idref" href="#l:93"><span class="id" title="binder">l</span></a> <a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a> <a id="u:95" class="idref" href="#u:95"><span class="id" title="binder">u</span></a> <a id="t:96" class="idref" href="#t:96"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n:94"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:93"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:96"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:95"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n1:97" class="idref" href="#n1:97"><span class="id" title="binder">n1</span></a> <a id="n2:98" class="idref" href="#n2:98"><span class="id" title="binder">n2</span></a> <a id="l1:99" class="idref" href="#l1:99"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n1:97"><span class="id" title="variable">n1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:99"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:96"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n2:98"><span class="id" title="variable">n2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:93"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:95"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n1:97"><span class="id" title="variable">n1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:99"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:94"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n1:97"><span class="id" title="variable">n1</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n2:98"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_bindd_iff"><span class="id" title="lemma">ind_bindd_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_open_iff" class="idref" href="#in_open_iff"><span class="id" title="lemma">in_open_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:100" class="idref" href="#l:100"><span class="id" title="binder">l</span></a> <a id="u:101" class="idref" href="#u:101"><span class="id" title="binder">u</span></a> <a id="t:102" class="idref" href="#t:102"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:100"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:102"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:101"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n1:103" class="idref" href="#n1:103"><span class="id" title="binder">n1</span></a> <a id="l1:104" class="idref" href="#l1:104"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n1:103"><span class="id" title="variable">n1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:104"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:102"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:100"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:101"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n1:103"><span class="id" title="variable">n1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:104"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#in_bindd_iff"><span class="id" title="lemma">in_bindd_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab552"></a><h3 class="section"><code>close</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ind_close_iff" class="idref" href="#ind_close_iff"><span class="id" title="lemma">ind_close_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:105" class="idref" href="#l:105"><span class="id" title="binder">l</span></a> <a id="n:106" class="idref" href="#n:106"><span class="id" title="binder">n</span></a> <a id="x:107" class="idref" href="#x:107"><span class="id" title="binder">x</span></a> <a id="t:108" class="idref" href="#t:108"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n:106"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:105"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:107"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:108"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l1:109" class="idref" href="#l1:109"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n:106"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:109"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:108"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:107"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n:106"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:109"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:105"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#ind_fmapd_iff"><span class="id" title="lemma">ind_fmapd_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_close_iff" class="idref" href="#in_close_iff"><span class="id" title="lemma">in_close_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:110" class="idref" href="#l:110"><span class="id" title="binder">l</span></a> <a id="x:111" class="idref" href="#x:111"><span class="id" title="binder">x</span></a> <a id="t:112" class="idref" href="#t:112"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:110"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:111"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n:113" class="idref" href="#n:113"><span class="id" title="binder">n</span></a> <a id="l1:114" class="idref" href="#l1:114"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n:113"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:114"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:111"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n:113"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:114"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:110"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#in_fmapd_iff"><span class="id" title="lemma">in_fmapd_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab553"></a><h3 class="section"><code>subst</code></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ind_subst_iff" class="idref" href="#ind_subst_iff"><span class="id" title="lemma">ind_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="n:115" class="idref" href="#n:115"><span class="id" title="binder">n</span></a> <a id="l:116" class="idref" href="#l:116"><span class="id" title="binder">l</span></a> <a id="u:117" class="idref" href="#u:117"><span class="id" title="binder">u</span></a> <a id="t:118" class="idref" href="#t:118"><span class="id" title="binder">t</span></a> <a id="x:119" class="idref" href="#x:119"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n:115"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:116"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:118"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:119"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:117"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="n1:120" class="idref" href="#n1:120"><span class="id" title="binder">n1</span></a> <a id="n2:121" class="idref" href="#n2:121"><span class="id" title="binder">n2</span></a> <a id="l1:122" class="idref" href="#l1:122"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n1:120"><span class="id" title="variable">n1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:122"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:118"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#n2:121"><span class="id" title="variable">n2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:116"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:119"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:117"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:122"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n1:120"><span class="id" title="variable">n1</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n2:121"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_bind_iff"><span class="id" title="lemma">ind_bind_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_subst_iff" class="idref" href="#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:123" class="idref" href="#l:123"><span class="id" title="binder">l</span></a> <a id="u:124" class="idref" href="#u:124"><span class="id" title="binder">u</span></a> <a id="t:125" class="idref" href="#t:125"><span class="id" title="binder">t</span></a> <a id="x:126" class="idref" href="#x:126"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:123"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:124"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l1:127" class="idref" href="#l1:127"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:127"><span class="id" title="variable">l1</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:125"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:123"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:124"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:127"><span class="id" title="variable">l1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#in_bind_iff"><span class="id" title="lemma">in_bind_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab554"></a><h2 class="section">Free variables</h2>

<div class="paragraph"> </div>

<a id="lab555"></a><h3 class="section">Specifications for <span class="inlinecode"><a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#free"><span class="id" title="definition">free</span></a></span> and <span class="inlinecode"><a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a></span></h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="in_free_iff" class="idref" href="#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a> : <span class="id" title="keyword">forall</span> (<a id="t:128" class="idref" href="#t:128"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) (<a id="x:129" class="idref" href="#x:129"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:129"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:128"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:129"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:128"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Traversable.Monad.html#Toset_list_spec"><span class="id" title="lemma">Toset_list_spec</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Traversable.Monad.html#in_bind_iff"><span class="id" title="lemma">Traversable.Monad.in_bind_iff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">l</span> [<span class="id" title="var">hyp1</span> <span class="id" title="var">hyp2</span>]]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#in_iff_in_tolist"><span class="id" title="lemma">in_iff_in_tolist</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_loc"><span class="id" title="definition">free_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Traversable.Monad.html#Toset_list_spec"><span class="id" title="lemma">Toset_list_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.List.html#toset_list_one"><span class="id" title="lemma">toset_list_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverts</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Traversable.Monad.html#Toset_list_spec"><span class="id" title="lemma">Toset_list_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">inverts</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">hyp</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#in_iff_in_tolist"><span class="id" title="lemma">in_iff_in_tolist</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Traversable.Monad.html#Toset_list_spec"><span class="id" title="lemma">Toset_list_spec</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="free_iff_freeset" class="idref" href="#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a> : <span class="id" title="keyword">forall</span> (<a id="t:130" class="idref" href="#t:130"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) (<a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:130"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#in_atoms_iff"><span class="id" title="lemma">in_atoms_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab556"></a><h3 class="section">Opening</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="free_open_iff" class="idref" href="#free_open_iff"><span class="id" title="lemma">free_open_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="u:132" class="idref" href="#u:132"><span class="id" title="binder">u</span></a> <a id="t:133" class="idref" href="#t:133"><span class="id" title="binder">t</span></a> <a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:133"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:132"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w:135" class="idref" href="#w:135"><span class="id" title="binder">w</span></a> <a id="l1:136" class="idref" href="#l1:136"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:135"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:136"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:133"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:132"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:135"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:136"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>. <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_open_iff"><span class="id" title="lemma">in_open_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab557"></a><h3 class="section">Closing</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="free_close_iff" class="idref" href="#free_close_iff"><span class="id" title="lemma">free_close_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:137" class="idref" href="#t:137"><span class="id" title="binder">t</span></a> <a id="x:138" class="idref" href="#x:138"><span class="id" title="binder">x</span></a> <a id="y:139" class="idref" href="#y:139"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:139"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:138"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:137"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w:140" class="idref" href="#w:140"><span class="id" title="binder">w</span></a> <a id="l1:141" class="idref" href="#l1:141"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:140"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:141"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:137"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:138"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:140"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:141"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:139"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_close_iff"><span class="id" title="lemma">in_close_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab558"></a><h3 class="section">Substitution</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="free_subst_iff" class="idref" href="#free_subst_iff"><span class="id" title="lemma">free_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="u:142" class="idref" href="#u:142"><span class="id" title="binder">u</span></a> <a id="t:143" class="idref" href="#t:143"><span class="id" title="binder">t</span></a> <a id="x:144" class="idref" href="#x:144"><span class="id" title="binder">x</span></a> <a id="y:145" class="idref" href="#y:145"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:145"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:143"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:144"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:142"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l1:146" class="idref" href="#l1:146"><span class="id" title="binder">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:146"><span class="id" title="variable">l1</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:143"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:145"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:144"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:142"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l1:146"><span class="id" title="variable">l1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>). <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_basic_principles"><span class="id" title="section">locally_nameless_basic_principles</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab559"></a><h1 class="section">Utilities for reasoning at the leaves</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="locally_nameless_utilities" class="idref" href="#locally_nameless_utilities"><span class="id" title="section">locally_nameless_utilities</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">DT.Monad.Monad</span></a> <a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">nat</span></a> <a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">(</span></a><a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">unit</span></a> <a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">:=</span></a> <a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">Monoid_unit_zero</span></a><a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">(</span></a><a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">op</span></a> <a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">:=</span></a> <a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">Monoid_op_plus</span></a><a id="H1:150" class="idref" href="#H1:150"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab560"></a><h2 class="section">(In)equalities between leaves</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Fr_injective" class="idref" href="#Fr_injective"><span class="id" title="lemma">Fr_injective</span></a> : <span class="id" title="keyword">forall</span> (<a id="x:151" class="idref" href="#x:151"><span class="id" title="binder">x</span></a> <a id="y:152" class="idref" href="#y:152"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:151"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:152"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:151"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:152"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">hyp</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Fr_injective_not_iff" class="idref" href="#Fr_injective_not_iff"><span class="id" title="lemma">Fr_injective_not_iff</span></a> : <span class="id" title="keyword">forall</span> (<a id="x:153" class="idref" href="#x:153"><span class="id" title="binder">x</span></a> <a id="y:154" class="idref" href="#y:154"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:153"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:154"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:153"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:154"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">hyp</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Fr_injective_not" class="idref" href="#Fr_injective_not"><span class="id" title="lemma">Fr_injective_not</span></a> : <span class="id" title="keyword">forall</span> (<a id="x:155" class="idref" href="#x:155"><span class="id" title="binder">x</span></a> <a id="y:156" class="idref" href="#y:156"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:155"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:156"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:155"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:156"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr_injective"><span class="id" title="lemma">Fr_injective</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Bd_neq_Fr" class="idref" href="#Bd_neq_Fr"><span class="id" title="lemma">Bd_neq_Fr</span></a> : <span class="id" title="keyword">forall</span> <a id="n:157" class="idref" href="#n:157"><span class="id" title="binder">n</span></a> <a id="x:158" class="idref" href="#x:158"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:157"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:158"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">propext</span>. <span class="id" title="tactic">discriminate</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab561"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a></span></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_loc_eq" class="idref" href="#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:159" class="idref" href="#u:159"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:160" class="idref" href="#x:160"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:160"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:159"><span class="id" title="variable">u</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:160"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:159"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_loc_neq" class="idref" href="#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:161" class="idref" href="#u:161"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:162" class="idref" href="#x:162"><span class="id" title="binder">x</span></a> <a id="y:163" class="idref" href="#y:163"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:163"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:162"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:162"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:161"><span class="id" title="variable">u</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:163"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:163"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">y</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_loc_b" class="idref" href="#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a> : <span class="id" title="keyword">forall</span> <a id="u:164" class="idref" href="#u:164"><span class="id" title="binder">u</span></a> <a id="x:165" class="idref" href="#x:165"><span class="id" title="binder">x</span></a> <a id="n:166" class="idref" href="#n:166"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:164"><span class="id" title="variable">u</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:166"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:166"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_loc_fr_neq" class="idref" href="#subst_loc_fr_neq"><span class="id" title="lemma">subst_loc_fr_neq</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:167" class="idref" href="#u:167"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="l:168" class="idref" href="#l:168"><span class="id" title="binder">l</span></a> <a id="x:169" class="idref" href="#x:169"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:169"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:168"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:169"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:167"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:168"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:168"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span>|?]; [<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span> | <span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab562"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a></span></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_loc_lt" class="idref" href="#open_loc_lt"><span class="id" title="lemma">open_loc_lt</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:170" class="idref" href="#u:170"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="w:171" class="idref" href="#w:171"><span class="id" title="binder">w</span></a> <a id="n:172" class="idref" href="#n:172"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:172"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#w:171"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:170"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:171"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:172"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:172"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ineq</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_loc_gt" class="idref" href="#open_loc_gt"><span class="id" title="lemma">open_loc_gt</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:173" class="idref" href="#u:173"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="n:174" class="idref" href="#n:174"><span class="id" title="binder">n</span></a> <a id="w:175" class="idref" href="#w:175"><span class="id" title="binder">w</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:174"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#w:175"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:173"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:175"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:174"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:174"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ineq</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_loc_eq" class="idref" href="#open_loc_eq"><span class="id" title="lemma">open_loc_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="w:176" class="idref" href="#w:176"><span class="id" title="binder">w</span></a> (<a id="u:177" class="idref" href="#u:177"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:177"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:176"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#w:176"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:177"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">w</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_loc_atom" class="idref" href="#open_loc_atom"><span class="id" title="lemma">open_loc_atom</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:178" class="idref" href="#u:178"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="w:179" class="idref" href="#w:179"><span class="id" title="binder">w</span></a> <a id="x:180" class="idref" href="#x:180"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:178"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:179"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:180"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:180"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab563"></a><h2 class="section"><span class="inlinecode"><span class="id" title="var">Miscellaneous</span></span> <span class="inlinecode"><span class="id" title="var">utilities</span></span></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ninf_in_neq" class="idref" href="#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> : <span class="id" title="keyword">forall</span> <a id="x:181" class="idref" href="#x:181"><span class="id" title="binder">x</span></a> <a id="l:182" class="idref" href="#l:182"><span class="id" title="binder">l</span></a> (<a id="t:183" class="idref" href="#t:183"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:183"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:182"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:183"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:181"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:182"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">hyp1</span> <span class="id" title="var">hyp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hyp1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">injection</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="neq_symmetry" class="idref" href="#neq_symmetry"><span class="id" title="lemma">neq_symmetry</span></a> : <span class="id" title="keyword">forall</span> <a id="X:184" class="idref" href="#X:184"><span class="id" title="binder">X</span></a> (<a id="x:185" class="idref" href="#x:185"><span class="id" title="binder">x</span></a> <a id="y:186" class="idref" href="#y:186"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#X:184"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:185"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:186"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#y:186"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:185"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">propext</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">hyp</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">hyp</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_utilities"><span class="id" title="section">locally_nameless_utilities</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> @<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#in_ret_iff"><span class="id" title="lemma">in_ret_iff</span></a> @<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_ret_iff"><span class="id" title="lemma">ind_ret_iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> : <span class="id" title="var">tea_local</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr_injective"><span class="id" title="lemma">Fr_injective</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr_injective_not_iff"><span class="id" title="lemma">Fr_injective_not_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd_neq_Fr"><span class="id" title="lemma">Bd_neq_Fr</span></a> : <span class="id" title="var">tea_local</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">Fr_injective_not</span> : <span class="id" title="var">tea_local</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a> <span class="comment">(*@subst_in_ret*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> : <span class="id" title="var">tea_local</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a> @<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a> @<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_fr_neq"><span class="id" title="lemma">subst_loc_fr_neq</span></a> <span class="comment">(*@subst_in_ret_neq*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span> <span class="id" title="tactic">first</span> [ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">auto</span> ] : <span class="id" title="var">tea_local</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc_lt"><span class="id" title="lemma">open_loc_lt</span></a> @<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc_gt"><span class="id" title="lemma">open_loc_gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span> <span class="id" title="tactic">first</span> [ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">auto</span> ] : <span class="id" title="var">tea_local</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc_eq"><span class="id" title="lemma">open_loc_eq</span></a> @<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc_atom"><span class="id" title="lemma">open_loc_atom</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> : <span class="id" title="var">tea_local</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl_local" := (<span class="id" title="tactic">autorewrite</span>* <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab564"></a><h1 class="section">Locally nameless metatheory</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="locally_nameless_metatheory" class="idref" href="#locally_nameless_metatheory"><span class="id" title="section">locally_nameless_metatheory</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">DT.Monad.Monad</span></a> <a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">nat</span></a> <a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">T</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">(</span></a><a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">unit</span></a> <a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">:=</span></a> <a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">Monoid_unit_zero</span></a><a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">(</span></a><a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">op</span></a> <a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">:=</span></a> <a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">Monoid_op_plus</span></a><a id="H1:190" class="idref" href="#H1:190"><span class="id" title="binder">)</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived"><span class="id" title="module">Kleisli.DT.Monad.Derived</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_in_ret" class="idref" href="#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a> : <span class="id" title="keyword">forall</span> <a id="x:191" class="idref" href="#x:191"><span class="id" title="binder">x</span></a> <a id="l:192" class="idref" href="#l:192"><span class="id" title="binder">l</span></a> (<a id="u:193" class="idref" href="#u:193"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:192"><span class="id" title="variable">l</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:191"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:193"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:191"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:193"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:192"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">l</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_left</span> (<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#bind"><span class="id" title="definition">bind</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <span class="id" title="var">x</span> <span class="id" title="var">u</span>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">l</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#kmon_bind0"><span class="id" title="method">kmon_bind0</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab565"></a><h2 class="section">LN analysis: substitution with contexts</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ind_subst_loc_iff" class="idref" href="#ind_subst_loc_iff"><span class="id" title="lemma">ind_subst_loc_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:194" class="idref" href="#l:194"><span class="id" title="binder">l</span></a> <a id="w:195" class="idref" href="#w:195"><span class="id" title="binder">w</span></a> <a id="p:196" class="idref" href="#p:196"><span class="id" title="binder">p</span></a> (<a id="u:197" class="idref" href="#u:197"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:198" class="idref" href="#x:198"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:195"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:196"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:198"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:197"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:194"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:194"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:198"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#w:195"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:194"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:196"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="comment">(*&nbsp;l&nbsp;is&nbsp;not&nbsp;replaced&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:194"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:198"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:195"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:196"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:197"><span class="id" title="variable">u</span></a>. <span class="comment">(*&nbsp;l&nbsp;is&nbsp;replaced&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="var">simpl_local</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="ind_subst_iff'" class="idref" href="#ind_subst_iff'"><span class="id" title="lemma">ind_subst_iff'</span></a> : <span class="id" title="keyword">forall</span> <a id="w:199" class="idref" href="#w:199"><span class="id" title="binder">w</span></a> <a id="t:200" class="idref" href="#t:200"><span class="id" title="binder">t</span></a> <a id="u:201" class="idref" href="#u:201"><span class="id" title="binder">u</span></a> <a id="l:202" class="idref" href="#l:202"><span class="id" title="binder">l</span></a> <a id="x:203" class="idref" href="#x:203"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:199"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:202"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:200"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:203"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:201"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:199"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:202"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:200"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:202"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:203"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w1:204" class="idref" href="#w1:204"><span class="id" title="binder">w1</span></a> <a id="w2:205" class="idref" href="#w2:205"><span class="id" title="binder">w2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w1:204"><span class="id" title="variable">w1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:203"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:200"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w2:205"><span class="id" title="variable">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:202"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:201"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#w:199"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#w1:204"><span class="id" title="variable">w1</span></a> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#w2:205"><span class="id" title="variable">w2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#ind_subst_iff"><span class="id" title="lemma">ind_subst_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#ind_subst_loc_iff"><span class="id" title="lemma">ind_subst_loc_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">l'</span> [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> <span class="id" title="var">conditions</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">conditions</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">c1</span> [[<span class="id" title="var">c2</span>|<span class="id" title="var">c2</span>] <span class="id" title="var">c3</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="var">destructs</span> <span class="id" title="var">c2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="var">destructs</span> <span class="id" title="var">c2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[? ?] | [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> [? [? ?]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>). <span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab566"></a><h2 class="section">LN analysis: substitution without contexts</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_subst_loc_iff" class="idref" href="#in_subst_loc_iff"><span class="id" title="lemma">in_subst_loc_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="l:206" class="idref" href="#l:206"><span class="id" title="binder">l</span></a> <a id="p:207" class="idref" href="#p:207"><span class="id" title="binder">p</span></a> (<a id="u:208" class="idref" href="#u:208"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:209" class="idref" href="#x:209"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#p:207"><span class="id" title="variable">p</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:209"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:208"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:206"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:206"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:209"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:206"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:207"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:206"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:209"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#p:207"><span class="id" title="variable">p</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:208"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">autorewrite</span>* <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="in_subst_iff'" class="idref" href="#in_subst_iff'"><span class="id" title="lemma">in_subst_iff'</span></a> : <span class="id" title="keyword">forall</span> <a id="t:210" class="idref" href="#t:210"><span class="id" title="binder">t</span></a> <a id="u:211" class="idref" href="#u:211"><span class="id" title="binder">u</span></a> <a id="l:212" class="idref" href="#l:212"><span class="id" title="binder">l</span></a> <a id="x:213" class="idref" href="#x:213"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:212"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:210"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:213"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:211"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:212"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:210"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:212"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:213"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:213"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:210"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:212"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:211"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_iff"><span class="id" title="lemma">in_subst_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_loc_iff"><span class="id" title="lemma">in_subst_loc_iff</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [? [? <span class="id" title="var">in_sub</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">in_sub</span> <span class="id" title="keyword">as</span> [[? <span class="id" title="var">heq</span>] | [<span class="id" title="var">heq</span> ?]]; <span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[? ?]|[? ?]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab567"></a><h2 class="section">Free variables after substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_subst_iff" class="idref" href="#in_free_subst_iff"><span class="id" title="lemma">in_free_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:214" class="idref" href="#t:214"><span class="id" title="binder">t</span></a> <a id="u:215" class="idref" href="#u:215"><span class="id" title="binder">u</span></a> <a id="x:216" class="idref" href="#x:216"><span class="id" title="binder">x</span></a> <a id="y:217" class="idref" href="#y:217"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:217"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:214"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:216"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:215"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:217"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:214"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:217"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:216"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:216"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:214"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:217"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:215"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_iff'"><span class="id" title="lemma">in_subst_iff'</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_freeset_subst_iff" class="idref" href="#in_freeset_subst_iff"><span class="id" title="lemma">in_freeset_subst_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:218" class="idref" href="#t:218"><span class="id" title="binder">t</span></a> <a id="u:219" class="idref" href="#u:219"><span class="id" title="binder">u</span></a> <a id="x:220" class="idref" href="#x:220"><span class="id" title="binder">x</span></a> <a id="y:221" class="idref" href="#y:221"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:221"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:218"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:219"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:221"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:218"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:221"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:218"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:221"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:219"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_subst_iff"><span class="id" title="lemma">in_free_subst_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab568"></a><h2 class="section">Upper and lower bounds for leaves after substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_subst_upper" class="idref" href="#in_subst_upper"><span class="id" title="lemma">in_subst_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:222" class="idref" href="#t:222"><span class="id" title="binder">t</span></a> <a id="u:223" class="idref" href="#u:223"><span class="id" title="binder">u</span></a> <a id="l:224" class="idref" href="#l:224"><span class="id" title="binder">l</span></a> <a id="x:225" class="idref" href="#x:225"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:224"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:222"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:223"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#l:224"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:222"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:224"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:225"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:224"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:223"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_iff'"><span class="id" title="lemma">in_subst_iff'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_subst_upper" class="idref" href="#in_free_subst_upper"><span class="id" title="lemma">in_free_subst_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:226" class="idref" href="#t:226"><span class="id" title="binder">t</span></a> <a id="u:227" class="idref" href="#u:227"><span class="id" title="binder">u</span></a> <a id="x:228" class="idref" href="#x:228"><span class="id" title="binder">x</span></a> <a id="y:229" class="idref" href="#y:229"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:229"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:226"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:228"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:227"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#y:229"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:226"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:229"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:228"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:229"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:227"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> ?(<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_iff'"><span class="id" title="lemma">in_subst_iff'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr_injective_not_iff"><span class="id" title="lemma">Fr_injective_not_iff</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_subst_upper" class="idref" href="#freeset_subst_upper"><span class="id" title="lemma">freeset_subst_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:230" class="idref" href="#t:230"><span class="id" title="binder">t</span></a> <a id="u:231" class="idref" href="#u:231"><span class="id" title="binder">u</span></a> <a id="x:232" class="idref" href="#x:232"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:230"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:232"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:231"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:230"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:232"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:231"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.union_spec"><span class="id" title="lemma">AtomSet.union_spec</span></a>, <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.diff_spec"><span class="id" title="lemma">AtomSet.diff_spec</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.singleton_spec"><span class="id" title="lemma">AtomSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ?(<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_subst_upper"><span class="id" title="lemma">in_free_subst_upper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_subst_lower" class="idref" href="#in_subst_lower"><span class="id" title="lemma">in_subst_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:233" class="idref" href="#t:233"><span class="id" title="binder">t</span></a> <a id="u:234" class="idref" href="#u:234"><span class="id" title="binder">u</span></a> <a id="l:235" class="idref" href="#l:235"><span class="id" title="binder">l</span></a> <a id="x:236" class="idref" href="#x:236"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:235"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:233"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:235"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:235"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:233"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:234"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_iff'"><span class="id" title="lemma">in_subst_iff'</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_subst_lower" class="idref" href="#in_free_subst_lower"><span class="id" title="lemma">in_free_subst_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:237" class="idref" href="#t:237"><span class="id" title="binder">t</span></a> (<a id="u:238" class="idref" href="#u:238"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:239" class="idref" href="#x:239"><span class="id" title="binder">x</span></a> <a id="y:240" class="idref" href="#y:240"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:240"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:237"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:240"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:239"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:240"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:237"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:239"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:238"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_subst_lower"><span class="id" title="lemma">in_subst_lower</span></a>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_subst_lower" class="idref" href="#freeset_subst_lower"><span class="id" title="lemma">freeset_subst_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:241" class="idref" href="#t:241"><span class="id" title="binder">t</span></a> (<a id="u:242" class="idref" href="#u:242"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:243" class="idref" href="#x:243"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:241"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:243"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:241"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:243"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:242"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.diff_spec"><span class="id" title="lemma">AtomSet.diff_spec</span></a>, <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.singleton_spec"><span class="id" title="lemma">AtomSet.singleton_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_subst_lower"><span class="id" title="lemma">in_free_subst_lower</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="scoped_subst_eq" class="idref" href="#scoped_subst_eq"><span class="id" title="lemma">scoped_subst_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="t:244" class="idref" href="#t:244"><span class="id" title="binder">t</span></a> (<a id="u:245" class="idref" href="#u:245"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:246" class="idref" href="#x:246"><span class="id" title="binder">x</span></a> <a id="78dd614fc603dbd0a8ef96ecf08b2d0d" class="idref" href="#78dd614fc603dbd0a8ef96ecf08b2d0d"><span class="id" title="binder">γ1</span></a> <a id="7067d3c8870708860400aaeacc0905cf" class="idref" href="#7067d3c8870708860400aaeacc0905cf"><span class="id" title="binder">γ2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:244"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#78dd614fc603dbd0a8ef96ecf08b2d0d"><span class="id" title="variable">γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:245"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#7067d3c8870708860400aaeacc0905cf"><span class="id" title="variable">γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:244"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:245"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#78dd614fc603dbd0a8ef96ecf08b2d0d"><span class="id" title="variable">γ1</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:246"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#7067d3c8870708860400aaeacc0905cf"><span class="id" title="variable">γ2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">St</span> <span class="id" title="var">Su</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset_subst_upper"><span class="id" title="lemma">freeset_subst_upper</span></a>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab569"></a><h2 class="section">Substitution of fresh variables</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_fresh" class="idref" href="#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a> : <span class="id" title="keyword">forall</span> <a id="t:249" class="idref" href="#t:249"><span class="id" title="binder">t</span></a> <a id="x:250" class="idref" href="#x:250"><span class="id" title="binder">x</span></a> <a id="u:251" class="idref" href="#u:251"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:249"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:249"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:251"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:249"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_id"><span class="id" title="lemma">subst_id</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">l</span>). <span class="id" title="tactic">eapply</span> (@<a class="idref" href="Tealeaves.Backends.LN.LN.html#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="subst_fresh_set" class="idref" href="#subst_fresh_set"><span class="id" title="lemma">subst_fresh_set</span></a> : <span class="id" title="keyword">forall</span> <a id="t:252" class="idref" href="#t:252"><span class="id" title="binder">t</span></a> <a id="x:253" class="idref" href="#x:253"><span class="id" title="binder">x</span></a> <a id="u:254" class="idref" href="#u:254"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:253"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:252"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:252"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:253"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:254"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:252"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab570"></a><h2 class="section">Composing substitutions</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_subst_local" class="idref" href="#subst_subst_local"><span class="id" title="lemma">subst_subst_local</span></a> : <span class="id" title="keyword">forall</span> (<a id="u1:255" class="idref" href="#u1:255"><span class="id" title="binder">u1</span></a> <a id="u2:256" class="idref" href="#u2:256"><span class="id" title="binder">u2</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x1:257" class="idref" href="#x1:257"><span class="id" title="binder">x1</span></a> <a id="x2:258" class="idref" href="#x2:258"><span class="id" title="binder">x2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:257"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:256"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:257"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:258"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:258"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:256"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:257"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:255"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:257"><span class="id" title="variable">x1</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:258"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:256"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:255"><span class="id" title="variable">u1</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:258"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:256"><span class="id" title="variable">u2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x2</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>, 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>), 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a>), 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>), 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a>)...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_subst" class="idref" href="#subst_subst"><span class="id" title="lemma">subst_subst</span></a> : <span class="id" title="keyword">forall</span> <a id="u1:259" class="idref" href="#u1:259"><span class="id" title="binder">u1</span></a> <a id="u2:260" class="idref" href="#u2:260"><span class="id" title="binder">u2</span></a> <a id="t:261" class="idref" href="#t:261"><span class="id" title="binder">t</span></a> (<a id="x1:262" class="idref" href="#x1:262"><span class="id" title="binder">x1</span></a> <a id="x2:263" class="idref" href="#x2:263"><span class="id" title="binder">x2</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:262"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:260"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:262"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:263"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:261"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:262"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:259"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:263"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:260"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:261"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:263"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:260"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:262"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:259"><span class="id" title="variable">u1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:263"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:260"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#kmon_bind2"><span class="id" title="method">kmon_bind2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_subst_local"><span class="id" title="lemma">subst_subst_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab571"></a><h2 class="section">Commuting two substitutions</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="subst_subst_comm" class="idref" href="#subst_subst_comm"><span class="id" title="lemma">subst_subst_comm</span></a> : <span class="id" title="keyword">forall</span> <a id="u1:264" class="idref" href="#u1:264"><span class="id" title="binder">u1</span></a> <a id="u2:265" class="idref" href="#u2:265"><span class="id" title="binder">u2</span></a> <a id="t:266" class="idref" href="#t:266"><span class="id" title="binder">t</span></a> (<a id="x1:267" class="idref" href="#x1:267"><span class="id" title="binder">x1</span></a> <a id="x2:268" class="idref" href="#x2:268"><span class="id" title="binder">x2</span></a> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:267"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:268"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:267"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:265"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:268"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:264"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:266"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:267"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:264"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:268"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:265"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:266"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x2:268"><span class="id" title="variable">x2</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:265"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x1:267"><span class="id" title="variable">x1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:264"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_subst"><span class="id" title="lemma">subst_subst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a> <span class="id" title="var">u1</span> <span class="id" title="var">x2</span> <span class="id" title="var">u2</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab572"></a><h2 class="section">Local closure is preserved by substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_lc" class="idref" href="#subst_lc"><span class="id" title="lemma">subst_lc</span></a> : <span class="id" title="keyword">forall</span> <a id="u:269" class="idref" href="#u:269"><span class="id" title="binder">u</span></a> <a id="t:270" class="idref" href="#t:270"><span class="id" title="binder">t</span></a> <a id="x:271" class="idref" href="#x:271"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:270"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:269"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:271"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:269"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:270"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">lct</span> <span class="id" title="var">lcu</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#ind_subst_iff'"><span class="id" title="lemma">ind_subst_iff'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [[? ?] | [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> [<span class="id" title="var">h1</span> [<span class="id" title="var">h2</span> <span class="id" title="var">h3</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu</span> <span class="id" title="var">n2</span> <span class="id" title="var">l</span> <span class="id" title="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">unfold_monoid</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab573"></a><h2 class="section">Decompose substitution into closing/opening</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_spec_local" class="idref" href="#subst_spec_local"><span class="id" title="lemma">subst_spec_local</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:272" class="idref" href="#u:272"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="w:273" class="idref" href="#w:273"><span class="id" title="binder">w</span></a> <a id="l:274" class="idref" href="#l:274"><span class="id" title="binder">l</span></a> <a id="x:275" class="idref" href="#x:275"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:275"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:272"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:274"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:272"><span class="id" title="variable">u</span></a> (<a class="idref" href="Tealeaves.Classes.Comonad.html#cobind"><span class="id" title="definition">cobind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:275"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:273"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:274"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">autorewrite</span>* <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">w</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>. <span class="comment">(*&nbsp;todo&nbsp;fix&nbsp;fragile&nbsp;names&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">w</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_spec" class="idref" href="#subst_spec"><span class="id" title="lemma">subst_spec</span></a> : <span class="id" title="keyword">forall</span> <a id="x:276" class="idref" href="#x:276"><span class="id" title="binder">x</span></a> <a id="u:277" class="idref" href="#u:277"><span class="id" title="binder">u</span></a> <a id="t:278" class="idref" href="#t:278"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:278"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:276"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:277"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:276"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:278"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:277"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bindd_fmapd"><span class="id" title="lemma">bindd_fmapd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bind_to_bindd"><span class="id" title="lemma">bind_to_bindd</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">erewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_spec_local"><span class="id" title="lemma">subst_spec_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab574"></a><h2 class="section">Substitution when <code>u</code> is a LN</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="subst_loc_LN" class="idref" href="#subst_loc_LN"><span class="id" title="definition">subst_loc_LN</span></a> <a id="x:279" class="idref" href="#x:279"><span class="id" title="binder">x</span></a> (<a id="u:280" class="idref" href="#u:280"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="l:281" class="idref" href="#l:281"><span class="id" title="binder">l</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:281"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:279"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.EqDec_eq.html#a6e843c62e1ac2a74737b7a9f636e026"><span class="id" title="notation">==</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">then</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:280"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_by_LN_spec" class="idref" href="#subst_by_LN_spec"><span class="id" title="lemma">subst_by_LN_spec</span></a> : <span class="id" title="keyword">forall</span> <a id="x:283" class="idref" href="#x:283"><span class="id" title="binder">x</span></a> <a id="l:284" class="idref" href="#l:284"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:283"><span class="id" title="variable">x</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:284"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_LN"><span class="id" title="definition">subst_loc_LN</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:283"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:284"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>. <span class="id" title="var">ext</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bind_respectful_fmap"><span class="id" title="lemma">bind_respectful_fmap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">l'in</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab575"></a><h2 class="section">Substitution by the same variable is the identity</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_same" class="idref" href="#subst_same"><span class="id" title="lemma">subst_same</span></a> : <span class="id" title="keyword">forall</span> <a id="t:285" class="idref" href="#t:285"><span class="id" title="binder">t</span></a> <a id="x:286" class="idref" href="#x:286"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:285"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:286"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:286"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:285"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_id"><span class="id" title="lemma">subst_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="var">now</span> <span class="id" title="var">simpl_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab576"></a><h2 class="section">Free variables after variable closing</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_free_close_iff_loc1" class="idref" href="#in_free_close_iff_loc1"><span class="id" title="lemma">in_free_close_iff_loc1</span></a> : <span class="id" title="keyword">forall</span> <a id="w:287" class="idref" href="#w:287"><span class="id" title="binder">w</span></a> <a id="l:288" class="idref" href="#l:288"><span class="id" title="binder">l</span></a> <a id="t:289" class="idref" href="#t:289"><span class="id" title="binder">t</span></a> <a id="x:290" class="idref" href="#x:290"><span class="id" title="binder">x</span></a>  <a id="y:291" class="idref" href="#y:291"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:287"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:288"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:289"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:287"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:288"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:291"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:291"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:289"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:291"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lin</span> <span class="id" title="var">heq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">la</span> | <span class="id" title="var">ln</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">heq</span>. <span class="id" title="var">destruct_eq_args</span> <span class="id" title="var">x</span> <span class="id" title="var">la</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inverts</span> <span class="id" title="var">heq</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#ind_implies_in"><span class="id" title="lemma">ind_implies_in</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">lin</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">heq</span>. <span class="id" title="var">compare_nats_args</span> <span class="id" title="var">ln</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="in_free_close_iff_loc2" class="idref" href="#in_free_close_iff_loc2"><span class="id" title="lemma">in_free_close_iff_loc2</span></a> : <span class="id" title="keyword">forall</span> <a id="t:292" class="idref" href="#t:292"><span class="id" title="binder">t</span></a> <a id="x:293" class="idref" href="#x:293"><span class="id" title="binder">x</span></a> <a id="y:294" class="idref" href="#y:294"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:293"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:294"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:294"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:292"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w:295" class="idref" href="#w:295"><span class="id" title="binder">w</span></a> <a id="l:296" class="idref" href="#l:296"><span class="id" title="binder">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:295"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:296"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">∈</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#934c3c4b89b2e961cbebf444fa26bd90"><span class="id" title="notation">d</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:292"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:293"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:295"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:296"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:294"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span> <span class="id" title="var">yin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_iff_in"><span class="id" title="lemma">ind_iff_in</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">yin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">yin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">yin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span>). <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="in_free_close_iff" class="idref" href="#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="t:297" class="idref" href="#t:297"><span class="id" title="binder">t</span></a> <a id="x:298" class="idref" href="#x:298"><span class="id" title="binder">x</span></a> <a id="y:299" class="idref" href="#y:299"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:299"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:298"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:297"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:299"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:297"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:298"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:299"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_close_iff"><span class="id" title="lemma">free_close_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">introv</span> [? [? [? ?] ] ]. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_close_iff_loc1"><span class="id" title="lemma">in_free_close_iff_loc1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [? ?]. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_close_iff_loc2"><span class="id" title="lemma">in_free_close_iff_loc2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="in_free_close_iff1" class="idref" href="#in_free_close_iff1"><span class="id" title="lemma">in_free_close_iff1</span></a> : <span class="id" title="keyword">forall</span> <a id="t:300" class="idref" href="#t:300"><span class="id" title="binder">t</span></a> <a id="x:301" class="idref" href="#x:301"><span class="id" title="binder">x</span></a> <a id="y:302" class="idref" href="#y:302"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:302"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:301"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#y:302"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:301"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:300"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:302"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:300"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_close" class="idref" href="#freeset_close"><span class="id" title="lemma">freeset_close</span></a> : <span class="id" title="keyword">forall</span> <a id="t:303" class="idref" href="#t:303"><span class="id" title="binder">t</span></a> <a id="x:304" class="idref" href="#x:304"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:304"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:303"><span class="id" title="variable">t</span></a>) <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b063f178f0ee2bd87c976d25415ff75"><span class="id" title="notation">[=]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:303"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#e40a24bfd9811437726f4487b00cdaf0"><span class="id" title="notation">\\</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:304"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.diff_spec"><span class="id" title="lemma">AtomSet.diff_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.singleton_spec"><span class="id" title="lemma">AtomSet.singleton_spec</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="nin_free_close" class="idref" href="#nin_free_close"><span class="id" title="lemma">nin_free_close</span></a> : <span class="id" title="keyword">forall</span> <a id="t:305" class="idref" href="#t:305"><span class="id" title="binder">t</span></a> <a id="x:306" class="idref" href="#x:306"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:306"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:306"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:305"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_close_iff"><span class="id" title="lemma">in_free_close_iff</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="nin_freeset_close" class="idref" href="#nin_freeset_close"><span class="id" title="lemma">nin_freeset_close</span></a> : <span class="id" title="keyword">forall</span> <a id="t:307" class="idref" href="#t:307"><span class="id" title="binder">t</span></a> <a id="x:308" class="idref" href="#x:308"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:308"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:308"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:307"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#nin_free_close"><span class="id" title="lemma">nin_free_close</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab577"></a><h2 class="section">Variable closing and local closure</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="close_lc_eq" class="idref" href="#close_lc_eq"><span class="id" title="lemma">close_lc_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="t:309" class="idref" href="#t:309"><span class="id" title="binder">t</span></a> <a id="x:310" class="idref" href="#x:310"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:309"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> 1 (<a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:310"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:309"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">lct</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#ind_close_iff"><span class="id" title="lemma">ind_close_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l1</span> [? ?]]. <span class="id" title="var">compare</span> <span class="id" title="var">l1</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;contradiction&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">w</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lct</span>. <span class="id" title="var">now</span> <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lct</span>. <span class="id" title="var">now</span> <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab578"></a><h2 class="section">Upper and lower bounds on free variables after opening</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="free_open_upper_local" class="idref" href="#free_open_upper_local"><span class="id" title="lemma">free_open_upper_local</span></a> : <span class="id" title="keyword">forall</span> <a id="t:311" class="idref" href="#t:311"><span class="id" title="binder">t</span></a> (<a id="u:312" class="idref" href="#u:312"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="w:313" class="idref" href="#w:313"><span class="id" title="binder">w</span></a> <a id="l:314" class="idref" href="#l:314"><span class="id" title="binder">l</span></a> <a id="x:315" class="idref" href="#x:315"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:314"><span class="id" title="variable">l</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:311"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:315"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:312"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:313"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:314"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#l:314"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:315"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:315"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:311"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:315"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:312"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lin</span> <span class="id" title="var">xin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> | <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">xin</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">xin</span>. <span class="id" title="var">simpl_local</span>. <span class="id" title="var">easy</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">contradict</span> <span class="id" title="var">xin</span>. <span class="id" title="var">simpl_local</span>. <span class="id" title="var">easy</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="free_open_upper" class="idref" href="#free_open_upper"><span class="id" title="lemma">free_open_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:316" class="idref" href="#t:316"><span class="id" title="binder">t</span></a> (<a id="u:317" class="idref" href="#u:317"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="x:318" class="idref" href="#x:318"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:318"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:316"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:317"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:318"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:316"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:318"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:317"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_open_iff"><span class="id" title="lemma">free_open_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">xin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> [<span class="id" title="var">l</span> [<span class="id" title="var">hin</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#ind_implies_in"><span class="id" title="lemma">ind_implies_in</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">u</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_open_upper_local"><span class="id" title="lemma">free_open_upper_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_open_upper" class="idref" href="#freeset_open_upper"><span class="id" title="lemma">freeset_open_upper</span></a> : <span class="id" title="keyword">forall</span> <a id="t:319" class="idref" href="#t:319"><span class="id" title="binder">t</span></a> (<a id="u:320" class="idref" href="#u:320"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:319"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:320"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:319"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:320"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#AtomSet.union_spec"><span class="id" title="lemma">AtomSet.union_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_open_upper"><span class="id" title="lemma">free_open_upper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="free_open_lower" class="idref" href="#free_open_lower"><span class="id" title="lemma">free_open_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:321" class="idref" href="#t:321"><span class="id" title="binder">t</span></a> <a id="u:322" class="idref" href="#u:322"><span class="id" title="binder">u</span></a> <a id="x:323" class="idref" href="#x:323"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:321"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:321"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:322"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_iff_in"><span class="id" title="lemma">ind_iff_in</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">xin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">xin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span> <span class="id" title="var">xin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_open_iff"><span class="id" title="lemma">free_open_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#in_free_iff"><span class="id" title="lemma">in_free_iff</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="freeset_open_lower" class="idref" href="#freeset_open_lower"><span class="id" title="lemma">freeset_open_lower</span></a> : <span class="id" title="keyword">forall</span> <a id="t:324" class="idref" href="#t:324"><span class="id" title="binder">t</span></a> <a id="u:325" class="idref" href="#u:325"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:324"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:324"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:325"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> &lt;- 2(<a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_open_lower"><span class="id" title="lemma">free_open_lower</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab579"></a><h2 class="section">Opening a locally closed term is the identity</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_lc_local" class="idref" href="#open_lc_local"><span class="id" title="lemma">open_lc_local</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:326" class="idref" href="#u:326"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) <a id="w:327" class="idref" href="#w:327"><span class="id" title="binder">w</span></a> <a id="l:328" class="idref" href="#l:328"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:327"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:328"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:326"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:327"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:328"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:328"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">hyp</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> | <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>; <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_lc" class="idref" href="#open_lc"><span class="id" title="lemma">open_lc</span></a> : <span class="id" title="keyword">forall</span> <a id="t:329" class="idref" href="#t:329"><span class="id" title="binder">t</span></a> <a id="u:330" class="idref" href="#u:330"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:329"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:329"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:330"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:329"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lc</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_id"><span class="id" title="lemma">open_id</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">lc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">lin</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_lc_local"><span class="id" title="lemma">open_lc_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#Notations"><span class="id" title="module">Decorated.Monad.Notations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab580"></a><h2 class="section">Opening followed by substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_open_local" class="idref" href="#subst_open_local"><span class="id" title="lemma">subst_open_local</span></a> : <span class="id" title="keyword">forall</span> <a id="u1:331" class="idref" href="#u1:331"><span class="id" title="binder">u1</span></a> <a id="u2:332" class="idref" href="#u2:332"><span class="id" title="binder">u2</span></a> <a id="x:333" class="idref" href="#x:333"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:332"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:332"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:331"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:331"><span class="id" title="variable">u1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:332"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>) <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">⋆</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">dm</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:332"><span class="id" title="variable">u2</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lcu2</span>. <span class="id" title="var">ext</span> [<span class="id" title="var">w</span> <span class="id" title="var">l</span>]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#kcompose_dm"><span class="id" title="definition">kcompose_dm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#preincr"><span class="id" title="definition">preincr</span></a>, <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bindd_respectful_id"><span class="id" title="lemma">bindd_respectful_id</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lcu2</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> (<span class="id" title="var">w</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <span class="id" title="var">w0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">eauto</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lcu2</span>. <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">eauto</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lcu2</span>. <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">a</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#kmond_bindd0"><span class="id" title="method">kmond_bindd0</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#kmond_bindd0"><span class="id" title="method">kmond_bindd0</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>); <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">w</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#kmond_bindd0"><span class="id" title="method">kmond_bindd0</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">w</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#kmond_bindd0"><span class="id" title="method">kmond_bindd0</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_id_l"><span class="id" title="method">monoid_id_l</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_open" class="idref" href="#subst_open"><span class="id" title="lemma">subst_open</span></a> :  <span class="id" title="keyword">forall</span> <a id="u1:334" class="idref" href="#u1:334"><span class="id" title="binder">u1</span></a> <a id="u2:335" class="idref" href="#u2:335"><span class="id" title="binder">u2</span></a> <a id="t:336" class="idref" href="#t:336"><span class="id" title="binder">t</span></a> <a id="x:337" class="idref" href="#x:337"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:335"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:334"><span class="id" title="variable">u1</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:337"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:335"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:336"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:337"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:335"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u1:334"><span class="id" title="variable">u1</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:337"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u2:335"><span class="id" title="variable">u2</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lc</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <span class="id" title="tactic">at</span> 1 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bind_bindd"><span class="id" title="lemma">bind_bindd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bindd_bind"><span class="id" title="lemma">bindd_bind</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_open_local"><span class="id" title="lemma">subst_open_local</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab581"></a><h2 class="section">Decompose opening into variable opening followed by substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_spec_local" class="idref" href="#open_spec_local"><span class="id" title="lemma">open_spec_local</span></a> : <span class="id" title="keyword">forall</span> <a id="u:338" class="idref" href="#u:338"><span class="id" title="binder">u</span></a> <a id="x:339" class="idref" href="#x:339"><span class="id" title="binder">x</span></a> <a id="w:340" class="idref" href="#w:340"><span class="id" title="binder">w</span></a> <a id="l:341" class="idref" href="#l:341"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:341"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:339"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:339"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:338"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:339"><span class="id" title="variable">x</span></a>))<a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">w</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">l</span></a><a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:338"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#w:340"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:341"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_local</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_neq"><span class="id" title="lemma">subst_loc_neq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_eq"><span class="id" title="lemma">subst_loc_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc_b"><span class="id" title="lemma">subst_loc_b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;theorem&nbsp;would&nbsp;be&nbsp;easy&nbsp;to&nbsp;prove&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">subst_open_eq</span></span>,&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;applying&nbsp;that&nbsp;theorem&nbsp;would&nbsp;introduce&nbsp;a&nbsp;local&nbsp;closure&nbsp;hypothesis<br/>
&nbsp;&nbsp;&nbsp;for&nbsp;&lt;&lt;u&gt;&gt;&nbsp;that&nbsp;is&nbsp;not&nbsp;actually&nbsp;required&nbsp;for&nbsp;our&nbsp;purposes.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_spec_eq" class="idref" href="#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> : <span class="id" title="keyword">forall</span> <a id="u:342" class="idref" href="#u:342"><span class="id" title="binder">u</span></a> <a id="t:343" class="idref" href="#t:343"><span class="id" title="binder">t</span></a> <a id="x:344" class="idref" href="#x:344"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:344"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#9cf70f4f46b2021514e42e92c6e5021e"><span class="id" title="notation">∈@</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:343"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:343"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:342"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:343"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:344"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:344"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:342"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="tactic">fresh</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bind_bindd"><span class="id" title="lemma">bind_bindd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bindd_respectful"><span class="id" title="lemma">bindd_respectful</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="var">introv</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#ind_implies_in"><span class="id" title="lemma">ind_implies_in</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.LN.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">fresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="tactic">fresh</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_spec_local"><span class="id" title="lemma">open_spec_local</span></a> <span class="id" title="var">u</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab582"></a><h2 class="section">Opening by a variable, followed by non-equal substitution</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="subst_open_var_loc" class="idref" href="#subst_open_var_loc"><span class="id" title="lemma">subst_open_var_loc</span></a> : <span class="id" title="keyword">forall</span> <a id="u:345" class="idref" href="#u:345"><span class="id" title="binder">u</span></a> <a id="x:346" class="idref" href="#x:346"><span class="id" title="binder">x</span></a> <a id="y:347" class="idref" href="#y:347"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:346"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:347"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:345"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:346"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:345"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:347"><span class="id" title="variable">y</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:347"><span class="id" title="variable">y</span></a>)) <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">⋆</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">dm</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_loc"><span class="id" title="definition">subst_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:346"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:345"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#extract"><span class="id" title="definition">extract</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Monad.html#a39497b65742c24a614c9e7ffb6fb518"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span> <span class="id" title="var">lc</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_open_local"><span class="id" title="lemma">subst_open_local</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_in_ret"><span class="id" title="lemma">subst_in_ret</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="subst_open_var" class="idref" href="#subst_open_var"><span class="id" title="lemma">subst_open_var</span></a> : <span class="id" title="keyword">forall</span> <a id="u:348" class="idref" href="#u:348"><span class="id" title="binder">u</span></a> <a id="t:349" class="idref" href="#t:349"><span class="id" title="binder">t</span></a> <a id="x:350" class="idref" href="#x:350"><span class="id" title="binder">x</span></a> <a id="y:351" class="idref" href="#y:351"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#x:350"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:351"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:348"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:349"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:351"><span class="id" title="variable">y</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:350"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:348"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:349"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">'{</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:350"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:348"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#c1fac18a7e63fc2c05d720161ac03c0e"><span class="id" title="notation">}</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#y:351"><span class="id" title="variable">y</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span> <span class="id" title="var">lc</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bind_bindd"><span class="id" title="lemma">bind_bindd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>), (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bindd_bind"><span class="id" title="lemma">bindd_bind</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_left</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#subst_open_var_loc"><span class="id" title="lemma">subst_open_var_loc</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="var">Keyed</span> <span class="id" title="var">Unification</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab583"></a><h2 class="section">Closing, followed by opening</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_close_local" class="idref" href="#open_close_local"><span class="id" title="lemma">open_close_local</span></a> : <span class="id" title="keyword">forall</span> <a id="x:352" class="idref" href="#x:352"><span class="id" title="binder">x</span></a> <a id="w:353" class="idref" href="#w:353"><span class="id" title="binder">w</span></a> <a id="l:354" class="idref" href="#l:354"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#open_loc"><span class="id" title="definition">open_loc</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:352"><span class="id" title="variable">x</span></a>)) <a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">co</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">⋆</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:352"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">w</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">l</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:354"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">w</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">w</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_close" class="idref" href="#open_close"><span class="id" title="lemma">open_close</span></a> : <span class="id" title="keyword">forall</span> <a id="x:355" class="idref" href="#x:355"><span class="id" title="binder">x</span></a> <a id="t:356" class="idref" href="#t:356"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:355"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:356"><span class="id" title="variable">t</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:355"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:356"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#Derived.bindd_fmapd"><span class="id" title="lemma">bindd_fmapd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bindd_respectful_id"><span class="id" title="lemma">bindd_respectful_id</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_close_local"><span class="id" title="lemma">open_close_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab584"></a><h2 class="section">Opening by a LN reduces to an <span class="inlinecode"><span class="id" title="var">fmapkr</span></span></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="open_LN_loc" class="idref" href="#open_LN_loc"><span class="id" title="definition">open_LN_loc</span></a> (<a id="u:357" class="idref" href="#u:357"><span class="id" title="binder">u</span></a> : <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#LN"><span class="id" title="inductive">LN</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="wl:358" class="idref" href="#wl:358"><span class="id" title="binder">wl</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#wl:358"><span class="id" title="variable">wl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Nat.html#compare"><span class="id" title="definition">Nat.compare</span></a> <span class="id" title="var">n</span> <span class="id" title="var">w</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:357"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_by_LN_spec" class="idref" href="#open_by_LN_spec"><span class="id" title="lemma">open_by_LN_spec</span></a> : <span class="id" title="keyword">forall</span> <a id="l:361" class="idref" href="#l:361"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:361"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#fmapd"><span class="id" title="definition">fmapd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#open_LN_loc"><span class="id" title="definition">open_LN_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:361"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open"><span class="id" title="definition">open</span></a>. <span class="id" title="var">ext</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#bindd_respectful_fmapd"><span class="id" title="lemma">bindd_respectful_fmapd</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">l'</span> <span class="id" title="var">l'in</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab585"></a><h2 class="section">Opening, followed by closing</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="close_open_local" class="idref" href="#close_open_local"><span class="id" title="lemma">close_open_local</span></a> : <span class="id" title="keyword">forall</span> <a id="x:362" class="idref" href="#x:362"><span class="id" title="binder">x</span></a> <a id="w:363" class="idref" href="#w:363"><span class="id" title="binder">w</span></a> <a id="l:364" class="idref" href="#l:364"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#l:364"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:362"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#close_loc"><span class="id" title="definition">close_loc</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:362"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">co</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">⋆</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_LN_loc"><span class="id" title="definition">open_LN_loc</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:362"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">w</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">l</span></a><a class="idref" href="Tealeaves.Classes.Comonad.html#eeacdc8eb5f3dd510249a29d4836da10"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#l:364"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">neq</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="var">compare</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">atom</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="close_open" class="idref" href="#close_open"><span class="id" title="lemma">close_open</span></a> : <span class="id" title="keyword">forall</span> <a id="x:365" class="idref" href="#x:365"><span class="id" title="binder">x</span></a> <a id="t:366" class="idref" href="#t:366"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:365"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:366"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">'[</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#x:365"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">]</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#t:366"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:365"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3e35d30b94bf44e84b02657f2f4f32dc"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:366"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="tactic">fresh</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">t</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_by_LN_spec"><span class="id" title="lemma">open_by_LN_spec</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close"><span class="id" title="definition">close</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.Decorated.Functor.html#dfun_fmapd2"><span class="id" title="method">dfun_fmapd2</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#fmapd_respectful_id"><span class="id" title="lemma">fmapd_respectful_id</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">l</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#neq_symmetry"><span class="id" title="lemma">neq_symmetry</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Functor.html#ind_implies_in"><span class="id" title="lemma">ind_implies_in</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">lin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#ninf_in_neq"><span class="id" title="lemma">ninf_in_neq</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#close_open_local"><span class="id" title="lemma">close_open_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab586"></a><h2 class="section">Opening and local closure</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_lc_gap_eq_1" class="idref" href="#open_lc_gap_eq_1"><span class="id" title="lemma">open_lc_gap_eq_1</span></a> : <span class="id" title="keyword">forall</span> <a id="n:367" class="idref" href="#n:367"><span class="id" title="binder">n</span></a> <a id="t:368" class="idref" href="#t:368"><span class="id" title="binder">t</span></a> <a id="u:369" class="idref" href="#u:369"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:369"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:367"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:368"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:367"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:368"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:369"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">lcu</span> <span class="id" title="var">lct</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#ind_open_iff"><span class="id" title="lemma">ind_open_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n1</span> [<span class="id" title="var">n2</span> [<span class="id" title="var">l1</span> [<span class="id" title="var">h1</span> [<span class="id" title="var">h2</span> <span class="id" title="var">h3</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_ret_iff"><span class="id" title="lemma">ind_ret_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h1</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_ret_iff"><span class="id" title="lemma">ind_ret_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">unfold_monoid</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lcu</span> <span class="id" title="var">n2</span> <span class="id" title="var">l</span> <span class="id" title="var">h2</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">trivial</span>|]. <span class="id" title="var">unfold_monoid</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_ret_iff"><span class="id" title="lemma">ind_ret_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">h2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#is_bound_or_free"><span class="id" title="definition">is_bound_or_free</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="open_lc_gap_eq_2" class="idref" href="#open_lc_gap_eq_2"><span class="id" title="lemma">open_lc_gap_eq_2</span></a> : <span class="id" title="keyword">forall</span> <a id="n:370" class="idref" href="#n:370"><span class="id" title="binder">n</span></a> <a id="t:371" class="idref" href="#t:371"><span class="id" title="binder">t</span></a> <a id="u:372" class="idref" href="#u:372"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:370"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:372"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:370"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:371"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:372"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:370"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:371"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ngt</span> <span class="id" title="var">lcu</span> <span class="id" title="var">lct</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#ind_open_iff"><span class="id" title="lemma">ind_open_iff</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">lct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">cbv</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lapply</span> <span class="id" title="var">lct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>; <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_ret_iff"><span class="id" title="lemma">ind_ret_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="var">unfold_lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">lct</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> (<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lapply</span> <span class="id" title="var">lct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>; <span class="id" title="var">unfold_lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> (<a class="idref" href="Tealeaves.Classes.Monoid.html#118a0ae73788a324a953caf13a2d25ca"><span class="id" title="notation">Ƶ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Bd"><span class="id" title="constructor">Bd</span></a> <span class="id" title="var">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">naturals</span> <span class="id" title="var">n0</span> <span class="id" title="var">and</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_ret_iff"><span class="id" title="lemma">ind_ret_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>). <span class="id" title="var">now</span> <span class="id" title="var">simpl_monoid</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="open_lc_gap_eq_iff" class="idref" href="#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="n:373" class="idref" href="#n:373"><span class="id" title="binder">n</span></a> <a id="t:374" class="idref" href="#t:374"><span class="id" title="binder">t</span></a> <a id="u:375" class="idref" href="#u:375"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:373"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:375"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:373"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:374"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:373"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:374"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:375"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_lc_gap_eq_1"><span class="id" title="lemma">open_lc_gap_eq_1</span></a>, <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_lc_gap_eq_2"><span class="id" title="lemma">open_lc_gap_eq_2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="open_lc_gap_eq_var" class="idref" href="#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a> : <span class="id" title="keyword">forall</span> <a id="n:376" class="idref" href="#n:376"><span class="id" title="binder">n</span></a> <a id="t:377" class="idref" href="#t:377"><span class="id" title="binder">t</span></a> <a id="x:378" class="idref" href="#x:378"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:376"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#n:376"><span class="id" title="variable">n</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:377"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#n:376"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:377"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:378"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">l</span> <span class="id" title="var">hin</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Kleisli.DT.Monad.html#ind_ret_iff"><span class="id" title="lemma">ind_ret_iff</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hin</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">cbv</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="open_lc_gap_eq_iff_1" class="idref" href="#open_lc_gap_eq_iff_1"><span class="id" title="lemma">open_lc_gap_eq_iff_1</span></a> : <span class="id" title="keyword">forall</span> <a id="t:379" class="idref" href="#t:379"><span class="id" title="binder">t</span></a> <a id="u:380" class="idref" href="#u:380"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#u:380"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> 1 <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:379"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:379"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#u:380"><span class="id" title="variable">u</span></a><a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> 0 <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="open_lc_gap_eq_var_1" class="idref" href="#open_lc_gap_eq_var_1"><span class="id" title="lemma">open_lc_gap_eq_var_1</span></a> : <span class="id" title="keyword">forall</span> <a id="t:381" class="idref" href="#t:381"><span class="id" title="binder">t</span></a> <a id="x:382" class="idref" href="#x:382"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed_gap"><span class="id" title="definition">locally_closed_gap</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> 1 <a class="idref" href="Tealeaves.Backends.LN.LN.html#t:381"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#t:381"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">'(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Tealeaves.Backends.LN.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Backends.LN.LN.html#x:382"><span class="id" title="variable">x</span></a>)<a class="idref" href="Tealeaves.Backends.LN.LN.html#3b2ece2ab72209c6f190ac77e0d90986"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> 0 <span class="id" title="keyword">with</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Backends.LN.LN.html#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Backends.LN.LN.html#locally_nameless_metatheory"><span class="id" title="section">locally_nameless_metatheory</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
