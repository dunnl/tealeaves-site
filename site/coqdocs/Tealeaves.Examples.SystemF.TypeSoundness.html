<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Examples.SystemF.TypeSoundness</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#"><span class="id" title="library">Examples.SystemF.Syntax</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#"><span class="id" title="library">Examples.SystemF.Rewriting</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#"><span class="id" title="library">Examples.SystemF.Contexts</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#"><span class="id" title="library">Backends.LN.AssocList</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Traversable.Monad.html#"><span class="id" title="library">Classes.Traversable.Monad</span></a>. <span class="comment">(*&nbsp;bind&nbsp;for&nbsp;lists&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Sorting.Permutation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">x</span> : <a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a>).<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#"><span class="id" title="library">Classes.Kleisli.Monad</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#Notations"><span class="id" title="module">Classes.Setlike.Functor.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Multisorted.Classes.DTM.html#Notations"><span class="id" title="module">DTM.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#Notations"><span class="id" title="module">LN.AssocList.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">List.ListNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rw_subst_type_var_neq" class="idref" href="#rw_subst_type_var_neq"><span class="id" title="lemma">rw_subst_type_var_neq</span></a> {<a id="x:1" class="idref" href="#x:1"><span class="id" title="binder">x</span></a> <a id="y:2" class="idref" href="#y:2"><span class="id" title="binder">y</span></a>} {<a id="47b4965c8bb96083fe0abaa64b4b4ea8" class="idref" href="#47b4965c8bb96083fe0abaa64b4b4ea8"><span class="id" title="binder">τ'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:1"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#y:2"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:1"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#47b4965c8bb96083fe0abaa64b4b4ea8"><span class="id" title="variable">τ'</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#y:2"><span class="id" title="variable">y</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ty_v"><span class="id" title="constructor">ty_v</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#y:2"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rw_subst_term_var_neq" class="idref" href="#rw_subst_term_var_neq"><span class="id" title="lemma">rw_subst_term_var_neq</span></a> {<a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a> <a id="y:5" class="idref" href="#y:5"><span class="id" title="binder">y</span></a>} {<a id="3e04709bb11b5bba5059773458c0fe1c" class="idref" href="#3e04709bb11b5bba5059773458c0fe1c"><span class="id" title="binder">τ</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#y:5"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:4"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3e04709bb11b5bba5059773458c0fe1c"><span class="id" title="variable">τ</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#y:5"><span class="id" title="variable">y</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#y:5"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab915"></a><h1 class="section">Properties of the typing judgment <code>Δ ; Γ ⊢ t : τ</code></h1>

<div class="paragraph"> </div>

<a id="lab916"></a><h2 class="section">Structural properties <code>Δ ; Γ ⊢ t : τ</code> in <code>Δ</code></h2>

<div class="paragraph"> </div>

<a id="lab917"></a><h3 class="section"><code>Δ</code> is always well-formed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_kind_ctx_wf" class="idref" href="#j_kind_ctx_wf"><span class="id" title="lemma">j_kind_ctx_wf</span></a> : <span class="id" title="keyword">forall</span> <a id="3d409925eecfe9fac9d850edb88dd4e5" class="idref" href="#3d409925eecfe9fac9d850edb88dd4e5"><span class="id" title="binder">Δ</span></a> <a id="d5be501d00a8c9c4c28302f544699b7d" class="idref" href="#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="binder">Γ</span></a> <a id="t:9" class="idref" href="#t:9"><span class="id" title="binder">t</span></a> <a id="68a490e9ef5eac378bb87c2bdc8ecd4f" class="idref" href="#68a490e9ef5eac378bb87c2bdc8ecd4f"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3d409925eecfe9fac9d850edb88dd4e5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d5be501d00a8c9c4c28302f544699b7d"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:9"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#68a490e9ef5eac378bb87c2bdc8ecd4f"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_kind_ctx"><span class="id" title="definition">ok_kind_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3d409925eecfe9fac9d850edb88dd4e5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_kind_ctx"><span class="id" title="definition">ok_kind_ctx</span></a>; <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cleanup_cofinite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: (<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_uniq</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab918"></a><h3 class="section">Permutation</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_perm" class="idref" href="#j_kind_ctx_perm"><span class="id" title="lemma">j_kind_ctx_perm</span></a> : <span class="id" title="keyword">forall</span> <a id="f9759a827eccbec2989ce3f9232925fa" class="idref" href="#f9759a827eccbec2989ce3f9232925fa"><span class="id" title="binder">Δ1</span></a> <a id="8f3c30b4ed478f26bb6be444de749f82" class="idref" href="#8f3c30b4ed478f26bb6be444de749f82"><span class="id" title="binder">Δ2</span></a> <a id="a57704a48aaf9a67d8a3df75d6eea365" class="idref" href="#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="binder">Γ</span></a> <a id="t:14" class="idref" href="#t:14"><span class="id" title="binder">t</span></a> <a id="8386e35dda34fed27cb28fc91360cb4d" class="idref" href="#8386e35dda34fed27cb28fc91360cb4d"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f9759a827eccbec2989ce3f9232925fa"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8f3c30b4ed478f26bb6be444de749f82"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f9759a827eccbec2989ce3f9232925fa"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:14"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8386e35dda34fed27cb28fc91360cb4d"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8f3c30b4ed478f26bb6be444de749f82"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a57704a48aaf9a67d8a3df75d6eea365"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:14"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8386e35dda34fed27cb28fc91360cb4d"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">perm</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Δ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hperm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_sym"><span class="id" title="lemma">Permutation_sym</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_tail"><span class="id" title="lemma">Permutation_app_tail</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_perm1"><span class="id" title="lemma">ok_type_perm1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_kind_ctx_perm1" class="idref" href="#j_kind_ctx_perm1"><span class="id" title="lemma">j_kind_ctx_perm1</span></a> : <span class="id" title="keyword">forall</span> <a id="d7105d6ad08953a1f7ea5cd6615c6214" class="idref" href="#d7105d6ad08953a1f7ea5cd6615c6214"><span class="id" title="binder">Δ1</span></a> <a id="14239f35b62cb1970fbd6bb4131255f6" class="idref" href="#14239f35b62cb1970fbd6bb4131255f6"><span class="id" title="binder">Δ2</span></a> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a> <a id="d2f974a479ebcd81c5829843a3f7c760" class="idref" href="#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="binder">Γ</span></a> <a id="t:20" class="idref" href="#t:20"><span class="id" title="binder">t</span></a> <a id="b41575182aafdf1b24372763b9cfe753" class="idref" href="#b41575182aafdf1b24372763b9cfe753"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d7105d6ad08953a1f7ea5cd6615c6214"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#14239f35b62cb1970fbd6bb4131255f6"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:20"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b41575182aafdf1b24372763b9cfe753"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d7105d6ad08953a1f7ea5cd6615c6214"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#14239f35b62cb1970fbd6bb4131255f6"><span class="id" title="variable">Δ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d2f974a479ebcd81c5829843a3f7c760"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:20"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b41575182aafdf1b24372763b9cfe753"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_perm"><span class="id" title="lemma">j_kind_ctx_perm</span></a>. 2:{ <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">simpl_alist</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app"><span class="id" title="lemma">Permutation_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_refl"><span class="id" title="lemma">Permutation_refl</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab919"></a><h3 class="section">Weakening</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_weak" class="idref" href="#j_kind_ctx_weak"><span class="id" title="lemma">j_kind_ctx_weak</span></a> : <span class="id" title="keyword">forall</span> <a id="f55c542a5b513ad00904e0d3d0f4c8c6" class="idref" href="#f55c542a5b513ad00904e0d3d0f4c8c6"><span class="id" title="binder">Δ1</span></a> <a id="f759f81ce9e3f23e546ebf6e97c4e515" class="idref" href="#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="binder">Δ2</span></a> <a id="c14c0b2265abf3ec26ac01165fe38870" class="idref" href="#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="binder">Γ</span></a> <a id="t:25" class="idref" href="#t:25"><span class="id" title="binder">t</span></a> <a id="625295a83607c4158cc0b7caec18ea6a" class="idref" href="#625295a83607c4158cc0b7caec18ea6a"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_kind_ctx"><span class="id" title="definition">ok_kind_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f55c542a5b513ad00904e0d3d0f4c8c6"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f55c542a5b513ad00904e0d3d0f4c8c6"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:25"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#625295a83607c4158cc0b7caec18ea6a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f55c542a5b513ad00904e0d3d0f4c8c6"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f759f81ce9e3f23e546ebf6e97c4e515"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c14c0b2265abf3ec26ac01165fe38870"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:25"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#625295a83607c4158cc0b7caec18ea6a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ok</span> <span class="id" title="var">disj</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_var"><span class="id" title="constructor">j_var</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a> <span class="id" title="keyword">with</span> (τ1 := τ1); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_perm1"><span class="id" title="lemma">j_kind_ctx_perm1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab920"></a><h3 class="section">Substitution</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_subst" class="idref" href="#j_kind_ctx_subst"><span class="id" title="lemma">j_kind_ctx_subst</span></a> : <span class="id" title="keyword">forall</span> <a id="4d0660f1805735501c53df2cac7c1ade" class="idref" href="#4d0660f1805735501c53df2cac7c1ade"><span class="id" title="binder">Δ1</span></a> <a id="x:28" class="idref" href="#x:28"><span class="id" title="binder">x</span></a> <a id="f06cbbf91b504a36d3b7aee71301e378" class="idref" href="#f06cbbf91b504a36d3b7aee71301e378"><span class="id" title="binder">Δ2</span></a> <a id="a84750bab259aa2f16170b25727bba3f" class="idref" href="#a84750bab259aa2f16170b25727bba3f"><span class="id" title="binder">Γ</span></a> <a id="t:31" class="idref" href="#t:31"><span class="id" title="binder">t</span></a> <a id="2a046109bdcd234cf1f1caa02c0d4a23" class="idref" href="#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="binder">τ</span></a> <a id="b38cabc2368805a71a97d3253d6d2766" class="idref" href="#b38cabc2368805a71a97d3253d6d2766"><span class="id" title="binder">τ'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> (<a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4d0660f1805735501c53df2cac7c1ade"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f06cbbf91b504a36d3b7aee71301e378"><span class="id" title="variable">Δ2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b38cabc2368805a71a97d3253d6d2766"><span class="id" title="variable">τ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4d0660f1805735501c53df2cac7c1ade"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f06cbbf91b504a36d3b7aee71301e378"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4d0660f1805735501c53df2cac7c1ade"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f06cbbf91b504a36d3b7aee71301e378"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap"><span class="id" title="definition">envmap</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b38cabc2368805a71a97d3253d6d2766"><span class="id" title="variable">τ'</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a84750bab259aa2f16170b25727bba3f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b38cabc2368805a71a97d3253d6d2766"><span class="id" title="variable">τ'</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:31"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b38cabc2368805a71a97d3253d6d2766"><span class="id" title="variable">τ'</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2a046109bdcd234cf1f1caa02c0d4a23"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hok</span> <span class="id" title="var">j</span>. <span class="id" title="var">remember</span> (<span class="id" title="var">Δ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Δ2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">rem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Δ2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_sub"><span class="id" title="lemma">ok_type_ctx_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#in_envmap_iff"><span class="id" title="lemma">in_envmap_iff</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>. <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_open_neq"><span class="id" title="lemma">subst_open_neq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">discriminate</span> + <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#lc_KTerm_type"><span class="id" title="lemma">lc_KTerm_type</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#rw_subst_term_var_neq"><span class="id" title="lemma">rw_subst_term_var_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>; [ |<span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap_app"><span class="id" title="lemma">envmap_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHj1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>. <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a><span class="id" title="var">x</span><a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>. <span class="id" title="var">simpl_alist</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">e</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="var">inverts</span> <span class="id" title="var">Hok</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">now</span> <span class="id" title="var">inverts</span> <span class="id" title="var">Hok</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#rw_subst_type_var_neq"><span class="id" title="lemma">rw_subst_type_var_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">change_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Δ2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_weak_r"><span class="id" title="lemma">ok_type_weak_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">clear</span> <span class="id" title="var">IHj</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="j_kind_ctx_subst1" class="idref" href="#j_kind_ctx_subst1"><span class="id" title="lemma">j_kind_ctx_subst1</span></a> : <span class="id" title="keyword">forall</span> <a id="aa433282953bfe1853d4096d66b72ef4" class="idref" href="#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="binder">Δ</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> <a id="7157cf1298d28a4e1a18670b74a28bdb" class="idref" href="#7157cf1298d28a4e1a18670b74a28bdb"><span class="id" title="binder">Γ</span></a> <a id="t:37" class="idref" href="#t:37"><span class="id" title="binder">t</span></a> <a id="b30a5213271900b9974c1725ef605a9c" class="idref" href="#b30a5213271900b9974c1725ef605a9c"><span class="id" title="binder">τ</span></a> <a id="61400cc9b08b143efe442dd4785e0241" class="idref" href="#61400cc9b08b143efe442dd4785e0241"><span class="id" title="binder">τ2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#61400cc9b08b143efe442dd4785e0241"><span class="id" title="variable">τ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#7157cf1298d28a4e1a18670b74a28bdb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:37"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b30a5213271900b9974c1725ef605a9c"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#aa433282953bfe1853d4096d66b72ef4"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap"><span class="id" title="definition">envmap</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#61400cc9b08b143efe442dd4785e0241"><span class="id" title="variable">τ2</span></a>) <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#7157cf1298d28a4e1a18670b74a28bdb"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#61400cc9b08b143efe442dd4785e0241"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:37"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#61400cc9b08b143efe442dd4785e0241"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b30a5213271900b9974c1725ef605a9c"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>τ <span class="id" title="var">jt</span>. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">jt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">change_alist</span> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">j</span>τ. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_subst"><span class="id" title="lemma">j_kind_ctx_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab921"></a><h2 class="section">Properties of <code>Δ ; Γ ⊢ t : τ</code> in <code>Γ</code></h2>

<div class="paragraph"> </div>

<a id="lab922"></a><h3 class="section"><code>Γ</code> is always well-formed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_type_ctx_wf" class="idref" href="#j_type_ctx_wf"><span class="id" title="lemma">j_type_ctx_wf</span></a> : <span class="id" title="keyword">forall</span> <a id="132798b8acac29be931b8af59d1aecf3" class="idref" href="#132798b8acac29be931b8af59d1aecf3"><span class="id" title="binder">Δ</span></a> <a id="2a787a075caaaff77edb51afaa922541" class="idref" href="#2a787a075caaaff77edb51afaa922541"><span class="id" title="binder">Γ</span></a> <a id="t:42" class="idref" href="#t:42"><span class="id" title="binder">t</span></a> <a id="823b398bcc4762008347ab77df0d7cc7" class="idref" href="#823b398bcc4762008347ab77df0d7cc7"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#132798b8acac29be931b8af59d1aecf3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2a787a075caaaff77edb51afaa922541"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:42"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#823b398bcc4762008347ab77df0d7cc7"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type_ctx"><span class="id" title="definition">ok_type_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#132798b8acac29be931b8af59d1aecf3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#2a787a075caaaff77edb51afaa922541"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cleanup_cofinite</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_inv_app_l"><span class="id" title="lemma">ok_type_ctx_inv_app_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#atoms"><span class="id" title="definition">atoms</span></a> (<a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#bind"><span class="id" title="definition">bind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">(</span></a><a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">x</span></a><a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">,</span></a> <a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">t</span></a><a id="pat:49" class="idref" href="#pat:49"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:44"><span class="id" title="variable">t</span></a>) <span class="id" title="var">Γ</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_stren1"><span class="id" title="lemma">ok_type_ctx_stren1</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">introv</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">lemma</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Classes.Kleisli.Monad.html#bind"><span class="id" title="definition">bind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">(</span></a><a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">x</span></a><a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">,</span></a> <a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">t</span></a><a id="pat:55" class="idref" href="#pat:55"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#free"><span class="id" title="definition">free</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:50"><span class="id" title="variable">t</span></a>) <span class="id" title="var">Γ</span><a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Traversable.Monad.html#in_bind_list_iff"><span class="id" title="lemma">in_bind_list_iff</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">lemma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#in_range_iff"><span class="id" title="lemma">in_range_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">lemma</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#free_iff_freeset"><span class="id" title="lemma">free_iff_freeset</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#in_atoms_iff"><span class="id" title="lemma">in_atoms_iff</span></a>. <span class="id" title="var">fsetdec</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab923"></a><h3 class="section">Tactical corollaries</h3>

</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx1" class="idref" href="#j_type_ctx1"><span class="id" title="lemma">j_type_ctx1</span></a> : <span class="id" title="keyword">forall</span> <a id="b1a57856048453fcdbc9d8258f6ba85e" class="idref" href="#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="binder">Δ</span></a> <a id="3877cd1a601e385130a2a78a6f978e97" class="idref" href="#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="binder">Γ</span></a> <a id="t:58" class="idref" href="#t:58"><span class="id" title="binder">t</span></a> <a id="078df25c5857c7ce67e1883d60629ea6" class="idref" href="#078df25c5857c7ce67e1883d60629ea6"><span class="id" title="binder">τ</span></a> <a id="x:60" class="idref" href="#x:60"><span class="id" title="binder">x</span></a> <a id="ca1f5caa91ae212e8af0cad7161520e5" class="idref" href="#ca1f5caa91ae212e8af0cad7161520e5"><span class="id" title="binder">τ2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:58"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#078df25c5857c7ce67e1883d60629ea6"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:60"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ca1f5caa91ae212e8af0cad7161520e5"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">∈</span></a> <a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="variable">Γ</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>)<a class="idref" href="Tealeaves.Classes.Setlike.Functor.html#11eb2861ea16289dd627ef9d8c2d6322"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b1a57856048453fcdbc9d8258f6ba85e"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ca1f5caa91ae212e8af0cad7161520e5"><span class="id" title="variable">τ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_binds"><span class="id" title="lemma">ok_type_ctx_binds</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_wf"><span class="id" title="lemma">j_type_ctx_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx2" class="idref" href="#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> : <span class="id" title="keyword">forall</span> <a id="97af74f2224adb28944935e537df98f3" class="idref" href="#97af74f2224adb28944935e537df98f3"><span class="id" title="binder">Δ</span></a> <a id="298c8e20c162b01ed1bbedab9df30ec7" class="idref" href="#298c8e20c162b01ed1bbedab9df30ec7"><span class="id" title="binder">Γ</span></a> <a id="t:64" class="idref" href="#t:64"><span class="id" title="binder">t</span></a> <a id="29c2b620e64b7fb9ef3b2012782c3b24" class="idref" href="#29c2b620e64b7fb9ef3b2012782c3b24"><span class="id" title="binder">τ1</span></a> <a id="a36b40255fc0996b6b26f0fd8eb0a3ce" class="idref" href="#a36b40255fc0996b6b26f0fd8eb0a3ce"><span class="id" title="binder">τ2</span></a> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#97af74f2224adb28944935e537df98f3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#298c8e20c162b01ed1bbedab9df30ec7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a36b40255fc0996b6b26f0fd8eb0a3ce"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:64"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#29c2b620e64b7fb9ef3b2012782c3b24"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#97af74f2224adb28944935e537df98f3"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a36b40255fc0996b6b26f0fd8eb0a3ce"><span class="id" title="variable">τ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx1"><span class="id" title="lemma">j_type_ctx1</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_list</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab924"></a><h3 class="section">Permutation</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_type_ctx_perm" class="idref" href="#j_type_ctx_perm"><span class="id" title="lemma">j_type_ctx_perm</span></a> : <span class="id" title="keyword">forall</span> <a id="0e13db3b16fbb727ab747dfb2cd9f6a1" class="idref" href="#0e13db3b16fbb727ab747dfb2cd9f6a1"><span class="id" title="binder">Δ</span></a> <a id="28aa14584a59389ccd7faa6c1da3700b" class="idref" href="#28aa14584a59389ccd7faa6c1da3700b"><span class="id" title="binder">Γ1</span></a> <a id="3d54c20422dc8193ef0cacfc44a8c282" class="idref" href="#3d54c20422dc8193ef0cacfc44a8c282"><span class="id" title="binder">Γ2</span></a> <a id="t:71" class="idref" href="#t:71"><span class="id" title="binder">t</span></a> <a id="7c493f97a7e60eed4a98803ec31d7437" class="idref" href="#7c493f97a7e60eed4a98803ec31d7437"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0e13db3b16fbb727ab747dfb2cd9f6a1"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#28aa14584a59389ccd7faa6c1da3700b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:71"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#7c493f97a7e60eed4a98803ec31d7437"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#28aa14584a59389ccd7faa6c1da3700b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3d54c20422dc8193ef0cacfc44a8c282"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0e13db3b16fbb727ab747dfb2cd9f6a1"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#3d54c20422dc8193ef0cacfc44a8c282"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:71"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#7c493f97a7e60eed4a98803ec31d7437"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span> <span class="id" title="var">perm</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Γ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hperm</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_perm"><span class="id" title="lemma">ok_kind_ctx_perm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_perm_gamma"><span class="id" title="lemma">ok_type_ctx_perm_gamma</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_sym"><span class="id" title="lemma">Permutation_sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hperm</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="Tealeaves.Functors.List.html#perm_set_eq"><span class="id" title="lemma">List.perm_set_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_tail"><span class="id" title="lemma">Permutation_app_tail</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx_perm_iff" class="idref" href="#j_type_ctx_perm_iff"><span class="id" title="lemma">j_type_ctx_perm_iff</span></a> : <span class="id" title="keyword">forall</span> <a id="86302de672c86bc3ab370eeb5038eadd" class="idref" href="#86302de672c86bc3ab370eeb5038eadd"><span class="id" title="binder">Δ</span></a> <a id="c4e64798a80672dbceafa4a6c9a2519d" class="idref" href="#c4e64798a80672dbceafa4a6c9a2519d"><span class="id" title="binder">Γ1</span></a> <a id="4a692535e12af079161795c67965195c" class="idref" href="#4a692535e12af079161795c67965195c"><span class="id" title="binder">Γ2</span></a> <a id="t:76" class="idref" href="#t:76"><span class="id" title="binder">t</span></a> <a id="4145d58cac39693cb0ce6d773a63b587" class="idref" href="#4145d58cac39693cb0ce6d773a63b587"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c4e64798a80672dbceafa4a6c9a2519d"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4a692535e12af079161795c67965195c"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#86302de672c86bc3ab370eeb5038eadd"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#c4e64798a80672dbceafa4a6c9a2519d"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:76"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4145d58cac39693cb0ce6d773a63b587"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#86302de672c86bc3ab370eeb5038eadd"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4a692535e12af079161795c67965195c"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:76"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4145d58cac39693cb0ce6d773a63b587"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hperm</span>. <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation"><span class="id" title="inductive">Permutation</span></a> <span class="id" title="var">Γ2</span> <span class="id" title="var">Γ1</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_perm"><span class="id" title="lemma">j_type_ctx_perm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx_perm1" class="idref" href="#j_type_ctx_perm1"><span class="id" title="lemma">j_type_ctx_perm1</span></a> : <span class="id" title="keyword">forall</span> <a id="daa8ce132ee3318df25a8cfb8212ca98" class="idref" href="#daa8ce132ee3318df25a8cfb8212ca98"><span class="id" title="binder">Δ</span></a> <a id="9832bedfcb5812376d620ff6e3696d0b" class="idref" href="#9832bedfcb5812376d620ff6e3696d0b"><span class="id" title="binder">Γ1</span></a> <a id="4fbe90559a6227267eb491dfe229be79" class="idref" href="#4fbe90559a6227267eb491dfe229be79"><span class="id" title="binder">Γ2</span></a> <a id="x:81" class="idref" href="#x:81"><span class="id" title="binder">x</span></a> <a id="fbaa4990121692ea4ac8a08b54af6490" class="idref" href="#fbaa4990121692ea4ac8a08b54af6490"><span class="id" title="binder">τ2</span></a> <a id="t:83" class="idref" href="#t:83"><span class="id" title="binder">t</span></a> <a id="16a32e0eb8c3802a5b7dda3aac20369e" class="idref" href="#16a32e0eb8c3802a5b7dda3aac20369e"><span class="id" title="binder">τ1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#daa8ce132ee3318df25a8cfb8212ca98"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#9832bedfcb5812376d620ff6e3696d0b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#fbaa4990121692ea4ac8a08b54af6490"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4fbe90559a6227267eb491dfe229be79"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#16a32e0eb8c3802a5b7dda3aac20369e"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#daa8ce132ee3318df25a8cfb8212ca98"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#9832bedfcb5812376d620ff6e3696d0b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#4fbe90559a6227267eb491dfe229be79"><span class="id" title="variable">Γ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:81"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#fbaa4990121692ea4ac8a08b54af6490"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:83"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#16a32e0eb8c3802a5b7dda3aac20369e"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_perm_iff"><span class="id" title="lemma">j_type_ctx_perm_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simpl_alist</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app"><span class="id" title="lemma">Permutation_app</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_comm"><span class="id" title="lemma">Permutation_app_comm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab925"></a><h3 class="section">Weakening</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_type_ctx_weak" class="idref" href="#j_type_ctx_weak"><span class="id" title="lemma">j_type_ctx_weak</span></a> : <span class="id" title="keyword">forall</span> <a id="b6431cf79a451a286cac6c3d2b1e9de2" class="idref" href="#b6431cf79a451a286cac6c3d2b1e9de2"><span class="id" title="binder">Δ</span></a> <a id="6fae6740e5b6c4cc4c0e046535804688" class="idref" href="#6fae6740e5b6c4cc4c0e046535804688"><span class="id" title="binder">Γ1</span></a> <a id="da70677740121df3b7d7ea1ed3975d64" class="idref" href="#da70677740121df3b7d7ea1ed3975d64"><span class="id" title="binder">Γ2</span></a> <a id="t:88" class="idref" href="#t:88"><span class="id" title="binder">t</span></a> <a id="65745ecb3d078eb7b0a2c5d44e01b495" class="idref" href="#65745ecb3d078eb7b0a2c5d44e01b495"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type_ctx"><span class="id" title="definition">ok_type_ctx</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b6431cf79a451a286cac6c3d2b1e9de2"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#da70677740121df3b7d7ea1ed3975d64"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#disjoint"><span class="id" title="definition">disjoint</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6fae6740e5b6c4cc4c0e046535804688"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#da70677740121df3b7d7ea1ed3975d64"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b6431cf79a451a286cac6c3d2b1e9de2"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6fae6740e5b6c4cc4c0e046535804688"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#65745ecb3d078eb7b0a2c5d44e01b495"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b6431cf79a451a286cac6c3d2b1e9de2"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6fae6740e5b6c4cc4c0e046535804688"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#da70677740121df3b7d7ea1ed3975d64"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:88"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#65745ecb3d078eb7b0a2c5d44e01b495"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ok</span> <span class="id" title="var">disj</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;save&nbsp;knowledge&nbsp;that&nbsp;Δ&nbsp;is&nbsp;uniq&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">j_inst</span></span>&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">okΔ</span> := <span class="id" title="var">j</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_wf"><span class="id" title="lemma">j_kind_ctx_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">okΔ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_var"><span class="id" title="constructor">j_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_app"><span class="id" title="lemma">ok_type_ctx_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_list</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="comment">(*&nbsp;todo&nbsp;need&nbsp;better&nbsp;automation&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_perm1"><span class="id" title="lemma">j_type_ctx_perm1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a> <span class="id" title="keyword">with</span> (τ1 := τ1); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>). <span class="id" title="var">intros_cof</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_weak_r"><span class="id" title="lemma">ok_type_ctx_weak_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_app"><span class="id" title="lemma">ok_kind_ctx_app</span></a>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>; <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_one"><span class="id" title="lemma">ok_kind_ctx_one</span></a>; <span class="id" title="var">fsetdec</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHj</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab926"></a><h3 class="section">Substitution</h3>

<div class="paragraph"> </div>

<a id="lab927"></a><h2 class="section">Properties in τ of <code>(Δ ; Γ ⊢ t : τ</code></h2>

<div class="paragraph"> </div>

<a id="lab928"></a><h3 class="section"><code>τ</code> is always locally closed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_lc_type" class="idref" href="#j_lc_type"><span class="id" title="lemma">j_lc_type</span></a> : <span class="id" title="keyword">forall</span> <a id="25e92cdafd8d2b0aa541afdd2db035eb" class="idref" href="#25e92cdafd8d2b0aa541afdd2db035eb"><span class="id" title="binder">Δ</span></a> <a id="9dc25b62c58a0634ea47eb0bb9467ecf" class="idref" href="#9dc25b62c58a0634ea47eb0bb9467ecf"><span class="id" title="binder">Γ</span></a> <a id="t:92" class="idref" href="#t:92"><span class="id" title="binder">t</span></a> <a id="8683f6d83e263a917e6ba6d3668b7fb7" class="idref" href="#8683f6d83e263a917e6ba6d3668b7fb7"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#25e92cdafd8d2b0aa541afdd2db035eb"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#9dc25b62c58a0634ea47eb0bb9467ecf"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:92"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8683f6d83e263a917e6ba6d3668b7fb7"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8683f6d83e263a917e6ba6d3668b7fb7"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_binds"><span class="id" title="lemma">ok_type_ctx_binds</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHj1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_eq_iff_1"><span class="id" title="lemma">open_lc_gap_eq_iff_1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab929"></a><h3 class="section"><code>τ</code> is always well-formed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_ok_type" class="idref" href="#j_ok_type"><span class="id" title="lemma">j_ok_type</span></a> : <span class="id" title="keyword">forall</span> <a id="1dc98024d3d6335254c99f201bb2c784" class="idref" href="#1dc98024d3d6335254c99f201bb2c784"><span class="id" title="binder">Δ</span></a> <a id="06710cf7ff350dd6f4d45fa84c1b2754" class="idref" href="#06710cf7ff350dd6f4d45fa84c1b2754"><span class="id" title="binder">Γ</span></a> <a id="t:96" class="idref" href="#t:96"><span class="id" title="binder">t</span></a> <a id="f5a0156595a1678ea5a20b9c8112c5af" class="idref" href="#f5a0156595a1678ea5a20b9c8112c5af"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#1dc98024d3d6335254c99f201bb2c784"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#06710cf7ff350dd6f4d45fa84c1b2754"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:96"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f5a0156595a1678ea5a20b9c8112c5af"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#1dc98024d3d6335254c99f201bb2c784"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f5a0156595a1678ea5a20b9c8112c5af"><span class="id" title="variable">τ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_binds"><span class="id" title="lemma">ok_type_ctx_binds</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#ok_type_ar"><span class="id" title="lemma">ok_type_ar</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#ok_type_ar"><span class="id" title="lemma">ok_type_ar</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHj1</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#ok_type_univ"><span class="id" title="lemma">ok_type_univ</span></a>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> τ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IHsc</span> <span class="id" title="var">IHlc</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a>, <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> τ <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> (<span class="id" title="var">Δ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset_open_lower"><span class="id" title="lemma">freeset_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#ok_type_univ"><span class="id" title="lemma">ok_type_univ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHj</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_type"><span class="id" title="definition">ok_type</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset_open_upper"><span class="id" title="lemma">freeset_open_upper</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>). <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_eq_iff"><span class="id" title="lemma">open_lc_gap_eq_iff</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab930"></a><h2 class="section">Properties in t of <code>(Δ ; Γ ⊢ t : τ</code></h2>

<div class="paragraph"> </div>

<a id="lab931"></a><h3 class="section"><code>t</code> is always locally closed w.r.t. term variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_lc_KTerm_term" class="idref" href="#j_lc_KTerm_term"><span class="id" title="lemma">j_lc_KTerm_term</span></a> : <span class="id" title="keyword">forall</span> <a id="f3d658e8ea0680f87a241c7b020c0499" class="idref" href="#f3d658e8ea0680f87a241c7b020c0499"><span class="id" title="binder">Δ</span></a> <a id="bc64fd3e48f66cc7d8f3cb70c7155cb1" class="idref" href="#bc64fd3e48f66cc7d8f3cb70c7155cb1"><span class="id" title="binder">Γ</span></a> <a id="t:100" class="idref" href="#t:100"><span class="id" title="binder">t</span></a> <a id="8b7b0276f71bb459804d3caed6db47c1" class="idref" href="#8b7b0276f71bb459804d3caed6db47c1"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f3d658e8ea0680f87a241c7b020c0499"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#bc64fd3e48f66cc7d8f3cb70c7155cb1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:100"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#8b7b0276f71bb459804d3caed6db47c1"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:100"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#rw_lc_KTerm_term11"><span class="id" title="lemma">rw_lc_KTerm_term11</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>. <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_eq_iff_1"><span class="id" title="lemma">open_lc_gap_eq_iff_1</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#rw_lc_KTerm_term11"><span class="id" title="lemma">rw_lc_KTerm_term11</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_neq_var"><span class="id" title="lemma">open_lc_gap_neq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <span class="id" title="var">lc_term_type</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab932"></a><h3 class="section"><code>t</code> is always locally closed w.r.t. type variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_lc_KType_term" class="idref" href="#j_lc_KType_term"><span class="id" title="lemma">j_lc_KType_term</span></a> : <span class="id" title="keyword">forall</span> <a id="b78a2bb872773f51a3cd24a11f808004" class="idref" href="#b78a2bb872773f51a3cd24a11f808004"><span class="id" title="binder">Δ</span></a> <a id="0e1bf0b524e757fdeece72811bdc1c94" class="idref" href="#0e1bf0b524e757fdeece72811bdc1c94"><span class="id" title="binder">Γ</span></a> <a id="t:104" class="idref" href="#t:104"><span class="id" title="binder">t</span></a> <a id="e4e9b9dc3079055df5f1a24936da2b58" class="idref" href="#e4e9b9dc3079055df5f1a24936da2b58"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#b78a2bb872773f51a3cd24a11f808004"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#0e1bf0b524e757fdeece72811bdc1c94"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:104"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#e4e9b9dc3079055df5f1a24936da2b58"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#locally_closed"><span class="id" title="definition">locally_closed</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:104"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#rw_lc_KType_term1"><span class="id" title="lemma">rw_lc_KType_term1</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cc</span>. <span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#tm_var"><span class="id" title="constructor">tm_var</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">e</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Multisorted.Classes.DTM.html#mret"><span class="id" title="definition">mret</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#SystemF"><span class="id" title="definition">SystemF</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#Fr"><span class="id" title="constructor">Fr</span></a> <span class="id" title="var">e</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_neq_var"><span class="id" title="lemma">open_lc_gap_neq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>; [<span class="id" title="tactic">auto</span>|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>. <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_rw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_lc_gap_eq_var"><span class="id" title="lemma">open_lc_gap_eq_var</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#lc_KTerm_type"><span class="id" title="lemma">lc_KTerm_type</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_lc"><span class="id" title="lemma">ok_type_lc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab933"></a><h3 class="section"><code>t</code> is always well-scoped w.r.t. type variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_sc_KType_term" class="idref" href="#j_sc_KType_term"><span class="id" title="lemma">j_sc_KType_term</span></a> : <span class="id" title="keyword">forall</span> <a id="f9f2baa53d8e6c4d685657d7461c6ad1" class="idref" href="#f9f2baa53d8e6c4d685657d7461c6ad1"><span class="id" title="binder">Δ</span></a> <a id="367e0b75814c690d9518e83afce12d6f" class="idref" href="#367e0b75814c690d9518e83afce12d6f"><span class="id" title="binder">Γ</span></a> <a id="t:108" class="idref" href="#t:108"><span class="id" title="binder">t</span></a> <a id="6edd7737df70ce7286e1fd19bdfa57df" class="idref" href="#6edd7737df70ce7286e1fd19bdfa57df"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f9f2baa53d8e6c4d685657d7461c6ad1"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#367e0b75814c690d9518e83afce12d6f"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:108"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6edd7737df70ce7286e1fd19bdfa57df"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:108"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f9f2baa53d8e6c4d685657d7461c6ad1"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a>. <span class="id" title="var">simpl_F</span>. <span class="id" title="var">cc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> τ1 <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset_open_lower"><span class="id" title="lemma">freeset_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">simpl_F</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a>. <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">x</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset_open_lower"><span class="id" title="lemma">freeset_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#scoped_stren_r"><span class="id" title="lemma">scoped_stren_r</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> τ1 <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#750279fe3e1091280a44c2c2826e2811"><span class="id" title="notation">⊆</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fsetdec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab934"></a><h3 class="section"><code>t</code> is always well-scoped w.r.t. term variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_sc_KTerm_term" class="idref" href="#j_sc_KTerm_term"><span class="id" title="lemma">j_sc_KTerm_term</span></a> : <span class="id" title="keyword">forall</span> <a id="e9c4b5cb3a4378c615c6d4bdb385a746" class="idref" href="#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="binder">Δ</span></a> <a id="5fed251aa58d6913e63540c17d3d6121" class="idref" href="#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="binder">Γ</span></a> <a id="t:112" class="idref" href="#t:112"><span class="id" title="binder">t</span></a> <a id="d4e68f817c2830869bcf7be709e9913a" class="idref" href="#d4e68f817c2830869bcf7be709e9913a"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#e9c4b5cb3a4378c615c6d4bdb385a746"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:112"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d4e68f817c2830869bcf7be709e9913a"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:112"><span class="id" title="variable">t</span></a> (<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#5fed251aa58d6913e63540c17d3d6121"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#scoped"><span class="id" title="definition">scoped</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H1</span> <span class="id" title="var">into</span> <span class="id" title="var">Hin</span>. <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#in_in_domset"><span class="id" title="lemma">in_in_domset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">x</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset_open_lower"><span class="id" title="lemma">freeset_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#scoped_stren_r"><span class="id" title="lemma">scoped_stren_r</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="var">cc</span>. <span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">lemma</span> := <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset_open_lower"><span class="id" title="lemma">freeset_open_lower</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <span class="id" title="var">t</span> (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> : <a class="idref" href="Tealeaves.Categories.TypeFamilies.html#K"><span class="id" title="method">K</span></a>) (<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> : <a class="idref" href="Tealeaves.Categories.TypeFamilies.html#K"><span class="id" title="method">K</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">lemma</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="var">fsetdec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab935"></a><h3 class="section"><code>t</code> is always well-formed</h3>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="j_ok_term" class="idref" href="#j_ok_term"><span class="id" title="lemma">j_ok_term</span></a> : <span class="id" title="keyword">forall</span> <a id="fa2afb24cd7d0a5ee8047798ca8faeda" class="idref" href="#fa2afb24cd7d0a5ee8047798ca8faeda"><span class="id" title="binder">Δ</span></a> <a id="799b9f0182e743f0bacfeeb6ad1620c4" class="idref" href="#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="binder">Γ</span></a> <a id="t:116" class="idref" href="#t:116"><span class="id" title="binder">t</span></a> <a id="f6edd5736a713e1e5d20bfec0fae034b" class="idref" href="#f6edd5736a713e1e5d20bfec0fae034b"><span class="id" title="binder">τ</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#fa2afb24cd7d0a5ee8047798ca8faeda"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:116"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#f6edd5736a713e1e5d20bfec0fae034b"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_term"><span class="id" title="definition">ok_term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#fa2afb24cd7d0a5ee8047798ca8faeda"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#799b9f0182e743f0bacfeeb6ad1620c4"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:116"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#ok_term"><span class="id" title="definition">ok_term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> (<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_sc_KTerm_term"><span class="id" title="lemma">j_sc_KTerm_term</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_sc_KType_term"><span class="id" title="lemma">j_sc_KType_term</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_lc_KTerm_term"><span class="id" title="lemma">j_lc_KTerm_term</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_lc_KType_term"><span class="id" title="lemma">j_lc_KType_term</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab936"></a><h3 class="section">Substitution</h3>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="j_type_ctx_subst" class="idref" href="#j_type_ctx_subst"><span class="id" title="lemma">j_type_ctx_subst</span></a> : <span class="id" title="keyword">forall</span> <a id="d88596c37c823f121469a4fc8512e4df" class="idref" href="#d88596c37c823f121469a4fc8512e4df"><span class="id" title="binder">Δ</span></a> <a id="006d87fdac2dac3c0c50bcee371257ab" class="idref" href="#006d87fdac2dac3c0c50bcee371257ab"><span class="id" title="binder">Γ1</span></a> <a id="114f52b8f545288a5dfca77438660468" class="idref" href="#114f52b8f545288a5dfca77438660468"><span class="id" title="binder">Γ2</span></a> <a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a> <a id="07c8c558ac467fbb817abf4af962f4b3" class="idref" href="#07c8c558ac467fbb817abf4af962f4b3"><span class="id" title="binder">τ2</span></a> <a id="t:123" class="idref" href="#t:123"><span class="id" title="binder">t</span></a> <a id="u:124" class="idref" href="#u:124"><span class="id" title="binder">u</span></a> <a id="a76a9f50b01f675e819df235726ab24f" class="idref" href="#a76a9f50b01f675e819df235726ab24f"><span class="id" title="binder">τ1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d88596c37c823f121469a4fc8512e4df"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#006d87fdac2dac3c0c50bcee371257ab"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#07c8c558ac467fbb817abf4af962f4b3"><span class="id" title="variable">τ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#114f52b8f545288a5dfca77438660468"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:123"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a76a9f50b01f675e819df235726ab24f"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d88596c37c823f121469a4fc8512e4df"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#006d87fdac2dac3c0c50bcee371257ab"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#114f52b8f545288a5dfca77438660468"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:124"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#07c8c558ac467fbb817abf4af962f4b3"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#d88596c37c823f121469a4fc8512e4df"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#006d87fdac2dac3c0c50bcee371257ab"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#114f52b8f545288a5dfca77438660468"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:124"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:123"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#a76a9f50b01f675e819df235726ab24f"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">jt</span> <span class="id" title="var">ju</span>. <span class="id" title="var">remember</span> (<span class="id" title="var">Γ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> τ2 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Γ2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">jt</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">Hok</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H1</span> <span class="id" title="var">into</span> <span class="id" title="var">Hvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compare</span> <span class="id" title="var">values</span> <span class="id" title="var">x</span> <span class="id" title="var">and</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#rw_subst_KTerm_term11"><span class="id" title="lemma">rw_subst_KTerm_term11</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (τ <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> τ2) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#binds_mid_eq"><span class="id" title="lemma">binds_mid_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvar</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Examples.SystemF.Rewriting.html#rw_subst_KTerm_term12"><span class="id" title="lemma">rw_subst_KTerm_term12</span></a>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_var"><span class="id" title="constructor">j_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">sysf_ctx</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#binds_remove_mid"><span class="id" title="lemma">binds_remove_mid</span></a>. }<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>. <span class="id" title="var">simpl_F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_abs"><span class="id" title="constructor">j_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">{{</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#4b325ede36519764d2f014fff4bfa31c"><span class="id" title="notation">}}</span></a> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ1</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Γ2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_open_eq"><span class="id" title="lemma">subst_open_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_lc_KTerm_term"><span class="id" title="lemma">j_lc_KTerm_term</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_fresh"><span class="id" title="lemma">subst_fresh</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_list</span>. <span class="id" title="var">fsetdec</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_alist</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">change_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">Γ1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Γ2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> τ1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_weak"><span class="id" title="lemma">j_type_ctx_weak</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_type_ctx_one"><span class="id" title="lemma">ok_type_ctx_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">specialize_cof</span> <span class="id" title="var">H</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx2"><span class="id" title="lemma">j_type_ctx2</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intuition</span> <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_app"><span class="id" title="constructor">j_app</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_univ"><span class="id" title="constructor">j_univ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#domset"><span class="id" title="definition">domset</span></a> <span class="id" title="var">Δ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intros_cof</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst_open_neq"><span class="id" title="lemma">subst_open_neq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_ok_term"><span class="id" title="lemma">j_ok_term</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_weak"><span class="id" title="lemma">j_kind_ctx_weak</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Contexts.html#ok_kind_ctx_one"><span class="id" title="lemma">ok_kind_ctx_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">tea_rw_disj</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simpl_F</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#j_inst"><span class="id" title="constructor">j_inst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Corollary</span> <a id="j_type_ctx_subst1" class="idref" href="#j_type_ctx_subst1"><span class="id" title="lemma">j_type_ctx_subst1</span></a> : <span class="id" title="keyword">forall</span> <a id="ad60e307443b7d2e474f1a436ce2610b" class="idref" href="#ad60e307443b7d2e474f1a436ce2610b"><span class="id" title="binder">Δ</span></a> <a id="6e782b379a22be72fd8811f565d97df0" class="idref" href="#6e782b379a22be72fd8811f565d97df0"><span class="id" title="binder">Γ</span></a> <a id="x:128" class="idref" href="#x:128"><span class="id" title="binder">x</span></a> <a id="ab1bf8dc23f9a7ffe9679bc8efef1d0a" class="idref" href="#ab1bf8dc23f9a7ffe9679bc8efef1d0a"><span class="id" title="binder">τ2</span></a> <a id="t:130" class="idref" href="#t:130"><span class="id" title="binder">t</span></a> <a id="u:131" class="idref" href="#u:131"><span class="id" title="binder">u</span></a> <a id="05eb84d85771d78740dcaed3f2ec01ee" class="idref" href="#05eb84d85771d78740dcaed3f2ec01ee"><span class="id" title="binder">τ1</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ad60e307443b7d2e474f1a436ce2610b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:128"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ab1bf8dc23f9a7ffe9679bc8efef1d0a"><span class="id" title="variable">τ2</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#05eb84d85771d78740dcaed3f2ec01ee"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ad60e307443b7d2e474f1a436ce2610b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:131"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ab1bf8dc23f9a7ffe9679bc8efef1d0a"><span class="id" title="variable">τ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#ad60e307443b7d2e474f1a436ce2610b"><span class="id" title="variable">Δ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">;</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#x:128"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#u:131"><span class="id" title="variable">u</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#t:130"><span class="id" title="variable">t</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#0a257760b44fc2d386e60e759feb6d95"><span class="id" title="notation">:</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#05eb84d85771d78740dcaed3f2ec01ee"><span class="id" title="variable">τ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">jt</span> <span class="id" title="var">ju</span>. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Backends.LN.AssocList.html#ea2f673cdd820c660a028856ba518e61"><span class="id" title="notation">~</span></a> τ2 <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">jt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">change_alist</span> (<span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">ju</span>. <span class="id" title="var">change_alist</span> (<span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_subst"><span class="id" title="lemma">j_type_ctx_subst</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab937"></a><h1 class="section">Progress and preservation</h1>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="preservation_theorem" class="idref" href="#preservation_theorem"><span class="id" title="lemma">preservation_theorem</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#preservation"><span class="id" title="definition">preservation</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Delta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#LN"><span class="id" title="inductive">LN</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Gamma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">j1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H4</span> <span class="id" title="var">into</span> <span class="id" title="var">hyp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KTerm"><span class="id" title="constructor">KTerm</span></a> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>); [| <span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_type_ctx_subst1"><span class="id" title="lemma">j_type_ctx_subst1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hyp</span>. <span class="id" title="var">fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#Judgment"><span class="id" title="inductive">Judgment</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">e</span> <span class="id" title="keyword">for</span> (<span class="id" title="var">L</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <span class="id" title="var">t0</span> <a class="idref" href="Tealeaves.Backends.LN.AtomSet.html#231068860d1184f8e4cf810aeee16282"><span class="id" title="notation">∪</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#freeset"><span class="id" title="definition">freeset</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> τ2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>); [|<span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#open_spec_eq"><span class="id" title="lemma">open_spec_eq</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">e</span>); [|<span class="id" title="var">fsetdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#LN"><span class="id" title="inductive">LN</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="Tealeaves.Backends.LN.AssocList.html#envmap"><span class="id" title="definition">envmap</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#subst"><span class="id" title="definition">subst</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#KType"><span class="id" title="constructor">KType</span></a> <span class="id" title="var">e</span> τ1) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Tealeaves.Examples.SystemF.TypeSoundness.html#j_kind_ctx_subst1"><span class="id" title="lemma">j_kind_ctx_subst1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>. <span class="id" title="var">fsetdec</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span>  <a id="progress_theorem" class="idref" href="#progress_theorem"><span class="id" title="lemma">progress_theorem</span></a> : <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#progress"><span class="id" title="definition">progress</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">j</span>. <span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Delta</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Tealeaves.Backends.LN.Atom.html#atom"><span class="id" title="abbreviation">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="Tealeaves.Backends.LN.Multisorted.LN.html#LN"><span class="id" title="inductive">LN</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Gamma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#value"><span class="id" title="inductive">value</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHj1</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHj2</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">false</span>. <span class="id" title="var">inverts</span> <span class="id" title="var">j1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>, <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#value"><span class="id" title="inductive">value</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">inverts</span> <span class="id" title="var">j1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#value"><span class="id" title="inductive">value</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHj</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>) <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">trivial</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inverts</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">inverts</span> <span class="id" title="var">j</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">destruct_all_existentials</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Tealeaves.Examples.SystemF.Syntax.html#red"><span class="id" title="inductive">red</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
