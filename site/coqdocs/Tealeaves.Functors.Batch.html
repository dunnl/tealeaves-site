<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Tealeaves.Functors.Batch</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Tealeaves</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Monoid.html#"><span class="id" title="library">Classes.Monoid</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Applicative.html#"><span class="id" title="library">Applicative</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Store.html#"><span class="id" title="library">Functors.Store</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Constant.html#"><span class="id" title="library">Functors.Constant</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#Notations"><span class="id" title="module">Monoid.Notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#Notations"><span class="id" title="module">Applicative.Notations</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Arguments</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> ψ <span class="id" title="var">ϕ</span> <span class="id" title="var">W</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">M</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">O</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab274"></a><h1 class="section">The <span class="inlinecode"><a class="idref" href="Tealeaves.Multisorted.Classes.DTM.html#Batch"><span class="id" title="inductive">Batch</span></a></span> idiom</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="fix_parameters" class="idref" href="#fix_parameters"><span class="id" title="section">fix_parameters</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Batch" class="idref" href="#Batch"><span class="id" title="inductive">Batch</span></a> (<a id="X:1" class="idref" href="#X:1"><span class="id" title="binder">X</span></a> <a id="Y:2" class="idref" href="#Y:2"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>) (<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Done" class="idref" href="#Done"><span class="id" title="constructor">Done</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch:4"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:1"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:2"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:3"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;| <a id="Step" class="idref" href="#Step"><span class="id" title="constructor">Step</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch:4"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:1"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:2"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Y:2"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:3"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:1"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch:4"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:1"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:2"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:3"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="fmap_Batch" class="idref" href="#fmap_Batch"><span class="id" title="definition">fmap_Batch</span></a> {<a id="X:6" class="idref" href="#X:6"><span class="id" title="binder">X</span></a> <a id="Y:7" class="idref" href="#Y:7"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="f:10" class="idref" href="#f:10"><span class="id" title="binder">f</span></a> : <a id="A:8" class="idref" href="#A:8"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="B:9" class="idref" href="#B:9"><span class="id" title="binder">B</span></a>} (<a id="c:11" class="idref" href="#c:11"><span class="id" title="binder">c</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:6"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:7"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:8"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:6"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:7"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:9"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#c:11"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#f:10"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">i1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#fmap_Batch:12"><span class="id" title="definition">fmap_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:6"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:7"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Y:7"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:8"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#Y:7"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:9"><span class="id" title="variable">B</span></a>) (<a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:10"><span class="id" title="variable">f</span></a>) <span class="id" title="var">rest</span>) <span class="id" title="var">i1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Fmap_Batch" class="idref" href="#Fmap_Batch"><span class="id" title="instance">Fmap_Batch</span></a> {<a id="X:14" class="idref" href="#X:14"><span class="id" title="binder">X</span></a> <a id="Y:15" class="idref" href="#Y:15"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} : <a class="idref" href="Tealeaves.Classes.Functor.html#Fmap"><span class="id" title="class">Fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:14"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:15"><span class="id" title="variable">Y</span></a>) := @<a class="idref" href="Tealeaves.Functors.Batch.html#fmap_Batch"><span class="id" title="definition">fmap_Batch</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>, <span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="Functor_Batch" class="idref" href="#Functor_Batch"><span class="id" title="instance">Functor_Batch</span></a> {<a id="X:16" class="idref" href="#X:16"><span class="id" title="binder">X</span></a> <a id="Y:17" class="idref" href="#Y:17"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} : <a class="idref" href="Tealeaves.Classes.Functor.html#Functor"><span class="id" title="class">Functor</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:16"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:17"><span class="id" title="variable">Y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>; <span class="id" title="var">now</span> <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ext</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span>  (@<span class="id" title="var">IHj</span> (<span class="id" title="var">Y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">_</span> (<span class="id" title="var">Y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#fix_parameters"><span class="id" title="section">fix_parameters</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>}%<span class="id" title="var">type_scope</span> [<span class="id" title="var">A</span>]%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="Notations" class="idref" href="#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="45a660fcade13f7b83ca57ede582a0d1" class="idref" href="#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">&quot;</span></a>⧆" := <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 51, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">tealeaves_scope</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab275"></a><h2 class="section">Applicative Instance</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Applicative_Batch" class="idref" href="#Applicative_Batch"><span class="id" title="section">Applicative_Batch</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="X:18" class="idref" href="#X:18"><span class="id" title="binder">X</span></a> <a id="Y:19" class="idref" href="#Y:19"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Pure_Batch" class="idref" href="#Pure_Batch"><span class="id" title="instance">Pure_Batch</span></a> : <a class="idref" href="Tealeaves.Classes.Applicative.html#Pure"><span class="id" title="class">Pure</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="A:20" class="idref" href="#A:20"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="a:21" class="idref" href="#a:21"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:20"><span class="id" title="variable">A</span></a>) =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:21"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="mult_Batch" class="idref" href="#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> `(<a id="ja:23" class="idref" href="#ja:23"><span class="id" title="binder">ja</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a id="A:22" class="idref" href="#A:22"><span class="id" title="binder">A</span></a>) `(<a id="jb:25" class="idref" href="#jb:25"><span class="id" title="binder">jb</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a id="B:24" class="idref" href="#B:24"><span class="id" title="binder">B</span></a>) : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#A:22"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:24"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#jb:25"><span class="id" title="variable">jb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">b</span> =&gt; <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<span class="id" title="keyword">fun</span> (<a id="a:28" class="idref" href="#a:28"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:22"><span class="id" title="variable">A</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#a:28"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#ja:23"><span class="id" title="variable">ja</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">x1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch:26"><span class="id" title="definition">mult_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#ja:23"><span class="id" title="variable">ja</span></a> <span class="id" title="var">rest</span>)) <span class="id" title="var">x1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Mult_Batch" class="idref" href="#Mult_Batch"><span class="id" title="instance">Mult_Batch</span></a> : <a class="idref" href="Tealeaves.Classes.Applicative.html#Mult"><span class="id" title="class">Mult</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a> <a id="B:30" class="idref" href="#B:30"><span class="id" title="binder">B</span></a> '<a id="pat:33" class="idref" href="#pat:33"><span class="id" title="binder">(</span></a><a id="pat:33" class="idref" href="#pat:33"><span class="id" title="binder">x</span></a><a id="pat:33" class="idref" href="#pat:33"><span class="id" title="binder">,</span></a> <a id="pat:33" class="idref" href="#pat:33"><span class="id" title="binder">y</span></a><a id="pat:33" class="idref" href="#pat:33"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:32"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:31"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw1" class="idref" href="#mult_Batch_rw1"><span class="id" title="lemma">mult_Batch_rw1</span></a> : <span class="id" title="keyword">forall</span> `(<a id="a:35" class="idref" href="#a:35"><span class="id" title="binder">a</span></a> : <a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a>) `(<a id="b:37" class="idref" href="#b:37"><span class="id" title="binder">b</span></a> : <a id="B:36" class="idref" href="#B:36"><span class="id" title="binder">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:35"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:37"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#a:35"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:37"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#A:34"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:36"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw2" class="idref" href="#mult_Batch_rw2"><span class="id" title="lemma">mult_Batch_rw2</span></a> : <span class="id" title="keyword">forall</span> `(<a id="b:39" class="idref" href="#b:39"><span class="id" title="binder">b</span></a> : <a id="B:38" class="idref" href="#B:38"><span class="id" title="binder">B</span></a>) `(<a id="ja:41" class="idref" href="#ja:41"><span class="id" title="binder">ja</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a id="A:40" class="idref" href="#A:40"><span class="id" title="binder">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#ja:41"><span class="id" title="variable">ja</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:39"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="Tealeaves.Prelude.html#pair_right"><span class="id" title="definition">pair_right</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:39"><span class="id" title="variable">b</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#ja:41"><span class="id" title="variable">ja</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ja</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw3" class="idref" href="#mult_Batch_rw3"><span class="id" title="lemma">mult_Batch_rw3</span></a> : <span class="id" title="keyword">forall</span> `(<a id="jb:43" class="idref" href="#jb:43"><span class="id" title="binder">jb</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a id="B:42" class="idref" href="#B:42"><span class="id" title="binder">B</span></a>) `(<a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a> : <a id="A:44" class="idref" href="#A:44"><span class="id" title="binder">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:45"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#jb:43"><span class="id" title="variable">jb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:45"><span class="id" title="variable">a</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#jb:43"><span class="id" title="variable">jb</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">jb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHjb</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">jb</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw4" class="idref" href="#mult_Batch_rw4"><span class="id" title="lemma">mult_Batch_rw4</span></a> : <span class="id" title="keyword">forall</span> (<a id="x:46" class="idref" href="#x:46"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a>) `(<a id="ja:48" class="idref" href="#ja:48"><span class="id" title="binder">ja</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="A:47" class="idref" href="#A:47"><span class="id" title="binder">A</span></a>)) `(<a id="b:50" class="idref" href="#b:50"><span class="id" title="binder">b</span></a> : <a id="B:49" class="idref" href="#B:49"><span class="id" title="binder">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#ja:48"><span class="id" title="variable">ja</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:46"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:50"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="Tealeaves.Prelude.html#costrength_arrow"><span class="id" title="definition">costrength_arrow</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#pair_right"><span class="id" title="definition">pair_right</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:50"><span class="id" title="variable">b</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#ja:48"><span class="id" title="variable">ja</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:46"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw5" class="idref" href="#mult_Batch_rw5"><span class="id" title="lemma">mult_Batch_rw5</span></a> : <span class="id" title="keyword">forall</span> `(<a id="jb:52" class="idref" href="#jb:52"><span class="id" title="binder">jb</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="B:51" class="idref" href="#B:51"><span class="id" title="binder">B</span></a>)) `(<a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a> : <a id="A:53" class="idref" href="#A:53"><span class="id" title="binder">A</span></a>) (<a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#jb:52"><span class="id" title="variable">jb</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:55"><span class="id" title="variable">x</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="Tealeaves.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:54"><span class="id" title="variable">a</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#jb:52"><span class="id" title="variable">jb</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:55"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch_rw3"><span class="id" title="lemma">mult_Batch_rw3</span></a>). <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">jb</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mult_Batch_rw6" class="idref" href="#mult_Batch_rw6"><span class="id" title="lemma">mult_Batch_rw6</span></a> : <span class="id" title="keyword">forall</span> (<a id="x1:56" class="idref" href="#x1:56"><span class="id" title="binder">x1</span></a> <a id="x2:57" class="idref" href="#x2:57"><span class="id" title="binder">x2</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a>) `(<a id="ja:59" class="idref" href="#ja:59"><span class="id" title="binder">ja</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="A:58" class="idref" href="#A:58"><span class="id" title="binder">A</span></a>)) `(<a id="jb:61" class="idref" href="#jb:61"><span class="id" title="binder">jb</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="B:60" class="idref" href="#B:60"><span class="id" title="binder">B</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#ja:59"><span class="id" title="variable">ja</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x1:56"><span class="id" title="variable">x1</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#jb:61"><span class="id" title="variable">jb</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x2:57"><span class="id" title="variable">x2</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#ja:59"><span class="id" title="variable">ja</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x1:56"><span class="id" title="variable">x1</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#jb:61"><span class="id" title="variable">jb</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x2:57"><span class="id" title="variable">x2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_pure_natural_Batch" class="idref" href="#app_pure_natural_Batch"><span class="id" title="lemma">app_pure_natural_Batch</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:62" class="idref" href="#A:62"><span class="id" title="binder">A</span></a> <a id="B:63" class="idref" href="#B:63"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:64" class="idref" href="#f:64"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:62"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:63"><span class="id" title="variable">B</span></a>) (<a id="x:65" class="idref" href="#x:65"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:62"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#f:64"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#x:65"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:65"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_natural_Batch1" class="idref" href="#app_mult_natural_Batch1"><span class="id" title="lemma">app_mult_natural_Batch1</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:66" class="idref" href="#A:66"><span class="id" title="binder">A</span></a> <a id="B:67" class="idref" href="#B:67"><span class="id" title="binder">B</span></a> <a id="C:68" class="idref" href="#C:68"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:69" class="idref" href="#f:69"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:68"><span class="id" title="variable">C</span></a>) (<a id="x:70" class="idref" href="#x:70"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:66"><span class="id" title="variable">A</span></a>) (<a id="y:71" class="idref" href="#y:71"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:67"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#f:69"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:71"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="Tealeaves.Data.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:69"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#x:70"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:71"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHy</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2  <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)). <span class="id" title="tactic">do</span> 2 <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_natural_Batch2" class="idref" href="#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:72" class="idref" href="#A:72"><span class="id" title="binder">A</span></a> <a id="B:73" class="idref" href="#B:73"><span class="id" title="binder">B</span></a> <a id="D:74" class="idref" href="#D:74"><span class="id" title="binder">D</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:75" class="idref" href="#g:75"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:73"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:74"><span class="id" title="variable">D</span></a>) (<a id="x:76" class="idref" href="#x:76"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:72"><span class="id" title="variable">A</span></a>) (<a id="y:77" class="idref" href="#y:77"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:73"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#g:75"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:77"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="Tealeaves.Data.Product.html#map_snd"><span class="id" title="definition">map_snd</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:75"><span class="id" title="variable">g</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#x:76"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:77"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">D</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> <span class="id" title="var">x'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">a</span> <span class="id" title="var">mk</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_natural_Batch" class="idref" href="#app_mult_natural_Batch"><span class="id" title="lemma">app_mult_natural_Batch</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a> <a id="B:79" class="idref" href="#B:79"><span class="id" title="binder">B</span></a> <a id="C:80" class="idref" href="#C:80"><span class="id" title="binder">C</span></a> <a id="D:81" class="idref" href="#D:81"><span class="id" title="binder">D</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:82" class="idref" href="#f:82"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:78"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:80"><span class="id" title="variable">C</span></a>) (<a id="g:83" class="idref" href="#g:83"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:79"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:81"><span class="id" title="variable">D</span></a>) (<a id="x:84" class="idref" href="#x:84"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:78"><span class="id" title="variable">A</span></a>) (<a id="y:85" class="idref" href="#y:85"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:79"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#f:82"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#g:83"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:85"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) (<a class="idref" href="Tealeaves.Data.Product.html#map_tensor"><span class="id" title="definition">map_tensor</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:82"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:83"><span class="id" title="variable">g</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:85"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#app_mult_natural_Batch1"><span class="id" title="lemma">app_mult_natural_Batch1</span></a>, <a class="idref" href="Tealeaves.Functors.Batch.html#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_assoc_Batch" class="idref" href="#app_assoc_Batch"><span class="id" title="lemma">app_assoc_Batch</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:86" class="idref" href="#A:86"><span class="id" title="binder">A</span></a> <a id="B:87" class="idref" href="#B:87"><span class="id" title="binder">B</span></a> <a id="C:88" class="idref" href="#C:88"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:89" class="idref" href="#x:89"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:86"><span class="id" title="variable">A</span></a>) (<a id="y:90" class="idref" href="#y:90"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:87"><span class="id" title="variable">B</span></a>) (<a id="z:91" class="idref" href="#z:91"><span class="id" title="binder">z</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:88"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Data.Product.html#associator"><span class="id" title="definition">associator</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:90"><span class="id" title="variable">y</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#z:91"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#y:90"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#z:91"><span class="id" title="variable">z</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch_rw2"><span class="id" title="lemma">mult_Batch_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>). <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#app_mult_natural_Batch2"><span class="id" title="lemma">app_mult_natural_Batch2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHz</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">z</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [[? ?] ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_unital_l_Batch" class="idref" href="#app_unital_l_Batch"><span class="id" title="lemma">app_unital_l_Batch</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:92" class="idref" href="#A:92"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:93" class="idref" href="#x:93"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:92"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Data.Product.html#left_unitor"><span class="id" title="definition">left_unitor</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:93"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:93"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHx</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">fequal</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_unital_r_Batch" class="idref" href="#app_unital_r_Batch"><span class="id" title="lemma">app_unital_r_Batch</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:94" class="idref" href="#A:94"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:95" class="idref" href="#x:95"><span class="id" title="binder">x</span></a> : (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#A:94"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Data.Product.html#right_unitor"><span class="id" title="definition">right_unitor</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#x:95"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:95"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHx</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="app_mult_pure_Batch" class="idref" href="#app_mult_pure_Batch"><span class="id" title="lemma">app_mult_pure_Batch</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:96" class="idref" href="#A:96"><span class="id" title="binder">A</span></a> <a id="B:97" class="idref" href="#B:97"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="a:98" class="idref" href="#a:98"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:96"><span class="id" title="variable">A</span></a>) (<a id="b:99" class="idref" href="#b:99"><span class="id" title="binder">b</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:97"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#a:98"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#b:99"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#a:98"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:99"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>, <span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="App_Path" class="idref" href="#App_Path"><span class="id" title="instance">App_Path</span></a> : <a class="idref" href="Tealeaves.Classes.Applicative.html#Applicative"><span class="id" title="class">Applicative</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.X"><span class="id" title="variable">X</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch.Y"><span class="id" title="variable">Y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#app_mult_natural_Batch"><span class="id" title="lemma">app_mult_natural_Batch</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#app_assoc_Batch"><span class="id" title="lemma">app_assoc_Batch</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#app_unital_l_Batch"><span class="id" title="lemma">app_unital_l_Batch</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#app_unital_r_Batch"><span class="id" title="lemma">app_unital_r_Batch</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Applicative_Batch"><span class="id" title="section">Applicative_Batch</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab276"></a><h3 class="section">Examples of operations</h3>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="demo" class="idref" href="#demo"><span class="id" title="section">demo</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:100" class="idref" href="#A:100"><span class="id" title="binder">A</span></a> <a id="B:101" class="idref" href="#B:101"><span class="id" title="binder">B</span></a> <a id="C:102" class="idref" href="#C:102"><span class="id" title="binder">C</span></a> <a id="X:103" class="idref" href="#X:103"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a1:104" class="idref" href="#a1:104"><span class="id" title="binder">a1</span></a> <a id="a2:105" class="idref" href="#a2:105"><span class="id" title="binder">a2</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:100"><span class="id" title="variable">A</span></a>) (<a id="b1:106" class="idref" href="#b1:106"><span class="id" title="binder">b1</span></a> <a id="b2:107" class="idref" href="#b2:107"><span class="id" title="binder">b2</span></a> <a id="b3:108" class="idref" href="#b3:108"><span class="id" title="binder">b3</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:101"><span class="id" title="variable">B</span></a>) (<a id="c1:109" class="idref" href="#c1:109"><span class="id" title="binder">c1</span></a> <a id="c2:110" class="idref" href="#c2:110"><span class="id" title="binder">c2</span></a> <a id="c3:111" class="idref" href="#c3:111"><span class="id" title="binder">c3</span></a> <a id="c4:112" class="idref" href="#c4:112"><span class="id" title="binder">c4</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:102"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mk1:113" class="idref" href="#mk1:113"><span class="id" title="binder">mk1</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:102"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:103"><span class="id" title="variable">X</span></a>) (<a id="mk2:114" class="idref" href="#mk2:114"><span class="id" title="binder">mk2</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:102"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:102"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:103"><span class="id" title="variable">X</span></a>) (<a id="mk0:115" class="idref" href="#mk0:115"><span class="id" title="binder">mk0</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#X:103"><span class="id" title="variable">X</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Check&nbsp;Done&nbsp;a1&nbsp;⊗&nbsp;Done&nbsp;a2&nbsp;:&nbsp;@Batch&nbsp;False&nbsp;False&nbsp;(A&nbsp;*&nbsp;A).<br/>
&nbsp;&nbsp;Compute&nbsp;Done&nbsp;a1&nbsp;⊗&nbsp;Done&nbsp;a2.<br/>
&nbsp;&nbsp;Compute&nbsp;Done&nbsp;a1&nbsp;⊗&nbsp;(Done&nbsp;mk1&nbsp;⧆&nbsp;c1).<br/>
&nbsp;&nbsp;Compute&nbsp;(Done&nbsp;mk1&nbsp;⧆&nbsp;c1)&nbsp;⊗&nbsp;(Done&nbsp;mk1&nbsp;⧆&nbsp;c2).<br/>
&nbsp;&nbsp;Compute&nbsp;(Done&nbsp;mk2&nbsp;⧆&nbsp;c1&nbsp;⧆&nbsp;c2)&nbsp;⊗&nbsp;(Done&nbsp;mk1&nbsp;⧆&nbsp;c3).<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#demo"><span class="id" title="section">demo</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab277"></a><h2 class="section">Functoriality of <span class="inlinecode"><a class="idref" href="Tealeaves.Multisorted.Classes.DTM.html#Batch"><span class="id" title="inductive">Batch</span></a></span> in all arguments</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="functoriality_Batch" class="idref" href="#functoriality_Batch"><span class="id" title="section">functoriality_Batch</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:116" class="idref" href="#A:116"><span class="id" title="binder">A</span></a> <a id="B:117" class="idref" href="#B:117"><span class="id" title="binder">B</span></a> <a id="C:118" class="idref" href="#C:118"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="mapfst_Batch" class="idref" href="#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> (<a id="f:119" class="idref" href="#f:119"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.B"><span class="id" title="variable">B</span></a>) `(<a id="j:121" class="idref" href="#j:121"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.C"><span class="id" title="variable">C</span></a> <a id="X:120" class="idref" href="#X:120"><span class="id" title="binder">X</span></a>) : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.C"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:120"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#j:121"><span class="id" title="variable">j</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch:122"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:119"><span class="id" title="variable">f</span></a> <span class="id" title="var">rest</span>) (<a class="idref" href="Tealeaves.Functors.Batch.html#f:119"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="mapsnd_Batch" class="idref" href="#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> (<a id="f:124" class="idref" href="#f:124"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.B"><span class="id" title="variable">B</span></a>) `(<a id="j:126" class="idref" href="#j:126"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.C"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.B"><span class="id" title="variable">B</span></a> <a id="X:125" class="idref" href="#X:125"><span class="id" title="binder">X</span></a>) : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.C"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:125"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#j:126"><span class="id" title="variable">j</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">c</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.C"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Tealeaves.Prelude.html#precompose"><span class="id" title="definition">precompose</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:124"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#mapsnd_Batch:127"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:124"><span class="id" title="variable">f</span></a> <span class="id" title="var">rest</span>)) <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#functoriality_Batch"><span class="id" title="section">functoriality_Batch</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch1" class="idref" href="#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a> {<a id="A:129" class="idref" href="#A:129"><span class="id" title="binder">A</span></a> <a id="B:130" class="idref" href="#B:130"><span class="id" title="binder">B</span></a> <a id="C:131" class="idref" href="#C:131"><span class="id" title="binder">C</span></a> <a id="X:132" class="idref" href="#X:132"><span class="id" title="binder">X</span></a> <a id="Y:133" class="idref" href="#Y:133"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:134" class="idref" href="#f:134"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:129"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:130"><span class="id" title="variable">B</span></a>) (<a id="g:135" class="idref" href="#g:135"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#X:132"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:133"><span class="id" title="variable">Y</span></a>) (<a id="j:136" class="idref" href="#j:136"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:129"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:131"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:132"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:134"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:129"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:131"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#g:135"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:136"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:130"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:131"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#g:135"><span class="id" title="variable">g</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:134"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:136"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapsnd_Batch1" class="idref" href="#mapsnd_Batch1"><span class="id" title="lemma">mapsnd_Batch1</span></a> {<a id="A:137" class="idref" href="#A:137"><span class="id" title="binder">A</span></a> <a id="B:138" class="idref" href="#B:138"><span class="id" title="binder">B</span></a> <a id="C:139" class="idref" href="#C:139"><span class="id" title="binder">C</span></a> <a id="X:140" class="idref" href="#X:140"><span class="id" title="binder">X</span></a> <a id="Y:141" class="idref" href="#Y:141"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:138"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:139"><span class="id" title="variable">C</span></a>) (<a id="g:143" class="idref" href="#g:143"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#X:140"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:141"><span class="id" title="variable">Y</span></a>) (<a id="j:144" class="idref" href="#j:144"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:139"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:140"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:142"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:139"><span class="id" title="variable">C</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#g:143"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:144"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:137"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:138"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#g:143"><span class="id" title="variable">g</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:144"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHj</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <span class="id" title="var">f</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_mapsnd_Batch" class="idref" href="#mapfst_mapsnd_Batch"><span class="id" title="lemma">mapfst_mapsnd_Batch</span></a> : <span class="id" title="keyword">forall</span> {<a id="X:145" class="idref" href="#X:145"><span class="id" title="binder">X</span></a>} `(<a id="f:148" class="idref" href="#f:148"><span class="id" title="binder">f</span></a> : <a id="A:146" class="idref" href="#A:146"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="B:147" class="idref" href="#B:147"><span class="id" title="binder">B</span></a>) `(<a id="g:151" class="idref" href="#g:151"><span class="id" title="binder">g</span></a> : <a id="O1:149" class="idref" href="#O1:149"><span class="id" title="binder">O1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="O2:150" class="idref" href="#O2:150"><span class="id" title="binder">O2</span></a>) `(<a id="j:152" class="idref" href="#j:152"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:146"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#O2:150"><span class="id" title="variable">O2</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:145"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:148"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:151"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:152"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:151"><span class="id" title="variable">g</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:148"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:152"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHj</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch2" class="idref" href="#mapfst_Batch2"><span class="id" title="lemma">mapfst_Batch2</span></a> {<a id="A:153" class="idref" href="#A:153"><span class="id" title="binder">A</span></a> <a id="B:154" class="idref" href="#B:154"><span class="id" title="binder">B</span></a> <a id="C:155" class="idref" href="#C:155"><span class="id" title="binder">C</span></a> <a id="X:156" class="idref" href="#X:156"><span class="id" title="binder">X</span></a> <a id="Y:157" class="idref" href="#Y:157"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:158" class="idref" href="#f:158"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:153"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:154"><span class="id" title="variable">B</span></a>) (<a id="x:159" class="idref" href="#x:159"><span class="id" title="binder">x</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:153"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:155"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:156"><span class="id" title="variable">X</span></a>) (<a id="y:160" class="idref" href="#y:160"><span class="id" title="binder">y</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:153"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:155"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:157"><span class="id" title="variable">Y</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:158"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#x:159"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:160"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:159"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:160"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHy</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch3" class="idref" href="#mapfst_Batch3"><span class="id" title="lemma">mapfst_Batch3</span></a> {<a id="A:161" class="idref" href="#A:161"><span class="id" title="binder">A</span></a> <a id="B:162" class="idref" href="#B:162"><span class="id" title="binder">B</span></a> <a id="C:163" class="idref" href="#C:163"><span class="id" title="binder">C</span></a> <a id="X:164" class="idref" href="#X:164"><span class="id" title="binder">X</span></a> <a id="Y:165" class="idref" href="#Y:165"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:166" class="idref" href="#f:166"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:162"><span class="id" title="variable">B</span></a>) (<a id="x:167" class="idref" href="#x:167"><span class="id" title="binder">x</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:163"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#X:164"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Y:165"><span class="id" title="variable">Y</span></a>)) (<a id="y:168" class="idref" href="#y:168"><span class="id" title="binder">y</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:163"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:164"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:166"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#x:167"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:168"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:166"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:167"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:166"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:168"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch1"><span class="id" title="lemma">mapfst_Batch1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch2"><span class="id" title="lemma">mapfst_Batch2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch4" class="idref" href="#mapfst_Batch4"><span class="id" title="lemma">mapfst_Batch4</span></a> {<a id="A:169" class="idref" href="#A:169"><span class="id" title="binder">A</span></a> <a id="B:170" class="idref" href="#B:170"><span class="id" title="binder">B</span></a> <a id="X:171" class="idref" href="#X:171"><span class="id" title="binder">X</span></a> <a id="Y:172" class="idref" href="#Y:172"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:173" class="idref" href="#f:173"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:169"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:170"><span class="id" title="variable">B</span></a>) (<a id="t:174" class="idref" href="#t:174"><span class="id" title="binder">t</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#X:171"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:173"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> (<span class="id" title="var">Y</span> := <a class="idref" href="Tealeaves.Functors.Batch.html#Y:172"><span class="id" title="variable">Y</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#t:174"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#t:174"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mapfst_Batch5" class="idref" href="#mapfst_Batch5"><span class="id" title="lemma">mapfst_Batch5</span></a> {<a id="A:175" class="idref" href="#A:175"><span class="id" title="binder">A</span></a> <a id="B:176" class="idref" href="#B:176"><span class="id" title="binder">B</span></a> <a id="X:177" class="idref" href="#X:177"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:178" class="idref" href="#f:178"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:176"><span class="id" title="variable">B</span></a>)  (<a id="a:179" class="idref" href="#a:179"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:175"><span class="id" title="variable">A</span></a>) (<a id="j:180" class="idref" href="#j:180"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:176"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#B:176"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:177"><span class="id" title="variable">X</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:178"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#j:180"><span class="id" title="variable">j</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:179"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:178"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:180"><span class="id" title="variable">j</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:178"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:179"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab278"></a><h1 class="section"><code>Batch</code> as a free applicative functor (<code>runBatch</code>)</h1>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="runBatch" class="idref" href="#runBatch"><span class="id" title="definition">runBatch</span></a> `(<a id="be5fd58bc72236aa130502aae8dcf563" class="idref" href="#be5fd58bc72236aa130502aae8dcf563"><span class="id" title="binder">ϕ</span></a> : <a id="A:181" class="idref" href="#A:181"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="F:182" class="idref" href="#F:182"><span class="id" title="binder">F</span></a> <a id="B:183" class="idref" href="#B:183"><span class="id" title="binder">B</span></a>) `{<a id="H:185" class="idref" href="#H:185"><span class="id" title="binder">Fmap</span></a> <a id="H:185" class="idref" href="#H:185"><span class="id" title="binder">F</span></a>}`{<a id="H0:186" class="idref" href="#H0:186"><span class="id" title="binder">Mult</span></a> <a id="H0:186" class="idref" href="#H0:186"><span class="id" title="binder">F</span></a>} `{<a id="H1:187" class="idref" href="#H1:187"><span class="id" title="binder">Pure</span></a> <a id="H1:187" class="idref" href="#H1:187"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="j:189" class="idref" href="#j:189"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:181"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:183"><span class="id" title="variable">B</span></a> <a id="X:188" class="idref" href="#X:188"><span class="id" title="binder">X</span></a>) : <a class="idref" href="Tealeaves.Functors.Batch.html#F:182"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:188"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#j:189"><span class="id" title="variable">j</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:182"><span class="id" title="variable">F</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch:190"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#be5fd58bc72236aa130502aae8dcf563"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">rest</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#be5fd58bc72236aa130502aae8dcf563"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="runBatch_rw1" class="idref" href="#runBatch_rw1"><span class="id" title="lemma">runBatch_rw1</span></a> `{<a id="H2:196" class="idref" href="#H2:196"><span class="id" title="binder">Applicative</span></a> <a id="H2:196" class="idref" href="#H2:196"><span class="id" title="binder">F</span></a>} `(<a id="83b387cb8e2f89440b6e13b54c49e3f6" class="idref" href="#83b387cb8e2f89440b6e13b54c49e3f6"><span class="id" title="binder">ϕ</span></a> : <a id="A:197" class="idref" href="#A:197"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:192"><span class="id" title="variable">F</span></a> <a id="B:198" class="idref" href="#B:198"><span class="id" title="binder">B</span></a>) (<a id="X:200" class="idref" href="#X:200"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:201" class="idref" href="#x:201"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#X:200"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#83b387cb8e2f89440b6e13b54c49e3f6"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:201"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:192"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:201"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="runBatch_rw2" class="idref" href="#runBatch_rw2"><span class="id" title="lemma">runBatch_rw2</span></a> `{<a id="H2:206" class="idref" href="#H2:206"><span class="id" title="binder">Applicative</span></a> <a id="H2:206" class="idref" href="#H2:206"><span class="id" title="binder">F</span></a>} `(<a id="7518be412fcbf89b5b14cd96e1703651" class="idref" href="#7518be412fcbf89b5b14cd96e1703651"><span class="id" title="binder">ϕ</span></a> : <a id="A:207" class="idref" href="#A:207"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:202"><span class="id" title="variable">F</span></a> <a id="B:208" class="idref" href="#B:208"><span class="id" title="binder">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a:210" class="idref" href="#a:210"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:207"><span class="id" title="variable">A</span></a>) (<a id="X:211" class="idref" href="#X:211"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="rest:212" class="idref" href="#rest:212"><span class="id" title="binder">rest</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:207"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:208"><span class="id" title="variable">B</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#B:208"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:211"><span class="id" title="variable">X</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#7518be412fcbf89b5b14cd96e1703651"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#rest:212"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#45a660fcade13f7b83ca57ede582a0d1"><span class="id" title="notation">⧆</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:210"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#7518be412fcbf89b5b14cd96e1703651"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#rest:212"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#7518be412fcbf89b5b14cd96e1703651"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:210"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab279"></a><h2 class="section">Naturality of of <code>runBatch</code></h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runBatch_naturality" class="idref" href="#runBatch_naturality"><span class="id" title="section">runBatch_naturality</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:217" class="idref" href="#H2:217"><span class="id" title="binder">Applicative</span></a> <a id="H2:217" class="idref" href="#H2:217"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="natural_runBatch" class="idref" href="#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a> `(<a id="9efb185ad43d984e2a119d79549cbc36" class="idref" href="#9efb185ad43d984e2a119d79549cbc36"><span class="id" title="binder">ϕ</span></a> : <a id="A:218" class="idref" href="#A:218"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B:219" class="idref" href="#B:219"><span class="id" title="binder">B</span></a>) `(<a id="f:223" class="idref" href="#f:223"><span class="id" title="binder">f</span></a> : <a id="X:221" class="idref" href="#X:221"><span class="id" title="binder">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="Y:222" class="idref" href="#Y:222"><span class="id" title="binder">Y</span></a>) (<a id="j:224" class="idref" href="#j:224"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:218"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:219"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:221"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:223"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9efb185ad43d984e2a119d79549cbc36"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:224"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9efb185ad43d984e2a119d79549cbc36"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:218"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:219"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#f:223"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:224"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#fmap_ap"><span class="id" title="lemma">fmap_ap</span></a>. <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Natural_runBatch" class="idref" href="#Natural_runBatch"><span class="id" title="instance">Natural_runBatch</span></a> `(<a id="f5ac15487b8116f37a629f363491959d" class="idref" href="#f5ac15487b8116f37a629f363491959d"><span class="id" title="binder">ϕ</span></a> : <a id="A:225" class="idref" href="#A:225"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B:226" class="idref" href="#B:226"><span class="id" title="binder">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#Natural"><span class="id" title="class">Natural</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Batch.html#f5ac15487b8116f37a629f363491959d"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span>. <span class="id" title="var">ext</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_mapfst" class="idref" href="#runBatch_mapfst"><span class="id" title="lemma">runBatch_mapfst</span></a> : <span class="id" title="keyword">forall</span> `(<a id="s:231" class="idref" href="#s:231"><span class="id" title="binder">s</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a id="A1:228" class="idref" href="#A1:228"><span class="id" title="binder">A1</span></a> <a id="B:229" class="idref" href="#B:229"><span class="id" title="binder">B</span></a> <a id="C:230" class="idref" href="#C:230"><span class="id" title="binder">C</span></a>) `(<a id="5f8ea79044f11ab16bc34f703e324d8d" class="idref" href="#5f8ea79044f11ab16bc34f703e324d8d"><span class="id" title="binder">ϕ</span></a> : <a id="A2:232" class="idref" href="#A2:232"><span class="id" title="binder">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:229"><span class="id" title="variable">B</span></a>) (<a id="f:234" class="idref" href="#f:234"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A1:228"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A2:232"><span class="id" title="variable">A2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#5f8ea79044f11ab16bc34f703e324d8d"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:234"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#s:231"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#5f8ea79044f11ab16bc34f703e324d8d"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch"><span class="id" title="definition">mapfst_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:234"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#s:231"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_mapsnd" class="idref" href="#runBatch_mapsnd"><span class="id" title="lemma">runBatch_mapsnd</span></a> : <span class="id" title="keyword">forall</span> `(<a id="s:238" class="idref" href="#s:238"><span class="id" title="binder">s</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a id="A:235" class="idref" href="#A:235"><span class="id" title="binder">A</span></a> <a id="B2:236" class="idref" href="#B2:236"><span class="id" title="binder">B2</span></a> <a id="C:237" class="idref" href="#C:237"><span class="id" title="binder">C</span></a>) `(<a id="993db1b5de27c9d3b7bb939d16ea983d" class="idref" href="#993db1b5de27c9d3b7bb939d16ea983d"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:235"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B1:239" class="idref" href="#B1:239"><span class="id" title="binder">B1</span></a>) (<a id="f:241" class="idref" href="#f:241"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B1:239"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B2:236"><span class="id" title="variable">B2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:241"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#993db1b5de27c9d3b7bb939d16ea983d"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#s:238"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#993db1b5de27c9d3b7bb939d16ea983d"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapsnd_Batch"><span class="id" title="definition">mapsnd_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:241"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#s:238"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Classes.Applicative.html#ap_fmap"><span class="id" title="lemma">ap_fmap</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H9:250" class="idref" href="#H9:250"><span class="id" title="binder">ApplicativeMorphism</span></a> <a id="H9:250" class="idref" href="#H9:250"><span class="id" title="binder">F</span></a> <a id="H9:250" class="idref" href="#H9:250"><span class="id" title="binder">G</span></a> <a id="H9:250" class="idref" href="#H9:250"><span class="id" title="binder">ψ</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_morphism" class="idref" href="#runBatch_morphism"><span class="id" title="lemma">runBatch_morphism</span></a> `(<a id="85b1a8dfdf737657f9b8cfe5979a1e0a" class="idref" href="#85b1a8dfdf737657f9b8cfe5979a1e0a"><span class="id" title="binder">ϕ</span></a> : <a id="A:251" class="idref" href="#A:251"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a id="B:252" class="idref" href="#B:252"><span class="id" title="binder">B</span></a>) `(<a id="j:255" class="idref" href="#j:255"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:251"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:252"><span class="id" title="variable">B</span></a> <a id="X:254" class="idref" href="#X:254"><span class="id" title="binder">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Batch.html#018a5ac35c5efd71864c6198e912efcb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:254"><span class="id" title="variable">X</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#85b1a8dfdf737657f9b8cfe5979a1e0a"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:255"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#018a5ac35c5efd71864c6198e912efcb"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:252"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#85b1a8dfdf737657f9b8cfe5979a1e0a"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#j:255"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#appmor_pure"><span class="id" title="method">appmor_pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#ap_morphism_1"><span class="id" title="lemma">ap_morphism_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_naturality"><span class="id" title="section">runBatch_naturality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab280"></a><h2 class="section"><code>runBatch</code> is an applicative morphism</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runBatch_morphism" class="idref" href="#runBatch_morphism"><span class="id" title="section">runBatch_morphism</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:260" class="idref" href="#H2:260"><span class="id" title="binder">Applicative</span></a> <a id="H2:260" class="idref" href="#H2:260"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="bef22287fb0b76f798e215728f21b276" class="idref" href="#bef22287fb0b76f798e215728f21b276"><span class="id" title="binder">ϕ</span></a> : <a id="A:261" class="idref" href="#A:261"><span class="id" title="binder">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:256"><span class="id" title="variable">F</span></a> <a id="B:262" class="idref" href="#B:262"><span class="id" title="binder">B</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="appmor_pure_runBatch" class="idref" href="#appmor_pure_runBatch"><span class="id" title="lemma">appmor_pure_runBatch</span></a> : <span class="id" title="keyword">forall</span> (<a id="a:264" class="idref" href="#a:264"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#a:264"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:264"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="appmor_mult_runBatch" class="idref" href="#appmor_mult_runBatch"><span class="id" title="lemma">appmor_mult_runBatch</span></a> : <span class="id" title="keyword">forall</span> {<a id="C:265" class="idref" href="#C:265"><span class="id" title="binder">C</span></a> <a id="D:266" class="idref" href="#D:266"><span class="id" title="binder">D</span></a>} (<a id="x:267" class="idref" href="#x:267"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:265"><span class="id" title="variable">C</span></a>) (<a id="y:268" class="idref" href="#y:268"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:266"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#x:267"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:268"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:267"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:268"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> <span class="id" title="var">x'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch_rw2"><span class="id" title="lemma">mult_Batch_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_rw1"><span class="id" title="lemma">runBatch_rw1</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#triangle_4"><span class="id" title="lemma">triangle_4</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_rw2"><span class="id" title="lemma">runBatch_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_mult_natural_r"><span class="id" title="lemma">app_mult_natural_r</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_assoc"><span class="id" title="method">app_assoc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>) <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch"><span class="id" title="definition">mult_Batch</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_mult_natural_l"><span class="id" title="lemma">app_mult_natural_l</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>) <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">x'</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [[? ?] ?].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Morphism_store_fold" class="idref" href="#Morphism_store_fold"><span class="id" title="instance">Morphism_store_fold</span></a>: <a class="idref" href="Tealeaves.Classes.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#9b0a9514b0502576bddad23e2eb8cc11"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#natural_runBatch"><span class="id" title="lemma">natural_runBatch</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#appmor_mult_runBatch"><span class="id" title="lemma">appmor_mult_runBatch</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_morphism"><span class="id" title="section">runBatch_morphism</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab281"></a><h2 class="section"><code>runBatch</code> with monoidal values</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runBatch_monoid" class="idref" href="#runBatch_monoid"><span class="id" title="section">runBatch_monoid</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:272" class="idref" href="#H:272"><span class="id" title="binder">Monoid</span></a> <a id="H:272" class="idref" href="#H:272"><span class="id" title="binder">M</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="A:273" class="idref" href="#A:273"><span class="id" title="binder">A</span></a> <a id="B:274" class="idref" href="#B:274"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="runBatch_monoid" class="idref" href="#runBatch_monoid"><span class="id" title="definition">runBatch_monoid</span></a> `(<a id="a3476856af46f6862e3a2226c9d5a6d9" class="idref" href="#a3476856af46f6862e3a2226c9d5a6d9"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a>) `(<a id="s:277" class="idref" href="#s:277"><span class="id" title="binder">s</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.B"><span class="id" title="variable">B</span></a> <a id="C:276" class="idref" href="#C:276"><span class="id" title="binder">C</span></a>) : <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#s:277"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Tealeaves.Classes.Monoid.html#monoid_unit"><span class="id" title="definition">monoid_unit</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">i1</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid:278"><span class="id" title="definition">runBatch_monoid</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#a3476856af46f6862e3a2226c9d5a6d9"><span class="id" title="variable">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a>) <span class="id" title="var">rest</span> <a class="idref" href="Tealeaves.Classes.Monoid.html#23f40b1adcf5df7d889fd9b798da390c"><span class="id" title="notation">●</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a3476856af46f6862e3a2226c9d5a6d9"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">i1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_monoid1" class="idref" href="#runBatch_monoid1"><span class="id" title="lemma">runBatch_monoid1</span></a> : <span class="id" title="keyword">forall</span> (<a id="34a3d230370ce50e5a12ceb61519f7cd" class="idref" href="#34a3d230370ce50e5a12ceb61519f7cd"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a>) `(<a id="s:282" class="idref" href="#s:282"><span class="id" title="binder">s</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.B"><span class="id" title="variable">B</span></a> <a id="C:281" class="idref" href="#C:281"><span class="id" title="binder">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid"><span class="id" title="definition">runBatch_monoid</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#34a3d230370ce50e5a12ceb61519f7cd"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#s:282"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Constant.html#unconst"><span class="id" title="definition">unconst</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<a class="idref" href="Tealeaves.Functors.Constant.html#mkConst"><span class="id" title="constructor">mkConst</span></a> (<span class="id" title="var">tag</span> := <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#34a3d230370ce50e5a12ceb61519f7cd"><span class="id" title="variable">ϕ</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#s:282"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runBatch_monoid2" class="idref" href="#runBatch_monoid2"><span class="id" title="lemma">runBatch_monoid2</span></a> : <span class="id" title="keyword">forall</span> (<a id="19a363b0f3a61c7b7a78cd7a7ce83c88" class="idref" href="#19a363b0f3a61c7b7a78cd7a7ce83c88"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a>) `(<a id="s:285" class="idref" href="#s:285"><span class="id" title="binder">s</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.B"><span class="id" title="variable">B</span></a> <a id="C:284" class="idref" href="#C:284"><span class="id" title="binder">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid"><span class="id" title="definition">runBatch_monoid</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#19a363b0f3a61c7b7a78cd7a7ce83c88"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#s:285"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch"><span class="id" title="definition">runBatch</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="Tealeaves.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#19a363b0f3a61c7b7a78cd7a7ce83c88"><span class="id" title="variable">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Prelude.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.M"><span class="id" title="variable">M</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#s:285"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_monoid"><span class="id" title="section">runBatch_monoid</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab282"></a><h2 class="section">Auxiliary lemmas for runBatch and constant applicative functors.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="runBatch_aux" class="idref" href="#runBatch_aux"><span class="id" title="section">runBatch_aux</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_aux"><span class="id" title="section">runBatch_aux</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab283"></a><h1 class="section"><code>Batch</code> as a parameterized comonad</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="parameterized" class="idref" href="#parameterized"><span class="id" title="section">parameterized</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Arguments</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="extract_Batch" class="idref" href="#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> {<a id="A:286" class="idref" href="#A:286"><span class="id" title="binder">A</span></a> <a id="X:287" class="idref" href="#X:287"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="j:288" class="idref" href="#j:288"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:286"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:286"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:287"><span class="id" title="variable">X</span></a>) : <a class="idref" href="Tealeaves.Functors.Batch.html#X:287"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#j:288"><span class="id" title="variable">j</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#extract_Batch:289"><span class="id" title="definition">extract_Batch</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="cojoin_Batch" class="idref" href="#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> {<a id="A:291" class="idref" href="#A:291"><span class="id" title="binder">A</span></a> <a id="C:292" class="idref" href="#C:292"><span class="id" title="binder">C</span></a> <a id="X:293" class="idref" href="#X:293"><span class="id" title="binder">X</span></a>: <span class="id" title="keyword">Type</span>} <a id="B:294" class="idref" href="#B:294"><span class="id" title="binder">B</span></a> (<a id="j:295" class="idref" href="#j:295"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:292"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:293"><span class="id" title="variable">X</span></a>) : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:294"><span class="id" title="variable">B</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:294"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:292"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:293"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#j:295"><span class="id" title="variable">j</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:294"><span class="id" title="variable">B</span></a>) (@<a class="idref" href="Tealeaves.Functors.Batch.html#Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:294"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:292"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:293"><span class="id" title="variable">X</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#cojoin_Batch:296"><span class="id" title="definition">cojoin_Batch</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:294"><span class="id" title="variable">B</span></a> <span class="id" title="var">rest</span>)) <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Context<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(A&nbsp;B&nbsp;C&nbsp;X&nbsp;:&nbsp;Type)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(a1&nbsp;a2&nbsp;:&nbsp;A)&nbsp;(mk1&nbsp;:&nbsp;C&nbsp;-&gt;&nbsp;X)&nbsp;(mk2&nbsp;:&nbsp;C&nbsp;-&gt;&nbsp;C&nbsp;-&gt;&nbsp;X)&nbsp;(mk0&nbsp;:&nbsp;X).<br/>
<br/>
&nbsp;&nbsp;Check&nbsp;Done&nbsp;(X&nbsp;:=&nbsp;A)&nbsp;(Y&nbsp;:=&nbsp;C)&nbsp;mk0.<br/>
&nbsp;&nbsp;Compute&nbsp;cojoin_Batch&nbsp;B&nbsp;(Done&nbsp;(X&nbsp;:=&nbsp;A)&nbsp;(Y&nbsp;:=&nbsp;C)&nbsp;mk0).<br/>
&nbsp;&nbsp;Check&nbsp;Step&nbsp;(Done&nbsp;mk1)&nbsp;a1.<br/>
&nbsp;&nbsp;Compute&nbsp;cojoin_Batch&nbsp;B&nbsp;(Step&nbsp;(Done&nbsp;mk1)&nbsp;a1).<br/>
&nbsp;&nbsp;Check&nbsp;Step&nbsp;(Step&nbsp;(Done&nbsp;mk2)&nbsp;a2)&nbsp;a1.<br/>
&nbsp;&nbsp;Compute&nbsp;cojoin_Batch&nbsp;B&nbsp;(Step&nbsp;(Step&nbsp;(Done&nbsp;mk2)&nbsp;a2)&nbsp;a1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;Finish&nbsp;rest&nbsp;of&nbsp;the&nbsp;parameterized&nbsp;comonad&nbsp;structure.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="extr_cojoin_Batch" class="idref" href="#extr_cojoin_Batch"><span class="id" title="lemma">extr_cojoin_Batch</span></a> : `(<a class="idref" href="Tealeaves.Functors.Batch.html#extract_Batch"><span class="id" title="definition">extract_Batch</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#cojoin_Batch"><span class="id" title="definition">cojoin_Batch</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#Batch"><span class="id" title="inductive">Batch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#parameterized"><span class="id" title="section">parameterized</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab284"></a><h1 class="section">Specialized <code>Batch</code> for DTMs</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Batch_DTM" class="idref" href="#Batch_DTM"><span class="id" title="module">Batch_DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Arguments</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Batch_DTM.Batch_DTM" class="idref" href="#Batch_DTM.Batch_DTM"><span class="id" title="section">Batch_DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="T:301" class="idref" href="#T:301"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="W:302" class="idref" href="#W:302"><span class="id" title="binder">W</span></a> <a id="A:303" class="idref" href="#A:303"><span class="id" title="binder">A</span></a> <a id="B:304" class="idref" href="#B:304"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Batch_DTM.Batch_DTM" class="idref" href="#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a id="C:305" class="idref" href="#C:305"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Batch_DTM.Done" class="idref" href="#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:305"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM:306"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:305"><span class="id" title="variable">C</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Batch_DTM.Step" class="idref" href="#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM:306"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:305"><span class="id" title="variable">C</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.W"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM:306"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:305"><span class="id" title="variable">C</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Batch_DTM.fmap_Batch_DTM" class="idref" href="#Batch_DTM.fmap_Batch_DTM"><span class="id" title="definition">fmap_Batch_DTM</span></a> `{<a id="f:310" class="idref" href="#f:310"><span class="id" title="binder">f</span></a> : <a id="C:308" class="idref" href="#C:308"><span class="id" title="binder">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="D:309" class="idref" href="#D:309"><span class="id" title="binder">D</span></a>} `(<a id="c:311" class="idref" href="#c:311"><span class="id" title="binder">c</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:308"><span class="id" title="variable">C</span></a>) : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:309"><span class="id" title="variable">D</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#c:311"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:309"><span class="id" title="variable">D</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#f:310"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#c:311"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">w</span> <span class="id" title="var">a</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:309"><span class="id" title="variable">D</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#fmap_Batch_DTM:312"><span class="id" title="definition">fmap_Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:308"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:309"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:310"><span class="id" title="variable">f</span></a>) <span class="id" title="var">rest</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Batch_DTM.Fmap_Batch_DTM" class="idref" href="#Batch_DTM.Fmap_Batch_DTM"><span class="id" title="instance">Fmap_Batch_DTM</span></a> : <a class="idref" href="Tealeaves.Classes.Functor.html#Fmap"><span class="id" title="class">Fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> := @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.fmap_Batch_DTM"><span class="id" title="definition">fmap_Batch_DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.fmap_id_Batch_DTM" class="idref" href="#Batch_DTM.fmap_id_Batch_DTM"><span class="id" title="lemma">fmap_id_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="C:314" class="idref" href="#C:314"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:314"><span class="id" title="variable">C</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">ext</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHs</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.fmap_fmap_Batch_DTM" class="idref" href="#Batch_DTM.fmap_fmap_Batch_DTM"><span class="id" title="lemma">fmap_fmap_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="C:315" class="idref" href="#C:315"><span class="id" title="binder">C</span></a> <a id="D:316" class="idref" href="#D:316"><span class="id" title="binder">D</span></a> <a id="E:317" class="idref" href="#E:317"><span class="id" title="binder">E</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:318" class="idref" href="#f:318"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:315"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:316"><span class="id" title="variable">D</span></a>) (<a id="g:319" class="idref" href="#g:319"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#D:316"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#E:317"><span class="id" title="variable">E</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:319"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:318"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#g:319"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:318"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Prelude.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="var">ext</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">D</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Batch_DTM.Functor_Batch_DTM" class="idref" href="#Batch_DTM.Functor_Batch_DTM"><span class="id" title="instance">Functor_Batch_DTM</span></a> : <a class="idref" href="Tealeaves.Classes.Functor.html#Functor"><span class="id" title="class">Functor</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_id"><span class="id" title="method">fun_fmap_id</span></a> := <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.fmap_id_Batch_DTM"><span class="id" title="lemma">fmap_id_Batch_DTM</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> := <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.fmap_fmap_Batch_DTM"><span class="id" title="lemma">fmap_fmap_Batch_DTM</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab285"></a><h2 class="section">Applicative Instance</h2>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Batch_DTM.Pure_Batch_DTM" class="idref" href="#Batch_DTM.Pure_Batch_DTM"><span class="id" title="instance">Pure_Batch_DTM</span></a> : <a class="idref" href="Tealeaves.Classes.Applicative.html#Pure"><span class="id" title="class">Pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="C:320" class="idref" href="#C:320"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>) (<a id="c:321" class="idref" href="#c:321"><span class="id" title="binder">c</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:320"><span class="id" title="variable">C</span></a>) =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:320"><span class="id" title="variable">C</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#c:321"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Batch_DTM.mult_Batch_DTM" class="idref" href="#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> `(<a id="jc:323" class="idref" href="#jc:323"><span class="id" title="binder">jc</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a id="C:322" class="idref" href="#C:322"><span class="id" title="binder">C</span></a>) `(<a id="jd:325" class="idref" href="#jd:325"><span class="id" title="binder">jd</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a id="D:324" class="idref" href="#D:324"><span class="id" title="binder">D</span></a>) : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#C:322"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:324"><span class="id" title="variable">D</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#jd:325"><span class="id" title="variable">jd</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">d</span> =&gt; <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<span class="id" title="keyword">fun</span> (<a id="c:328" class="idref" href="#c:328"><span class="id" title="binder">c</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:322"><span class="id" title="variable">C</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#c:328"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#jc:323"><span class="id" title="variable">jc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">w</span> <span class="id" title="var">a</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#C:322"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:324"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mult_Batch_DTM:326"><span class="id" title="definition">mult_Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#jc:323"><span class="id" title="variable">jc</span></a> <span class="id" title="var">rest</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">w</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Batch_DTM.Mult_Batch_DTM" class="idref" href="#Batch_DTM.Mult_Batch_DTM"><span class="id" title="instance">Mult_Batch_DTM</span></a> : <a class="idref" href="Tealeaves.Classes.Applicative.html#Mult"><span class="id" title="class">Mult</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="C:329" class="idref" href="#C:329"><span class="id" title="binder">C</span></a> <a id="D:330" class="idref" href="#D:330"><span class="id" title="binder">D</span></a> '<a id="pat:333" class="idref" href="#pat:333"><span class="id" title="binder">(</span></a><a id="pat:333" class="idref" href="#pat:333"><span class="id" title="binder">c</span></a><a id="pat:333" class="idref" href="#pat:333"><span class="id" title="binder">,</span></a> <a id="pat:333" class="idref" href="#pat:333"><span class="id" title="binder">d</span></a><a id="pat:333" class="idref" href="#pat:333"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#c:332"><span class="id" title="variable">c</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:331"><span class="id" title="variable">d</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Infix</span> "⧆2" := (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 51, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">tealeaves_scope</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.mult_Batch_DTM_rw1" class="idref" href="#Batch_DTM.mult_Batch_DTM_rw1"><span class="id" title="lemma">mult_Batch_DTM_rw1</span></a> : <span class="id" title="keyword">forall</span> `(<a id="a:334" class="idref" href="#a:334"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.A"><span class="id" title="variable">A</span></a>) `(<a id="b:335" class="idref" href="#b:335"><span class="id" title="binder">b</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Batch.html#a:334"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Batch.html#b:335"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#a:334"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:335"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.mult_Batch_DTM_rw2" class="idref" href="#Batch_DTM.mult_Batch_DTM_rw2"><span class="id" title="lemma">mult_Batch_DTM_rw2</span></a> : <span class="id" title="keyword">forall</span> `(<a id="d:337" class="idref" href="#d:337"><span class="id" title="binder">d</span></a> : <a id="D:336" class="idref" href="#D:336"><span class="id" title="binder">D</span></a>) `(<a id="jc:339" class="idref" href="#jc:339"><span class="id" title="binder">jc</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a id="C:338" class="idref" href="#C:338"><span class="id" title="binder">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#jc:339"><span class="id" title="variable">jc</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:336"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:337"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Prelude.html#pair_right"><span class="id" title="definition">pair_right</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:337"><span class="id" title="variable">d</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#jc:339"><span class="id" title="variable">jc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">jc</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.mult_Batch_DTM_rw3" class="idref" href="#Batch_DTM.mult_Batch_DTM_rw3"><span class="id" title="lemma">mult_Batch_DTM_rw3</span></a> : <span class="id" title="keyword">forall</span> `(<a id="d:341" class="idref" href="#d:341"><span class="id" title="binder">d</span></a> : <a id="D:340" class="idref" href="#D:340"><span class="id" title="binder">D</span></a>) `(<a id="jc:343" class="idref" href="#jc:343"><span class="id" title="binder">jc</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a id="C:342" class="idref" href="#C:342"><span class="id" title="binder">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:340"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:341"><span class="id" title="variable">d</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#jc:343"><span class="id" title="variable">jc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:341"><span class="id" title="variable">d</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#jc:343"><span class="id" title="variable">jc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">jc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHjc</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">jc</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.mult_Batch_DTM_rw4" class="idref" href="#Batch_DTM.mult_Batch_DTM_rw4"><span class="id" title="lemma">mult_Batch_DTM_rw4</span></a> : <span class="id" title="keyword">forall</span> (<a id="w:344" class="idref" href="#w:344"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.W"><span class="id" title="variable">W</span></a>) (<a id="a:345" class="idref" href="#a:345"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.A"><span class="id" title="variable">A</span></a>) `(<a id="jc:347" class="idref" href="#jc:347"><span class="id" title="binder">jc</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="C:346" class="idref" href="#C:346"><span class="id" title="binder">C</span></a>)) `(<a id="d:349" class="idref" href="#d:349"><span class="id" title="binder">d</span></a> : <a id="D:348" class="idref" href="#D:348"><span class="id" title="binder">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#jc:347"><span class="id" title="variable">jc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w:344"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:345"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:348"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:349"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Prelude.html#costrength_arrow"><span class="id" title="definition">costrength_arrow</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Prelude.html#pair_right"><span class="id" title="definition">pair_right</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:349"><span class="id" title="variable">d</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#jc:347"><span class="id" title="variable">jc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w:344"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:345"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.mult_Batch_DTM_rw5" class="idref" href="#Batch_DTM.mult_Batch_DTM_rw5"><span class="id" title="lemma">mult_Batch_DTM_rw5</span></a> : <span class="id" title="keyword">forall</span> (<a id="w:350" class="idref" href="#w:350"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.W"><span class="id" title="variable">W</span></a>) (<a id="a:351" class="idref" href="#a:351"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.A"><span class="id" title="variable">A</span></a>) `(<a id="jc:353" class="idref" href="#jc:353"><span class="id" title="binder">jc</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="C:352" class="idref" href="#C:352"><span class="id" title="binder">C</span></a>)) `(<a id="d:355" class="idref" href="#d:355"><span class="id" title="binder">d</span></a> : <a id="D:354" class="idref" href="#D:354"><span class="id" title="binder">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:354"><span class="id" title="variable">D</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:355"><span class="id" title="variable">d</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#jc:353"><span class="id" title="variable">jc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w:350"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:351"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#d:355"><span class="id" title="variable">d</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#jc:353"><span class="id" title="variable">jc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w:350"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:351"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM_rw3"><span class="id" title="lemma">mult_Batch_DTM_rw3</span></a> <span class="id" title="var">d</span>). <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">jc</span> <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.mult_Batch_DTM_rw6" class="idref" href="#Batch_DTM.mult_Batch_DTM_rw6"><span class="id" title="lemma">mult_Batch_DTM_rw6</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="w1:356" class="idref" href="#w1:356"><span class="id" title="binder">w1</span></a> <a id="w2:357" class="idref" href="#w2:357"><span class="id" title="binder">w2</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.W"><span class="id" title="variable">W</span></a>) (<a id="a1:358" class="idref" href="#a1:358"><span class="id" title="binder">a1</span></a> <a id="a2:359" class="idref" href="#a2:359"><span class="id" title="binder">a2</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="jc:361" class="idref" href="#jc:361"><span class="id" title="binder">jc</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="C:360" class="idref" href="#C:360"><span class="id" title="binder">C</span></a>)) `(<a id="jd:363" class="idref" href="#jd:363"><span class="id" title="binder">jd</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="D:362" class="idref" href="#D:362"><span class="id" title="binder">D</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#jc:361"><span class="id" title="variable">jc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w1:356"><span class="id" title="variable">w1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a1:358"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#jd:363"><span class="id" title="variable">jd</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w2:357"><span class="id" title="variable">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a2:359"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Prelude.html#strength_arrow"><span class="id" title="definition">strength_arrow</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#jc:361"><span class="id" title="variable">jc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w1:356"><span class="id" title="variable">w1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a1:358"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#jd:363"><span class="id" title="variable">jd</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#bca43320813fedd7e9d6ad267b3577c3"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w2:357"><span class="id" title="variable">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a2:359"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_pure_natural_Batch_DTM" class="idref" href="#Batch_DTM.app_pure_natural_Batch_DTM"><span class="id" title="lemma">app_pure_natural_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="C:364" class="idref" href="#C:364"><span class="id" title="binder">C</span></a> <a id="D:365" class="idref" href="#D:365"><span class="id" title="binder">D</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:366" class="idref" href="#f:366"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:364"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:365"><span class="id" title="variable">D</span></a>) (<a id="x:367" class="idref" href="#x:367"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:364"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:366"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:367"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#f:366"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:367"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_mult_natural_Batch_DTM1" class="idref" href="#Batch_DTM.app_mult_natural_Batch_DTM1"><span class="id" title="lemma">app_mult_natural_Batch_DTM1</span></a> : <span class="id" title="keyword">forall</span> (<a id="C:368" class="idref" href="#C:368"><span class="id" title="binder">C</span></a> <a id="D:369" class="idref" href="#D:369"><span class="id" title="binder">D</span></a> <a id="E:370" class="idref" href="#E:370"><span class="id" title="binder">E</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:371" class="idref" href="#f:371"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:368"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:369"><span class="id" title="variable">D</span></a>) (<a id="x:372" class="idref" href="#x:372"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:368"><span class="id" title="variable">C</span></a>) (<a id="y:373" class="idref" href="#y:373"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#E:370"><span class="id" title="variable">E</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:371"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:372"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:373"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Data.Product.html#map_fst"><span class="id" title="definition">map_fst</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:371"><span class="id" title="variable">f</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#x:372"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:373"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span>; <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHy</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>). <span class="id" title="tactic">do</span> 2 <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_mult_natural_Batch_DTM2" class="idref" href="#Batch_DTM.app_mult_natural_Batch_DTM2"><span class="id" title="lemma">app_mult_natural_Batch_DTM2</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:374" class="idref" href="#A:374"><span class="id" title="binder">A</span></a> <a id="B:375" class="idref" href="#B:375"><span class="id" title="binder">B</span></a> <a id="D:376" class="idref" href="#D:376"><span class="id" title="binder">D</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:377" class="idref" href="#g:377"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:375"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:376"><span class="id" title="variable">D</span></a>) (<a id="x:378" class="idref" href="#x:378"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:374"><span class="id" title="variable">A</span></a>) (<a id="y:379" class="idref" href="#y:379"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:375"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#x:378"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:377"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:379"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Data.Product.html#map_snd"><span class="id" title="definition">map_snd</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:377"><span class="id" title="variable">g</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#x:378"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:379"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">D</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">x</span> <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">a'</span> <span class="id" title="var">mk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_mult_natural_Batch_DTM" class="idref" href="#Batch_DTM.app_mult_natural_Batch_DTM"><span class="id" title="lemma">app_mult_natural_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:380" class="idref" href="#A:380"><span class="id" title="binder">A</span></a> <a id="B:381" class="idref" href="#B:381"><span class="id" title="binder">B</span></a> <a id="C:382" class="idref" href="#C:382"><span class="id" title="binder">C</span></a> <a id="D:383" class="idref" href="#D:383"><span class="id" title="binder">D</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f:384" class="idref" href="#f:384"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:380"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:382"><span class="id" title="variable">C</span></a>) (<a id="g:385" class="idref" href="#g:385"><span class="id" title="binder">g</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:381"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:383"><span class="id" title="variable">D</span></a>) (<a id="x:386" class="idref" href="#x:386"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:380"><span class="id" title="variable">A</span></a>) (<a id="y:387" class="idref" href="#y:387"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:381"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:384"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:386"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:385"><span class="id" title="variable">g</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:387"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Data.Product.html#map_tensor"><span class="id" title="definition">map_tensor</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:384"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#g:385"><span class="id" title="variable">g</span></a>) (<a class="idref" href="Tealeaves.Functors.Batch.html#x:386"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:387"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_mult_natural_Batch_DTM1"><span class="id" title="lemma">app_mult_natural_Batch_DTM1</span></a>, <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_mult_natural_Batch_DTM2"><span class="id" title="lemma">app_mult_natural_Batch_DTM2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>). <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">ext</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_assoc_Batch_DTM" class="idref" href="#Batch_DTM.app_assoc_Batch_DTM"><span class="id" title="lemma">app_assoc_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:388" class="idref" href="#A:388"><span class="id" title="binder">A</span></a> <a id="B:389" class="idref" href="#B:389"><span class="id" title="binder">B</span></a> <a id="C:390" class="idref" href="#C:390"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:391" class="idref" href="#x:391"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:388"><span class="id" title="variable">A</span></a>) (<a id="y:392" class="idref" href="#y:392"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:389"><span class="id" title="variable">B</span></a>) (<a id="z:393" class="idref" href="#z:393"><span class="id" title="binder">z</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:390"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Data.Product.html#associator"><span class="id" title="definition">associator</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#x:391"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:392"><span class="id" title="variable">y</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#z:393"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:391"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#y:392"><span class="id" title="variable">y</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#z:393"><span class="id" title="variable">z</span></a><a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">z</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM_rw2"><span class="id" title="lemma">mult_Batch_DTM_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_mult_natural_Batch_DTM2"><span class="id" title="lemma">app_mult_natural_Batch_DTM2</span></a>). <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_mult_natural_Batch_DTM2"><span class="id" title="lemma">app_mult_natural_Batch_DTM2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>) <span class="id" title="var">on</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [[? ?] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_unital_l_Batch_DTM" class="idref" href="#Batch_DTM.app_unital_l_Batch_DTM"><span class="id" title="lemma">app_unital_l_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:394" class="idref" href="#A:394"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:395" class="idref" href="#x:395"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:394"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Data.Product.html#left_unitor"><span class="id" title="definition">left_unitor</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:395"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:395"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fequal</span>. <span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">rest</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">fequal</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_unital_r_Batch_DTM" class="idref" href="#Batch_DTM.app_unital_r_Batch_DTM"><span class="id" title="lemma">app_unital_r_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:396" class="idref" href="#A:396"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:397" class="idref" href="#x:397"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:396"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Data.Product.html#right_unitor"><span class="id" title="definition">right_unitor</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#x:397"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:397"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ANY</span> <span class="id" title="var">any</span> | <span class="id" title="var">ANY</span> <span class="id" title="var">rest</span> <span class="id" title="var">IH</span> [<span class="id" title="var">w</span> <span class="id" title="var">a</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">fequal</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> <span class="id" title="var">rest</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.app_mult_pure_Batch_DTM" class="idref" href="#Batch_DTM.app_mult_pure_Batch_DTM"><span class="id" title="lemma">app_mult_pure_Batch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:398" class="idref" href="#A:398"><span class="id" title="binder">A</span></a> <a id="B:399" class="idref" href="#B:399"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>) (<a id="a:400" class="idref" href="#a:400"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:398"><span class="id" title="variable">A</span></a>) (<a id="b:401" class="idref" href="#b:401"><span class="id" title="binder">b</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:399"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:400"><span class="id" title="variable">a</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:401"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#a:400"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#b:401"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>, <span class="id" title="var">program</span>] <span class="id" title="keyword">Instance</span> <a id="Batch_DTM.App_Path" class="idref" href="#Batch_DTM.App_Path"><span class="id" title="instance">App_Path</span></a> : <a class="idref" href="Tealeaves.Classes.Applicative.html#Applicative"><span class="id" title="class">Applicative</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_mult_natural_Batch_DTM"><span class="id" title="lemma">app_mult_natural_Batch_DTM</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_assoc_Batch_DTM"><span class="id" title="lemma">app_assoc_Batch_DTM</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_unital_l_Batch_DTM"><span class="id" title="lemma">app_unital_l_Batch_DTM</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.app_unital_r_Batch_DTM"><span class="id" title="lemma">app_unital_r_Batch_DTM</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="section">Batch_DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> {<span class="id" title="var">T</span>}%<span class="id" title="var">function_scope</span> {<span class="id" title="var">W</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>}%<span class="id" title="var">type_scope</span> [<span class="id" title="var">C</span>]%<span class="id" title="var">type_scope</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab286"></a><h2 class="section">Notations</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Batch_DTM.Notations" class="idref" href="#Batch_DTM.Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="1275801aae213ea1dcad4d3c2a520157" class="idref" href="#1275801aae213ea1dcad4d3c2a520157"><span class="id" title="notation">&quot;</span></a>⧆2" := <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 51, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">tealeaves_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab287"></a><h3 class="section">Examples of operations</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Batch_DTM.demo" class="idref" href="#Batch_DTM.demo"><span class="id" title="section">demo</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:402" class="idref" href="#T:402"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:403" class="idref" href="#A:403"><span class="id" title="binder">A</span></a> <a id="B:404" class="idref" href="#B:404"><span class="id" title="binder">B</span></a> <a id="C:405" class="idref" href="#C:405"><span class="id" title="binder">C</span></a> <a id="X:406" class="idref" href="#X:406"><span class="id" title="binder">X</span></a> <a id="W:407" class="idref" href="#W:407"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a1:408" class="idref" href="#a1:408"><span class="id" title="binder">a1</span></a> <a id="a2:409" class="idref" href="#a2:409"><span class="id" title="binder">a2</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A:403"><span class="id" title="variable">A</span></a>) (<a id="b1:410" class="idref" href="#b1:410"><span class="id" title="binder">b1</span></a> <a id="b2:411" class="idref" href="#b2:411"><span class="id" title="binder">b2</span></a> <a id="b3:412" class="idref" href="#b3:412"><span class="id" title="binder">b3</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#B:404"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="w1:413" class="idref" href="#w1:413"><span class="id" title="binder">w1</span></a> <a id="w2:414" class="idref" href="#w2:414"><span class="id" title="binder">w2</span></a> <a id="w3:415" class="idref" href="#w3:415"><span class="id" title="binder">w3</span></a> <a id="w4:416" class="idref" href="#w4:416"><span class="id" title="binder">w4</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#W:407"><span class="id" title="variable">W</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="c1:417" class="idref" href="#c1:417"><span class="id" title="binder">c1</span></a> <a id="c2:418" class="idref" href="#c2:418"><span class="id" title="binder">c2</span></a> <a id="c3:419" class="idref" href="#c3:419"><span class="id" title="binder">c3</span></a> <a id="c4:420" class="idref" href="#c4:420"><span class="id" title="binder">c4</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:405"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mk1:421" class="idref" href="#mk1:421"><span class="id" title="binder">mk1</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:405"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:406"><span class="id" title="variable">X</span></a>) (<a id="mk2:422" class="idref" href="#mk2:422"><span class="id" title="binder">mk2</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:405"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:405"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#X:406"><span class="id" title="variable">X</span></a>) (<a id="mk0:423" class="idref" href="#mk0:423"><span class="id" title="binder">mk0</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#X:406"><span class="id" title="variable">X</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;Check&nbsp;Done&nbsp;a1&nbsp;⊗&nbsp;Done&nbsp;a2&nbsp;:&nbsp;@Batch_DTM&nbsp;_&nbsp;T&nbsp;W&nbsp;False&nbsp;False&nbsp;(A&nbsp;*&nbsp;A).<br/>
&nbsp;&nbsp;Compute&nbsp;Done&nbsp;a1&nbsp;⊗&nbsp;Done&nbsp;a2.<br/>
&nbsp;&nbsp;Compute&nbsp;Done&nbsp;a1&nbsp;⊗&nbsp;(Done&nbsp;mk1&nbsp;⧆2&nbsp;(w1,&nbsp;c1)).<br/>
&nbsp;&nbsp;Compute&nbsp;(Done&nbsp;mk1&nbsp;⧆2&nbsp;(w1,&nbsp;c1))&nbsp;⊗&nbsp;(Done&nbsp;mk1&nbsp;⧆2&nbsp;(w2,&nbsp;c2)).<br/>
&nbsp;&nbsp;Compute&nbsp;(Done&nbsp;mk2&nbsp;⧆2&nbsp;(w1,&nbsp;c1)&nbsp;⧆2&nbsp;(w2,&nbsp;c2))&nbsp;⊗&nbsp;(Done&nbsp;mk1&nbsp;⧆2&nbsp;(w3,&nbsp;c3)).<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.demo"><span class="id" title="section">demo</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab288"></a><h2 class="section">Functoriality of <span class="inlinecode"><a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a></span></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Batch_DTM.functoriality_Batch_DTM" class="idref" href="#Batch_DTM.functoriality_Batch_DTM"><span class="id" title="section">functoriality_Batch_DTM</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:424" class="idref" href="#T:424"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Batch_DTM.mapfst_Batch_DTM" class="idref" href="#Batch_DTM.mapfst_Batch_DTM"><span class="id" title="definition">mapfst_Batch_DTM</span></a> {<a id="A1:425" class="idref" href="#A1:425"><span class="id" title="binder">A1</span></a> <a id="A2:426" class="idref" href="#A2:426"><span class="id" title="binder">A2</span></a> <a id="B:427" class="idref" href="#B:427"><span class="id" title="binder">B</span></a> <a id="C:428" class="idref" href="#C:428"><span class="id" title="binder">C</span></a>} (<a id="f:429" class="idref" href="#f:429"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#A1:425"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A2:426"><span class="id" title="variable">A2</span></a>) `(<a id="j:431" class="idref" href="#j:431"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.functoriality_Batch_DTM.T"><span class="id" title="variable">T</span></a> <a id="W:430" class="idref" href="#W:430"><span class="id" title="binder">W</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A1:425"><span class="id" title="variable">A1</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:427"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:428"><span class="id" title="variable">C</span></a>) : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.functoriality_Batch_DTM.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#W:430"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A2:426"><span class="id" title="variable">A2</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:427"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:428"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#j:431"><span class="id" title="variable">j</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">rest</span> <span class="id" title="var">p</span> =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#mapfst_Batch_DTM:432"><span class="id" title="definition">mapfst_Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:429"><span class="id" title="variable">f</span></a> <span class="id" title="var">rest</span>) (<a class="idref" href="Tealeaves.Data.Product.html#map_snd"><span class="id" title="definition">map_snd</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:429"><span class="id" title="variable">f</span></a> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.functoriality_Batch_DTM"><span class="id" title="section">functoriality_Batch_DTM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab289"></a><h1 class="section">The <code>runBatch_DTM</code> operation</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Batch_DTM.runBatch_DTM" class="idref" href="#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:434" class="idref" href="#T:434"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) {<a id="W:435" class="idref" href="#W:435"><span class="id" title="binder">W</span></a> <a id="A:436" class="idref" href="#A:436"><span class="id" title="binder">A</span></a> <a id="B:437" class="idref" href="#B:437"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="F:438" class="idref" href="#F:438"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H:439" class="idref" href="#H:439"><span class="id" title="binder">Fmap</span></a> <a id="H:439" class="idref" href="#H:439"><span class="id" title="binder">F</span></a>} `{<a id="H0:440" class="idref" href="#H0:440"><span class="id" title="binder">Mult</span></a> <a id="H0:440" class="idref" href="#H0:440"><span class="id" title="binder">F</span></a>} `{<a id="H1:441" class="idref" href="#H1:441"><span class="id" title="binder">Pure</span></a> <a id="H1:441" class="idref" href="#H1:441"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="22fd7be609f2e652da5e86d8920d6eeb" class="idref" href="#22fd7be609f2e652da5e86d8920d6eeb"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#W:435"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:436"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:438"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#T:434"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:437"><span class="id" title="variable">B</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="j:444" class="idref" href="#j:444"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#T:434"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#W:435"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:436"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:437"><span class="id" title="variable">B</span></a> <a id="C:443" class="idref" href="#C:443"><span class="id" title="binder">C</span></a>) : <a class="idref" href="Tealeaves.Functors.Batch.html#F:438"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:443"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tealeaves.Functors.Batch.html#j:444"><span class="id" title="variable">j</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:438"><span class="id" title="variable">F</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Step"><span class="id" title="constructor">Step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rest</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">w</span> <span class="id" title="var">a</span>) =&gt; <a class="idref" href="Tealeaves.Functors.Batch.html#runBatch_DTM:445"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#T:434"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:438"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#22fd7be609f2e652da5e86d8920d6eeb"><span class="id" title="variable">ϕ</span></a> <span class="id" title="var">rest</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#22fd7be609f2e652da5e86d8920d6eeb"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Batch_DTM.runBatch_DTM_rw" class="idref" href="#Batch_DTM.runBatch_DTM_rw"><span class="id" title="section">runBatch_DTM_rw</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:447" class="idref" href="#T:447"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:448" class="idref" href="#A:448"><span class="id" title="binder">A</span></a> <a id="B:449" class="idref" href="#B:449"><span class="id" title="binder">B</span></a> <a id="C:450" class="idref" href="#C:450"><span class="id" title="binder">C</span></a> <a id="W:451" class="idref" href="#W:451"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:456" class="idref" href="#H2:456"><span class="id" title="binder">Applicative</span></a> <a id="H2:456" class="idref" href="#H2:456"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:457" class="idref" href="#f:457"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#W:451"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:448"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:452"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:449"><span class="id" title="variable">B</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.runBatch_DTM_rw1" class="idref" href="#Batch_DTM.runBatch_DTM_rw1"><span class="id" title="lemma">runBatch_DTM_rw1</span></a> (<a id="c:458" class="idref" href="#c:458"><span class="id" title="binder">c</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Done"><span class="id" title="constructor">Done</span></a> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Batch.html#c:458"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#c:458"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.runBatch_DTM_rw2" class="idref" href="#Batch_DTM.runBatch_DTM_rw2"><span class="id" title="lemma">runBatch_DTM_rw2</span></a> (<a id="w:459" class="idref" href="#w:459"><span class="id" title="binder">w</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.W"><span class="id" title="variable">W</span></a>) (<a id="a:460" class="idref" href="#a:460"><span class="id" title="binder">a</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.A"><span class="id" title="variable">A</span></a>) (<a id="rest:461" class="idref" href="#rest:461"><span class="id" title="binder">rest</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.C"><span class="id" title="variable">C</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#rest:461"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#1275801aae213ea1dcad4d3c2a520157"><span class="id" title="notation">⧆2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w:459"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:460"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#rest:461"><span class="id" title="variable">rest</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#0c61d814eb957f5c7288668d24a48d19"><span class="id" title="notation">&lt;⋆&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tealeaves.Functors.Batch.html#w:459"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#a:460"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw"><span class="id" title="section">runBatch_DTM_rw</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab290"></a><h2 class="section">Naturality of of <code>runBatch_DTM</code></h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Batch_DTM.runBatch_DTM_naturality" class="idref" href="#Batch_DTM.runBatch_DTM_naturality"><span class="id" title="section">runBatch_DTM_naturality</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:462" class="idref" href="#T:462"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:467" class="idref" href="#H2:467"><span class="id" title="binder">Applicative</span></a> <a id="H2:467" class="idref" href="#H2:467"><span class="id" title="binder">F</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:468" class="idref" href="#A:468"><span class="id" title="binder">A</span></a> <a id="B:469" class="idref" href="#B:469"><span class="id" title="binder">B</span></a> <a id="C:470" class="idref" href="#C:470"><span class="id" title="binder">C</span></a> <a id="D:471" class="idref" href="#D:471"><span class="id" title="binder">D</span></a> <a id="W:472" class="idref" href="#W:472"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H6:476" class="idref" href="#H6:476"><span class="id" title="binder">Applicative</span></a> <a id="H6:476" class="idref" href="#H6:476"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="337cb361a552b94d3ae6d648dc11b8b1" class="idref" href="#337cb361a552b94d3ae6d648dc11b8b1"><span class="id" title="binder">ϕ</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#W:472"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:468"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.F"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:469"><span class="id" title="variable">B</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.natural_runBatch_DTM" class="idref" href="#Batch_DTM.natural_runBatch_DTM"><span class="id" title="lemma">natural_runBatch_DTM</span></a> (<a id="f:478" class="idref" href="#f:478"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.D"><span class="id" title="variable">D</span></a>) (<a id="j:479" class="idref" href="#j:479"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:478"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#4c0926038f33f08ce9a1be65e31f0c43"><span class="id" title="variable">ϕ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:479"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#4c0926038f33f08ce9a1be65e31f0c43"><span class="id" title="variable">ϕ</span></a> (<a class="idref" href="Tealeaves.Classes.Functor.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#f:478"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:479"><span class="id" title="variable">j</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.D"><span class="id" title="variable">D</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_pure_natural"><span class="id" title="method">app_pure_natural</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#fmap_ap"><span class="id" title="lemma">fmap_ap</span></a>. <span class="id" title="var">fequal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_naturality"><span class="id" title="section">runBatch_DTM_naturality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab291"></a><h2 class="section"><code>runBatch_DTM</code> is an applicative morphism</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Batch_DTM.runBatch_DTM_morphism" class="idref" href="#Batch_DTM.runBatch_DTM_morphism"><span class="id" title="section">runBatch_DTM_morphism</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:480" class="idref" href="#T:480"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="A:481" class="idref" href="#A:481"><span class="id" title="binder">A</span></a> <a id="B:482" class="idref" href="#B:482"><span class="id" title="binder">B</span></a> <a id="W:483" class="idref" href="#W:483"><span class="id" title="binder">W</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:488" class="idref" href="#H2:488"><span class="id" title="binder">Applicative</span></a> <a id="H2:488" class="idref" href="#H2:488"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:489" class="idref" href="#f:489"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#W:483"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:481"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:484"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#T:480"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:482"><span class="id" title="variable">B</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.appmor_pure_runBatch_DTM" class="idref" href="#Batch_DTM.appmor_pure_runBatch_DTM"><span class="id" title="lemma">appmor_pure_runBatch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="C:490" class="idref" href="#C:490"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>) (<a id="c:491" class="idref" href="#c:491"><span class="id" title="binder">c</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#C:490"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#c:491"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#pure"><span class="id" title="definition">pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#c:491"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.appmor_mult_runBatch_DTM" class="idref" href="#Batch_DTM.appmor_mult_runBatch_DTM"><span class="id" title="lemma">appmor_mult_runBatch_DTM</span></a> : <span class="id" title="keyword">forall</span> (<a id="C:492" class="idref" href="#C:492"><span class="id" title="binder">C</span></a> <a id="D:493" class="idref" href="#D:493"><span class="id" title="binder">D</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:494" class="idref" href="#x:494"><span class="id" title="binder">x</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#C:492"><span class="id" title="variable">C</span></a>) (<a id="y:495" class="idref" href="#y:495"><span class="id" title="binder">y</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#D:493"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#x:494"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:495"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#x:494"><span class="id" title="variable">x</span></a> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>  <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#y:495"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM_rw2"><span class="id" title="lemma">mult_Batch_DTM_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw1"><span class="id" title="lemma">runBatch_DTM_rw1</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#triangle_4"><span class="id" title="lemma">triangle_4</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.natural_runBatch_DTM"><span class="id" title="lemma">natural_runBatch_DTM</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_rw2"><span class="id" title="lemma">runBatch_DTM_rw2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_mult_natural_r"><span class="id" title="lemma">app_mult_natural_r</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_assoc"><span class="id" title="method">app_assoc</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHy</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#ap"><span class="id" title="definition">ap</span></a>. <span class="id" title="tactic">change</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.mult_Batch_DTM"><span class="id" title="definition">mult_Batch_DTM</span></a> ?<span class="id" title="var">jx</span> ?<span class="id" title="var">jy</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">jx</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">jy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.natural_runBatch_DTM"><span class="id" title="lemma">natural_runBatch_DTM</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#app_mult_natural_l"><span class="id" title="lemma">app_mult_natural_l</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">compose</span> <span class="id" title="var">near</span> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> (<span class="id" title="var">x</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <span class="id" title="var">y</span>) <a class="idref" href="Tealeaves.Classes.Applicative.html#f5015ba7e0151d291e623026bdca0ae5"><span class="id" title="notation">⊗</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">on</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Functor.html#fun_fmap_fmap"><span class="id" title="method">fun_fmap_fmap</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a>). <span class="id" title="var">fequal</span>. <span class="id" title="var">now</span> <span class="id" title="var">ext</span> [[? ?] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Batch_DTM.Morphism_store_fold" class="idref" href="#Batch_DTM.Morphism_store_fold"><span class="id" title="instance">Morphism_store_fold</span></a>: <a class="idref" href="Tealeaves.Classes.Applicative.html#ApplicativeMorphism"><span class="id" title="class">ApplicativeMorphism</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.natural_runBatch_DTM"><span class="id" title="lemma">natural_runBatch_DTM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.appmor_mult_runBatch_DTM"><span class="id" title="lemma">appmor_mult_runBatch_DTM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism"><span class="id" title="section">runBatch_DTM_morphism</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab292"></a><h2 class="section"><code>runBatch_DTM</code> commutes with applicative morphisms</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Batch_DTM.runBatch_DTM_morphism" class="idref" href="#Batch_DTM.runBatch_DTM_morphism"><span class="id" title="section">runBatch_DTM_morphism</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T:496" class="idref" href="#T:496"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="W:497" class="idref" href="#W:497"><span class="id" title="binder">W</span></a> <a id="A:498" class="idref" href="#A:498"><span class="id" title="binder">A</span></a> <a id="B:499" class="idref" href="#B:499"><span class="id" title="binder">B</span></a> <a id="C:500" class="idref" href="#C:500"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H2:505" class="idref" href="#H2:505"><span class="id" title="binder">Applicative</span></a> <a id="H2:505" class="idref" href="#H2:505"><span class="id" title="binder">F</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="H6:510" class="idref" href="#H6:510"><span class="id" title="binder">Applicative</span></a> <a id="H6:510" class="idref" href="#H6:510"><span class="id" title="binder">G</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="ApplicativeMorphism0:512" class="idref" href="#ApplicativeMorphism0:512"><span class="id" title="binder">!</span></a> <a id="ApplicativeMorphism0:512" class="idref" href="#ApplicativeMorphism0:512"><span class="id" title="binder">ApplicativeMorphism</span></a> <a id="ApplicativeMorphism0:512" class="idref" href="#ApplicativeMorphism0:512"><span class="id" title="binder">F</span></a> <a id="ApplicativeMorphism0:512" class="idref" href="#ApplicativeMorphism0:512"><span class="id" title="binder">G</span></a> <a id="ApplicativeMorphism0:512" class="idref" href="#ApplicativeMorphism0:512"><span class="id" title="binder">ψ</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:513" class="idref" href="#f:513"><span class="id" title="binder">f</span></a> : <a class="idref" href="Tealeaves.Functors.Batch.html#W:497"><span class="id" title="variable">W</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#A:498"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#F:501"><span class="id" title="variable">F</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#T:496"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#B:499"><span class="id" title="variable">B</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Batch_DTM.runBatch_DTM_morphism" class="idref" href="#Batch_DTM.runBatch_DTM_morphism"><span class="id" title="lemma">runBatch_DTM_morphism</span></a> `(<a id="j:514" class="idref" href="#j:514"><span class="id" title="binder">j</span></a> : @<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.Batch_DTM"><span class="id" title="inductive">Batch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.W"><span class="id" title="variable">W</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="Tealeaves.Functors.Batch.html#8b5723f0eeedcc7a2e0a6d773a013271"><span class="id" title="variable">ψ</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.C"><span class="id" title="variable">C</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#j:514"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.16.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM"><span class="id" title="definition">runBatch_DTM</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.G"><span class="id" title="variable">G</span></a> (@<a class="idref" href="Tealeaves.Functors.Batch.html#8b5723f0eeedcc7a2e0a6d773a013271"><span class="id" title="variable">ψ</span></a> (<a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.T"><span class="id" title="variable">T</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Tealeaves.Prelude.html#c90061783c20674b3a3a6b46d343da03"><span class="id" title="notation">∘</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.f"><span class="id" title="variable">f</span></a>) <a class="idref" href="Tealeaves.Functors.Batch.html#j:514"><span class="id" title="variable">j</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Tealeaves.Classes.Applicative.html#appmor_pure"><span class="id" title="method">appmor_pure</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.F"><span class="id" title="variable">F</span></a> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism.G"><span class="id" title="variable">G</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Tealeaves.Classes.Applicative.html#ap_morphism_1"><span class="id" title="lemma">ap_morphism_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM.runBatch_DTM_morphism"><span class="id" title="section">runBatch_DTM_morphism</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tealeaves.Functors.Batch.html#Batch_DTM"><span class="id" title="module">Batch_DTM</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
